/* ==UserStyle==
@name           github.com - shrinkable
@namespace      USO Archive
@author         bernstein
@description    `<p>horizontally shrinkable to 600px!</p><p><b>Only tested on Firefox 21 on OSX!</b></p><p>Other styles from user 142430.</p>`
@version        20130131.8.48
@license        NO-REDISTRIBUTION
@preprocessor   uso
==/UserStyle== */
/*@namespace url(http://www.w3.org/1999/xhtml);
@namespace svg url(http://www.w3.org/2000/svg);*/

@-moz-document domain(github.com) 
{
    @-moz-document regexp(".*/(adblbestsellers|mc|justadded|newreleases|nytbs|search).*"){}
    
    html, body { min-width: 600px !important; }
    
    @media all and (max-width: 960px)
    {
        .container, #ajax-error-message, #slider .frames .frame { width: auto !important; max-width: 920px; }
        .new-repo-container, .empty-repo { max-width: 700px; width: auto !important; }
        .profilecols, .hentry, .new-repo-container, #site-container { margin: 0 5px !important; }
        /* header */
        .header-logo-blacktocat { margin-left: 0 !important; }
        /* profile page */
        .page-profile .profilecols .last { width: calc(100% - 228px) !important; }
        #calendar-graph { width: 100% !important; } /* TODO how to properly resize this svg */
        .popular-repos { overflow:hidden; }
        .popular-repos .col { width: calc((100% - 20px) * 0.5) !important; display: block !important; float: left; }
        .popular-repos .capped-box { width: 100% !important; }
        /* repo */
        .pagehead .container > ul.tabs a { white-space: nowrap; }
        #slider .frames { width: auto !important; }
        #slider .frames .frame { margin-right: 0 !important; float: none !important; }
        #repo_details .url-field { width: calc(100% - 520px) !important; }
        .empty-repo .url-box { width: calc(100% - 150px) !important; }
        .empty-repo input.url-field { width: calc(100% - 140px) !important; }
        /* profile page */
        .tabnav-tab { padding: 8px 10px !important; }
        .page-profile .profilecols .last { width: calc(100% - 238px) !important; }
        /* adv search */
        #adv_code_search .search-page-label, #code_search .commandbar, #code_search input { width: calc(100% - 330px) !important; }
        #code_search .commandbar #command-bar { width: 100% !important; }
        /* pull requests & issues */
        .columns.browser .sidebar, .columns.sidebar { border-width: 0 !important; width: 220px !important; }
        .columns.browser .main, .columns.main { width: calc(100% - 240px) !important; }
        .discussion-timeline { width: calc(100% - 105px) !important; }
        .discussion-timeline-cols .main { width: 100% !important; }
        /* issues > milestones */
        .milestone-progress { width: calc(100% - 220px) !important; }
        /* wiki */
        .singleline input, .outer #gollum-editor-body { width: 100% !important; }
        /* graphs */
        #graph-shots li { width: calc(50% - 10px) !important; }
        /* notifications */
        #notification-center .sidebar { width: 160px !important; }
        #notification-center .main { width: calc(100% - 180px) !important; }
        .column.subscriptions-sidebar { width: 27% !important; }
        .column.subscriptions-content { width: 72% !important; }
        /* account & repo settings */
        #settings-nav, #page-settings .menu-container { width: 180px !important; }
        #settings-nav .usage-bar dd, .htabs .tab-content, .htabs .columns.typical .main { width: 100% !important; }
        .settings-content, .repo-settings-content { width: calc(100% - 195px) !important; }
        /* account settings */
        dl.form > dd input { width: 100% !important; max-width: 400px; }
        dl.form > dd input.short[type="text"] { max-width: 250px; }
        .page-billing { width: 100% !important; }
        /* repo settings */
        #repo-settings { background: none !important; }
        .htabs .columns.typical .add-pill-form input { width: calc(100% - 80px) !important; }
        #generator_description { width: auto !important; }
        .htabs .fieldgroup .fields { border-radius: 5px; border: 1px solid #D8D8D8 !important; background: linear-gradient(to bottom, #F4F4F4, #FCFCFC) !important; }
        /* root > stars */
        #star-repo-search { width: calc(100% - 340px) !important; max-width: 280px; }
        /* news */
        #dashboard .news { width: calc(100% - 345px) !important; }
        /* gist */
        .search-results-listing, .gist .column, .container > .column/*TODO may break others...*/ { width: calc(100% - 165px) !important; }
        .search-results-listing .creator, .search-results-listing .description { width: auto !important; }
        /* explore */
        .explore .main { width: calc(100% - 360px) !important; }
        .explore .description { width: auto !important; }
        .explore h2.trending-heading .times { margin-left: -30px !important; }
        .explore .sidebar { width: 350px !important; }
        /* help */
        #com #header div.clearfix, #com #content-wrapper .site { width: auto !important; max-width: 660px; }
        #com .markdown-format img { max-width: calc(100% - 5px) !important; }
    }
    @media all and (max-width: 880px)
    {   /* repo settings */
        #hooks_bucket .sidebar { margin: 160px 0 0 -190px !important; }
    }
    @media all and (max-width: 800px)
    {   /* searchbar */
        .command-bar-activated { width: calc(100% - 94px - 192px); }
        .command-bar-activated .top-nav { right: 0 !important; left: auto !important; }
        .command_bar_form { width: calc(100% - 240px) !important; }
        .command-bar-focus > form { width: calc(100% - 40px) !important; }
        /* profile page : regexp('github.com/[^/]+') */
        .page-profile .profilecols .first { width: 100% !important; position: relative; }
        .page-profile .profilecols .first * {  }
        .page-profile .avatared img { width: 100px !important; height: 100px !important; }
        .page-profile .avatared > * { float: left; margin: 0 5px !important; }
        .page-profile .avatared > h1 { width: calc(100% - 112px - 217px - 30px) !important; }
        .page-profile .avatared .details { height: 87px !important; padding: 15px 0 !important; border-width: 0 !important; }
        .page-profile .avatared + .stats { position: absolute; bottom: 5px; left: 127px; padding: 6px 0 0 !important; margin: 0 !important; border-top: 1px solid rgb(221, 221, 221) !important; border-bottom: none !important; }
        .page-profile .first .orgs { position: absolute; bottom: 0px; left: calc(100% - 222px); margin-bottom: -14px !important;  }
        .page-profile .first .orgs h3 { display: none; }
        .page-profile .profilecols .last { width: calc(100% - 10px) !important; }
        /* repo */
        #repo_details .url-field:hover { width: calc(100% - 390px) !important; }
        #repo_details .url-field:hover ~ * { display: none; }
        /* commits */
        #facebox .content.shortcuts { width: 580px !important; }
        /* network */
        canvas { /* TODO how to resize a canvas... */ }
        /* gist */
        a[href*=gist] ~ .topsearch { width: calc(100% - 290px) !important; }
        a[href*=gist] ~ .topsearch .top-nav { left: auto !important; right: 0 !important; width: auto !important; }
        a[href*=gist] ~ .topsearch #top_search_form { width: calc(100% - 120px) !important; }
    }
    @media all and (max-width: 750px)
    {   /* commits (breaks pullIssues>commits) */
/*        .commit .message { display: inline-block; width: calc(100% - 180px); overflow: hidden; text-overflow: ellipsis; white-space: nowrap; margin-bottom: -7px !important; }*/
    }
    @media all and (max-width: 720px)
    {   /* pull requests & issues */
        .columns.browser .sidebar, .columns.sidebar { width: 155px !important; padding-right: 5px !important; }
        .columns.browser .sidebar label { white-space: nowrap; }
        .columns.browser .main, .columns.main { width: calc(100% - 160px) !important; }
        /* news */
        #dashboard .news { width: calc(100% - 300px) !important; }
        #dashboard .dashboard-sidebar { width: 290px !important; }
        /* gist */
        .gist .tabnav-right { width: calc(100% - 160px) !important; margin-top: -10px !important; }
    }
    @media all and (max-width: 635px)
    {   /* issues > milestones */
        .milestone-progress { width: calc(100% - 190px) !important; }
    }
}