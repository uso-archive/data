/* ==UserStyle==
@name           Rally Dark Theme
@namespace      USO Archive
@author         steeltomato
@description    `Dark Theme for CA Technologies' Rally AgileThis theme is a work-in-progress for the new Rally theme based on Bootstrap`
@version        2020910.16.53
@license        CC0-1.0
@preprocessor   uso

==/UserStyle== */

@-moz-document domain("rallydev.com") {
/* Global */
#main, #main #content {
    background-color:#111;
}
::-webkit-scrollbar {
  width: 1em;
}
::-webkit-scrollbar-track {
  box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);
}
::-webkit-scrollbar-thumb {
  background-color: darkgrey;
  outline: 1px solid slategrey;
}

/* Header */
.alm-header-container {
    background-color: #112;
    border-bottom: solid 1px #444;
}
#main .chr-NavBar .chr-NavSection,
#main .chr-NavBar-alt .chr-NavSection,
#main .project-picker .project-nav-container .project-nav-label {
    color: #aaa;
}
#main .chr-NavDropMenu {
    background-color: #112;
}
#main .chr-NavDropMenu .chr-NavDropMenu-item .chr-NavDropMenu-itemContent>span {
    color: #ddd;
}
#main .chr-NavBar .chr-NavSection.is-selected>div:first-child,
#main .chr-NavBar-alt .chr-NavSection.is-selected>div:first-child,
#main .chr-NavBar .chr-NavSection.is-selected,
#main .chr-NavBar-alt .chr-NavSection.is-selected
{
    background-color: #223;
    color: #3272d9;
}
#main .chr-StatsBanner-panels, #main .chr-StatsBanner-toggle, #main .chr-StatsBannerProgressPanel, #main .chr-StatsBannerItemCountPanel, #main .chr-StatsBanner-launchChartsPanel {
    background-color: #223;
    border-color: #000;
}
#main .chr-StatsBannerProgressPanel-title, #main .chr-StatsBannerItemCountPanel-title {
    color: #aaa;
}

/* Footer */
#main .chr-Footer {
    background-color: #112;
    color: #aaa;
}

/* Main Area */
#main .chr-Page, 
#main .chr-PlanTeamPage,
#main .chr-BacklogPage,
#main .chr-ToolbarDefaultToolbar {
    background-color: #111;
    padding-top: 0rem;
}
#main .chr-PlanTeamPage>.smb-Header {
    border-bottom: 1px solid #444;
    padding-bottom: 0.5rem;
}
#main #viewport .smb-PanelHeader {
    padding: 0;
}
#main #viewport .smb-PanelBody {
    padding-top: 0;
}
#main .chr-PlanTeamPage .chr-PlanTeamPage-columnDivider {
    background-color: #444;
}
#main .smb-HeaderGroup-title{
    color: #aaa;
}
#main .chr-PlanTeamPage .chr-PlanTeamBacklog .smb-PanelHeader .smb-HeaderGroup-title,
#main .chr-PlanTeamPage .chr-PlanTeamIterationsPanel .smb-PanelHeader .smb-HeaderGroup-title {
    color: #999;
}
#main .chr-Tray {
    background-color: #223;
    border-color: #444;
}
#main .smb-Panel {
    border-bottom-color: #555 !important;
}
#main .smb-PanelHeader,
#main .chr-FullDetailPage {
    color: #ddd;
    background-color: #111 !important;
    border-color: #555 !important;
}

/* Tables */
#main .smb-DataTable,
#main .smb-TableHeaderCell,
#main .smb-TableCell,
#main .chr-PlanTeamBacklog .chr-PlanTeamBacklogDataTable-grouped>.smb-DataTable-wrapper>.smb-DataTable>.smb-TableBody>.smb-TableRow,
#main .smb-TableRow,
#main .smb-Pagination,
#main .chr-PlanTeamIterationsDataTable .smb-TableRowDragDropWrapper.is-groupByRow,
#main .chr-RollupRow-cell {
    color: #bbb;
    background-color: #1f1f29;
}
#main #viewport .smb-TableCell {
    padding: 0rem 0.4rem;
}
#main .smb-DataTableTableHeaderCellDragLayer .smb-DataTableTableHeaderCellDragLayer-content .smb-TableHeaderCell-sortIcon, #main .smb-DataTableTableHeaderCellDragLayer .smb-TableHeaderCell-content .smb-TableHeaderCell-sortIcon, #main .smb-TableHeaderCell .smb-DataTableTableHeaderCellDragLayer-content .smb-TableHeaderCell-sortIcon, #main .smb-TableHeaderCell .smb-TableHeaderCell-content .smb-TableHeaderCell-sortIcon,#main .smb-TableCell.smb-TableCell--rowActions,
#main .chr-PlanTeamIterationsPanel .smb-PanelBody>.smb-DataTable-wrapper>.smb-DataTable tbody tr.is-groupByRow>td, #main .chr-PlanTeamIterationsPanel .smb-PanelBody>.smb-DataTable-wrapper>.smb-DataTable tbody tr.is-groupByRow>th {
    background-color: #1f1f29;
}
#main .smb-SvgIcon--gear, #main .smb-SvgIcon--help, #main .smb-SvgIcon--feedback {
    color: #999;
}
#main .smb-DataTable:not(.personalized-nav) .smb-Cutline:first-child .smb-TableCell, #main .smb-DataTable:not(.personalized-nav) .smb-TableRow:not(.is-groupByRow):first-child .smb-TableCell,
#main .smb-TableCell,
#main .chr-PlanTeamIterationsDataTable .smb-TableRowDragDropWrapper.is-groupByRow .smb-TableCell {
    border-top: 3px solid #112;
}

#main .chr-PlanTeamIterationsPanel .smb-PanelBody>.smb-DataTable-wrapper>.smb-DataTable>thead th,
#main .chr-PlanTeamIterationsDataTable>thead .smb-TableHeaderCell .smb-TableHeaderCell-content {
    background-color: #335;
    color: #ddd;
}

#main .smb-DataTableTableHeaderCellDragLayer, #main .smb-TableHeaderCell {
    border-bottom: 2px solid #555;
}

#main .smb-DataTableTableHeaderCellDragLayer .smb-TableHeaderCell-colResizer, #main .smb-TableHeaderCell .smb-TableHeaderCell-colResizer,
#main .smb-DataTableTableHeaderCellDragLayer.is-resizing .smb-TableHeaderCell-colResizer, #main .smb-TableHeaderCell.is-resizing .smb-TableHeaderCell-colResizer {
    background-color: #555;
}

#main .smb-DataTableTableHeaderCellDragLayer.is-resizing, #main .smb-TableHeaderCell.is-resizing {
    background-color: #445;
}

#main .smb-ChildPager-displayText {
    color: #ddd;
    margin-right: 10px;
}

/* New Item Side Panel */
.smb-ResizableDrawer {
    color: #ddd !important;
    background-color: #111 !important;
}
.smb-ResizableDrawer-draggableLeft {
    background-color: #222 !important;
}
.smb-TextInput, .smb-TextInput input {
    background-color: #555 !important;
    color: #ddd !important;
}

/* Team Board */
#main .chr-BoardRow {
    background-color: #111;
}
#main .chr-BoardWithToolbar-wrapper .chr-BoardWithToolbar-column,
#main .chr-BoardWithToolbar-wrapper .chr-BoardWithToolbar-columnHeader,
#main .chr-TeamBoardSettingsColumn {
    background-color: #223;
}
#main .chr-BoardTitle {
    color: #ddd !important;
}
#main .chr-BoardWipLimit {
    color: #aaa !important;
}
#main .chr-BoardCard {
    background-color: #112;
    box-shadow: 0 2px 3px 0 rgba(0,0,0,0.4), 0 0 0 1px #555;
}
#main .smb-FieldLabel-text,
#main .chr-BoardField {
    color: #ddd;
}
#main .chr-RenderersUser .chr-RenderersUser-ownedBy {
    color: #ccc;
}
#main .chr-RenderersUser .chr-RenderersUser-name {
    color: #aaa;
}

/* Story Page */
#main .chr-QuickDetailEntityHeader .chr-QuickDetailFormattedId-panelTitle {
    color: #ddd;
}

/* Misc UI Widgets */
#main .smb-Popover,
#main .smb-Popover-arrow {
    background-color: #223 !important;
}
#main .smb-Popover-header .smb-Popover-title {
    color: #ddd;
}

#main .smb-Button--success,
#main .smb-Button--failure,
#main .smb-Select-trigger,
#main .smb-Button--secondary {
    color: #ddd !important; /* fixes hover */
    background-color: #444 !important;
}
#main .smb-Button--success,
#main .smb-Button--failure,
#main .smb-Button--secondary,
#main .smb-Select-trigger,
#main .smb-SearchInput.smb-TextInput,
#main .smb-Button.is-disabled {
    border-color: #555;
}
#main .smb-Button--success.is-active {
    background-color: #005700 !important;
}
#main .smb-Button--failure.is-active {
    background-color: #790000 !important;
}
#main .smb-Button.is-disabled {
    background-color: #292929 !important;
}
#main .smb-ButtonGroup>.smb-Button, #main .smb-ButtonGroup .smb-PopoverTrigger .smb-Button {
    background-color: #292929;
    border: 0.1rem solid #555;
}
.smb-DropdownHeader,
.smb-DropdownHeader-text,
.smb-Select-text,
.smb-DropdownItem,
.smb-DropdownItem-text {
    color: #ddd !important;
}
.smb-Select-trigger {
    border: 1px solid #555 !important;
}

#main .chr-EditorsWorkItemEditor,
#main .chr-EditorsMultiItemEditor,
#main .smb-TextInput {
    color: #bbb !important;
    background-color: #444 !important;
    border-color: #555 !important;
}
#main .smb-CapacityBar {
    background-color: #444;
}

#main .chr-TableCellStateBlocks-stateBlock--before {
    background-color: #447;
}
#main .chr-TableCellStateBlocks-stateBlock--after {
    color: #ddd;
    background-color: #444;
}
#main .chr-TableCellStateBlocks-stateBlock--current {
    color: #ddd;
    background-color: #2929c4
}
#main .chr-TableCellStateBlocks-stateBlock--current.is-blocked {
    background-color: #c00;
}

#main .smb-Dropdown .smb-Select-trigger,
#main .smb-DropdownList-listContentWrapper,
#main .smb-DropdownItem {
    color: #ddd;
    background-color: #555;
}
/* TODO: .smb-Select:not(.is-disabled):not(.is-readOnly):focus */
#main .smb-DropdownItem.is-selected {
    background-color: #777;
}

#main .is-disabled.smb-TextArea, #main [disabled].smb-TextArea {
    color: #444;
}

/* Text Editor */
.cke_top,
.cke_wysiwyg_frame, 
.cke_wysiwyg_div {
    background-color: #bbb !important;
}
}