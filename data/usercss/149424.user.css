/* ==UserStyle==
@name         Chimera JIRA
@namespace    USO Archive
@author       John Colosi
@description  The goal of this style is to make Notes, Labels, and Milestones more prominent visually.
@version      20230206.17.57
@license      CC0-1.0
@preprocessor uso
==/UserStyle== */
/* ==UserStyle==
@name           Chimera Jira
@namespace      johncolosi.com
@version        2023.2.6
@description    A userscript to improve the look and feel of Jira pages
@author         John Colosi
==/UserStyle== */

@-moz-document url-prefix("http://jira"), url-prefix("https://jira")
{
  :root {
    /*
     * Other backgrounds
     * https://coolors.co/0061a3-0d507d-23597f-265373-205081-2a67a5-3b73af
     */
    --chimera-theme-blue: #1f547a;
    --chimera-theme-blue-dark: #184362;
    --chimera-theme-blue-lite: #256593;
    --chimera-theme-stakeholder: #0aa;
    --chimera-theme-busted: #d50; /* #f48c06 */
    --chimera-theme-dependency: #d50;
    --chimera-theme-stop: #900;
    --chimera-theme-wait: #fb0;
    --chimera-theme-go: #070;
  }

  /*
    * This is the story id like CORESRS-045
    */
  .jxJiraName {
    color: #fff;
    background-color: var(--chimera-theme-blue);
    border-left: 6px solid var(--chimera-theme-blue);
    border-right: 6px solid var(--chimera-theme-blue);
    border-top: 2px solid var(--chimera-theme-blue);
    border-bottom: 2px solid var(--chimera-theme-blue);
    border-radius: 4px;
    margin-right: 8px !important;
    font-family: monaco, Consolas, Lucida Console, monospace;
    font-weight: bold;
    font-size: 1em;
  }

  /*
   * Remove the priority flag before the story
   */
  .ghx-flags {
    display: none;
  }

  /*
   * Increase the size of the epic color band on the backlog view
   */
  .ghx-classification-group {
    background-color: #fafafa !important;
  }
  .ghx-classification-item {
    border-right-width: 10px !important;
    margin-bottom: 2px !important;
    border-bottom: none !important;
  }

  /*
   * Desc:   Fixes after Jira upgrade
   * Author: Colosi
   * Update: 7/30/2019
   */
  #ghx-work {
    background-color: var(--chimera-theme-blue) !important;
  }
  #ghx-pool {
    background-color: var(--chimera-theme-blue) !important;
  }
  .ghx-columns {
    padding-top: 4px !important;
    padding-bottom: 40px !important;
  }

  /* Header background */
  .ghx-column-header-group {
    background-color: var(--chimera-theme-blue) !important;
  }
  /* Header labels */
  .ghx-column {
    background-color: var(--chimera-theme-blue-dark) !important;
    border-bottom-width: 0px !important;
  }
  /* Swimlane header */
  .ghx-swimlane-header {
    top: 47px !important;
    background-color: var(--chimera-theme-blue-lite) !important;
    color: #fff !important;
  }
  .ghx-column-headers {
    padding-top: 8px !important;
    padding-bottom: 8px !important;
  }
  .ghx-column-title {
    font-size: 14px !important;
  }
  .ghx-column.ui-sortable {
    background-color: var(--chimera-theme-blue) !important;
    /*
    background-image: url("https://www.transparenttextures.com/patterns/dark-circles.png") !important;
    background-image: url("https://www.transparenttextures.com/patterns/dark-mosaic.png") !important;
    background-image: url("https://www.transparenttextures.com/patterns/light-wool.png") !important;
    background-image: url("https://www.transparenttextures.com/patterns/paven.png") !important;
    background-image: url("https://www.transparenttextures.com/patterns/swirl.png") !important;
    background-image: url("https://www.transparenttextures.com/patterns/wavecut.png") !important;
    */
    background-image: url("https://www.transparenttextures.com/patterns/wavecut.png") !important;
  }
  .ghx-column-title {
    color: #fff !important;
    padding-left: 8px !important;
  }
  .ghx-qty h6 {
    color: #fff !important;
  }
  .ghx-constraint.ghx-busted {
    background-color: #fff !important;
    color: var(--chimera-theme-busted) !important;
    border: none !important;
    padding-top: 3px !important;
  }
  .ghx-column.ghx-busted {
    color: #fff !important;
    background-color: var(--chimera-theme-busted) !important;
    border: none !important;
  }
  .ghx-limits {
    padding-right: 8px !important;
  }

  /*
   * Put the story points in the bottom-right of the card in the Active view, not the Backlog view
   */
  .ghx-corner {
    position: absolute;
    right: 4px;
    bottom: 4px;
  }

  /*
   * !!!
   * Jira stopped using the data-tooltip attribute, so there's no good way to style extra fields. And if you add them to the card in Jira, it puts "None" for anything without a value. Maximal wasted space. Jira is such a jerk.
   * !!!
   */

  /*
   * Desc:   Highlight Notes
   * Author: Colosi
   * Update: 10/6/2017
   */
  .ghx-extra-field[data-tooltip^="Notes:"] {
    color: #000;
    background-color: #fb0;
    border-left: 6px solid #fb0;
    border-right: 6px solid #fb0;
    border-top: 2px solid #fb0;
    border-bottom: 2px solid #fb0;
    border-radius: 4px;
    margin-right: 0.4em !important;
  }

  /*
   * Desc:   Highlight Stakeholder Request
   * Author: Colosi
   * Update: 10/6/2017
   */
  .ghx-extra-field[data-tooltip^="Stakeholder Request:"] {
    color: #000;
    background-color: var(--chimera-theme-stakeholder);
    border-left: 6px solid var(--chimera-theme-stakeholder);
    border-right: 6px solid var(--chimera-theme-stakeholder);
    border-top: 2px solid var(--chimera-theme-stakeholder);
    border-bottom: 2px solid var(--chimera-theme-stakeholder);
    border-radius: 4px;
    margin-right: 0.4em !important;
  }

  /*
   * Desc:   Highlight Labels
   * Author: Colosi
   * Update: 10/6/2017
   */
  .ghx-extra-field[data-tooltip^="Labels:"] {
    color: #000;
    background-color: #0bf;
    border-left: 6px solid #0bf;
    border-right: 6px solid #0bf;
    border-top: 2px solid #0bf;
    border-bottom: 2px solid #0bf;
    border-radius: 4px;
    margin-right: 0.4em !important;
  }

  /*
   * Desc:   Highlight Components
   * Author: Colosi
   * Update: 10/6/2017
   */
  .ghx-extra-field[data-tooltip^="Component/s:"] {
    color: #000;
    background-color: #4b0;
    border-left: 6px solid #4b0;
    border-right: 6px solid #4b0;
    border-top: 2px solid #4b0;
    border-bottom: 2px solid #4b0;
    border-radius: 4px;
    margin-right: 0.4em !important;
  }

  /*
   * Desc:   Highlight swimlane headers
   * Author: Colosi
   * Update: 10/6/2017
   */
  .ghx-heading span[role="button"] {
    color: var(--chimera-theme-blue);
    background-color: #fff;
    border-left: 6px solid #fff;
    border-right: 6px solid #fff;
    border-top: 2px solid #fff;
    border-bottom: 2px solid #fff;
    border-radius: 4px;
  }

  /*
   * Desc:   Highlight Milestones
   * Author: Colosi
   * Update: 10/10/2017
   */
  .ghx-summary[title^="Milestone"] .ghx-inner {
    color: #fb0;
    background-color: #000;
    border-left: 6px solid #000;
    border-right: 6px solid #000;
    border-top: 2px solid #000;
    border-bottom: 2px solid #000;
    border-radius: 4px;
  }

  /*
   * Desc:   Highlight Unplanned Work
   * Author: Colosi
   * Update: 1/18/2018
   */
  .ghx-summary[title^="UW"] .ghx-inner {
    color: #fff;
    background-color: #f04;
    border-left: 6px solid #f04;
    border-right: 6px solid #f04;
    border-top: 2px solid #f04;
    border-bottom: 2px solid #f04;
    border-radius: 4px;
  }

  /*
   * Desc:   Highlight Demos
   * Author: Colosi
   * Update: 6/28/2018
   */
  .ghx-summary[title^="DEMO:"] .ghx-inner,
  .ghx-summary[title^="Demo "] .ghx-inner {
    color: #fff;
    background-color: #10f;
    border-left: 6px solid #10f;
    border-right: 6px solid #10f;
    border-top: 2px solid #10f;
    border-bottom: 2px solid #10f;
    border-radius: 4px;
  }

  /*
   * Desc:   Highlight CAPS work
   * Author: Colosi
   * Update: 1/18/2018
   */
  .ghx-summary[title^="CAPS"] .ghx-inner {
    color: #fff;
    background-color: #408;
    border-left: 6px solid #408;
    border-right: 6px solid #408;
    border-top: 2px solid #408;
    border-bottom: 2px solid #408;
    border-radius: 4px;
  }

  /*
   * Desc:   Highlight GOAL work
   * Author: Colosi
   * Update: 6/3/2019
   */
  .ghx-summary[title^="GOAL"] .ghx-inner,
  .ghx-summary[title^="Goal"] .ghx-inner {
    color: #fff;
    background-color: #804;
    border-left: 6px solid #804;
    border-right: 6px solid #804;
    border-top: 2px solid #804;
    border-bottom: 2px solid #804;
    border-radius: 4px;
  }

  /*
   * Desc:   Highlight EXTERNAL work
   * Author: Colosi
   * Update: 6/3/2019
   */
  .ghx-summary[title^="DEPENDENCY"] .ghx-inner,
  .ghx-summary[title^="Dependency"] .ghx-inner {
    color: #fff;
    background-color: var(--chimera-theme-dependency);
    border-left: 6px solid var(--chimera-theme-dependency);
    border-right: 6px solid var(--chimera-theme-dependency);
    border-top: 2px solid var(--chimera-theme-dependency);
    border-bottom: 2px solid var(--chimera-theme-dependency);
    border-radius: 4px;
  }

  /*
   * Desc:   Highlight Support
   * Author: Colosi
   * Update: 1/18/2018
   */
  .ghx-summary[title^="Production"] .ghx-inner {
    color: #fff;
    background-color: #080;
    border-left: 6px solid #080;
    border-right: 6px solid #080;
    border-top: 2px solid #080;
    border-bottom: 2px solid #080;
    border-radius: 4px;
  }

  /*
   * Create Button
   */
  .create-issue {
    background-color: var(--chimera-theme-blue) !important;
    color: #fff !important;
    margin-right: 7px !important;
  }
  .create-issue:hover {
    background-color: var(--chimera-theme-blue-lite) !important;
  }

  /*
   * Desc:   EMPTY extra fields (like Notes) are hidden
   * Author: Colosi
   * Update: 10/6/2017
   */
  .ghx-extra-field[data-tooltip$=": None"] {
    display: none !important;
  }
  .ghx-avatar-img[data-tooltip$=": Unassigned"] {
    /*display:none !important;*/
    visibility: hidden !important;
  }

  /*
   * Desc:   Don't show the field separator
   * Author: Colosi
   * Update: 11/12/2017
   */
  .ghx-extra-field-seperator {
    display: none !important;
  }

  /*
   * Desc:   Quickfilter buttons at the top
   * Author: Colosi
   * Update: 10/6/2017
   */
  .js-quickfilter-button {
    color: #000;
    background-color: #fb0;
  }
  .js-quickfilter-button:hover {
    color: #0bf;
  }
  .js-quickfilter-button[title^="assignee"] {
    color: var(--chimera-theme-blue);
    background-color: #fff;
  }
  .js-quickfilter-button[title^="assignee"]:hover {
    color: #0bf;
  }
  .js-quickfilter-button[title^="component"] {
    color: #fff;
    background-color: #4b0;
  }
  .js-quickfilter-button[title^="component"]:hover {
    color: #0bf;
  }
  .js-quickfilter-button[title=""] {
    color: #ccc;
    background-color: #fff;
  }

  /*
   * Desc:   Priority flags are hidden
   * Author: Colosi
   * Update: 10/6/2017
   */
  .ghx-flags {
    visibility: hidden;
  }

  /*
   * Desc:   Type icons are hidden
   * Author: Colosi
   * Update: 10/6/2017
   */
  span.ghx-type {
    display: none;
  }
  div.ghx-type {
    display: none;
  }
  td.ghx-type {
    visibility: hidden;
  }

  /*
   * Desc:   Spacing AROUND stories
   * Author: Colosi
   * Update: 10/6/2017
   */
  .ghx-column {
    padding: 4px !important;
  }

  /*
   * Desc:   Spacing BETWEEN columns
   * Author: Colosi
   * Update: 10/6/2017
   */
  .ghx-columns {
    border-spacing: 16px !important;
  }

  /*
   * Desc:   Headers are *not* textured
   * Author: Colosi
   * Update: 10/10/2017
   */
  .jxls-agile-board-header {
    background-image: none !important;
  }

  /*
   * Desc:   Ensure that epic labels in query results have white text
   * Author: Colosi
   * Update: 3/11/2021
   */
  .aui-label {
    color: #fff !important;
  }

  /*
   * Desc:   Added a scrum timer button
   * Author: Colosi
   * Update: 11/27/2017
   */
  /*
   * Desc:   Added a clock describing the 30 minute scrums (15 minute scrum, 15 minute parking lot)
   * Author: Colosi
   * Update: 3/18/2020
   */
  #jxTimer {
    display: table;
    color: #fff;
    border-radius: 4px;
    border: 1px;
    border-color: #fff;
    border-style: solid;
    position: fixed;
    bottom: 10px;
    right: 100px;
    width: 80px;
    height: 40px;
    z-index: 99;
  }

  #jxTimerText {
    display: table-cell;
    vertical-align: middle;
    font-family: monospace;
    font-weight: bold;
    font-size: 1.5em;
    text-align: center;
  }
  .jxBtnOff {
    background-color: #bbb !important;
  }
  .jxBtnOff:hover {
    border-color: #0bf !important;
    cursor: pointer;
  }
  .jxBtnOn {
    background-color: #fb0 !important;
  }
  .jxBtnOn:hover {
    border-color: #0bf !important;
    cursor: pointer;
  }

  /*
   * Desc:   A clock describing the 30 minute scrum time (15 minute scrum, 15 minute parking lot)
   * Author: Colosi
   * Update: 3/18/2020
   */
  #jxClock {
    display: table;
    color: #fff;
    border-radius: 4px;
    border: 1px;
    border-color: #fff;
    border-style: solid;
    position: fixed;
    bottom: 10px;
    right: 10px;
    width: 80px;
    height: 40px;
    z-index: 100;

    background-color: #000;
    animation-name: ClockCycle;
    animation-timing-function: ease-in-out;
    animation-duration: 1800s;
  }

  #jxClockText {
    display: table-cell;
    vertical-align: middle;
    font-family: monospace;
    font-weight: bold;
    font-size: 1.5em;
    text-align: center;
  }

  #jxClockText:hover {
    cursor: default;
  }

  @keyframes ClockCycle {
    00.00% {
      background-color: #070;
    }
    33.00% {
      background-color: #070;
    }
    33.10% {
      background-color: #fb0;
    }
    46.00% {
      background-color: #fb0;
    }
    46.10% {
      background-color: #900;
    }
    49.00% {
      background-color: #900;
    }
    49.05% {
      background-color: #000;
    }
    49.10% {
      background-color: #900;
    }
    49.15% {
      background-color: #900;
    }
    49.20% {
      background-color: #000;
    }
    49.25% {
      background-color: #900;
    }
    49.30% {
      background-color: #900;
    }
    49.35% {
      background-color: #000;
    }
    49.40% {
      background-color: #900;
    }
    49.45% {
      background-color: #900;
    }
    49.50% {
      background-color: #000;
    }
    49.55% {
      background-color: #900;
    }
    49.60% {
      background-color: #900;
    }
    49.65% {
      background-color: #000;
    }
    49.70% {
      background-color: #900;
    }
    49.75% {
      background-color: #900;
    }
    49.80% {
      background-color: #000;
    }
    49.85% {
      background-color: #900;
    }
    49.90% {
      background-color: #900;
    }
    49.95% {
      background-color: #000;
    }
    50.00% {
      background-color: #000;
    }
    50.10% {
      background-color: #0bf;
    }
    83.00% {
      background-color: #0bf;
    }
    83.10% {
      background-color: #fb0;
    }
    96.00% {
      background-color: #fb0;
    }
    96.10% {
      background-color: #900;
    }
    99.00% {
      background-color: #900;
    }
    99.05% {
      background-color: #000;
    }
    99.10% {
      background-color: #900;
    }
    99.15% {
      background-color: #900;
    }
    99.20% {
      background-color: #000;
    }
    99.25% {
      background-color: #900;
    }
    99.30% {
      background-color: #900;
    }
    99.35% {
      background-color: #000;
    }
    99.40% {
      background-color: #900;
    }
    99.45% {
      background-color: #900;
    }
    99.50% {
      background-color: #000;
    }
    99.55% {
      background-color: #900;
    }
    99.60% {
      background-color: #900;
    }
    99.65% {
      background-color: #000;
    }
    99.70% {
      background-color: #900;
    }
    99.75% {
      background-color: #900;
    }
    99.80% {
      background-color: #000;
    }
    99.85% {
      background-color: #900;
    }
    99.90% {
      background-color: #900;
    }
    99.95% {
      background-color: #000;
    }
    100% {
      background-color: #000;
    }
  }

  /*
   * Desc:   Disable the team button at the upper left
   * Author: Colosi
   */
  .aui-page-header-image {
    pointer-events: none;
    cursor: default;
  }

  /* Remove the label before the quick filters */
  #js-quickfilters-label {
    display: none;
  }

  /* Remove the weird blemish from the swimlane header */
  .ghx-swimlane-header:after {
    content: none;
  }
}