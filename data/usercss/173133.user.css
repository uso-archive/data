/* ==UserStyle==
@name         TeamCity - Altered Carbon
@namespace    USO Archive
@author       Jeff Gauthier
@description  This is for the new teamcity experimental UI, in the 2019 release.  2023 update is for the new interface dropped, text is blurred in both screen shots.  March 16th 2023 a few more tweaks for base colors, adjusting some colors with a single hue    If you can handle hex colors, you can change all the base colors
@version      20230316.19.53
@license      NONE
@preprocessor uso
==/UserStyle== */
@-moz-document url-prefix("http://ikuhlu:8111"), url-prefix("https://ikuhlu.wardjet.com/teamcity"), url-prefix("https://teamcity.ikuhlu.com/") {
:root {
    
    
    --base-hue: 240;
    --base-sat: 30%;
    --base-light: 14%;
    --base-opacity: .75;
    
    /*--darker-color: #222230;*/
    --darker-color: hsl(var(--base-hue), calc(var(--base-sat) - 0%), calc(var(--base-light) - 0%));
    --darker-color2: hsl(var(--base-hue), calc(var(--base-sat) - 42%), calc(var(--base-light) - 32%));
    
    
    /*--dark-color: #333333;*/
    --dark-color: rgba(51,51,71,.75);
    /*--ring-main-color: #008eff;*/
    --ring-main-color: hsl(calc(var(--base-hue) - 35), calc(var(--base-sat) + 40%), calc(var(--base-light) + 12%)) !important;
        
    
    
    --interaction-bg: #3e3e62;
    --light-color: #454545;
    --light-color-mid: #555;
    --light-color-code: #777;
    --lighter-color: #86a6ce;
    --alert-color: #6ca3b1;
    --text-color: #bbb;
    --text-color-light: #ccc;
    --shade-color: rgba(30, 30, 30, 0.8);
    --border-color: rgba(230, 230, 230, 0.2);
    --border-timid-color: rgba(0, 0, 0, 0.5);
    --hover-bg: #234059;
    --ring-dark-selected-background-color: #002a4d;
    
    --error-color: #db5454;
    --success-color: #609559;
    --error-hl-color: #db545455;
    --success-hl-color: #60955955;
    
    --ring-link-color: hsl(207, 80%, 49%);
    --ring-selected-background-color: var(--hover-bg);
    --ring-hover-background-color: var(--hover-bg);
    --ring-border-hover-color: #2e4659;
    --ring-icon-hover-color: var(--ring-border-hover-color);
    --ring-link-hover-color: #ff008c;
    --ring-main-hover-color: #007ee5;
    --ring-unit: 8px;
    --ring-line-color: var( --border-color);
    --ring-dark-line-color: #263b4c;
    --ring-borders-color: var(--lighter-color);
    --ring-icon-color: var(--ring-borders-color);
    --ring-icon-secondary-color: #4d4d4d;
    --ring-border-disabled-color: #371111;
    --ring-icon-disabled-color: var(--ring-border-disabled-color);

    --ring-icon-error-color: #933137;
    --ring-icon-warning-color: #6c4e0b;
    --ring-icon-success-color: #396c43;
    --ring-pale-control-color: #254980;/* hsl(207, 30%, 20%);*/
    --ring-popup-border-components: 0, 42, 76;
    --ring-popup-border-color: rgba(var(--ring-popup-border-components), 0.1);
    --ring-popup-shadow-color: rgba(var(--ring-popup-border-components), 0.15);
    --ring-message-shadow-color: rgba(var(--ring-popup-border-components), 0.3);
    --ring-search-color: #669ecc;
    --ring-hint-color: #406380;
    --ring-error-color: #c22731;
    --ring-warning-color: hsl(calc(var(--base-hue) - 199), calc(var(--base-sat) + 52%), calc(var(--base-light) + 9%)) !important;
    --ring-success-color: #1c8c32;
    --ring-text-color: #1f2326;
    --ring-dark-text-color: #868686;
    --ring-heading-color: var(--ring-text-color);
    --ring-secondary-color: #737577;
    --ring-dark-secondary-color: #888;
    --ring-disabled-color: #999;
    --ring-dark-disabled-color: #444;
    --ring-dark-active-color: #ccc;
    --ring-content-background-color: transparent;
    --ring-popup-background-color: hsl(116, 20%, 26%);
    --ring-sidebar-background-color: #404f57;
    --ring-message-background-color: #111314;
    --ring-navigation-background-color: #000;
    --ring-tag-background-color: #6c7075;
    --ring-code-background-color: var(--ring-content-background-color);
    --ring-code-color: #000;
    --ring-code-comment-color: #808080;
    --ring-code-meta-color: #808000;
    --ring-code-keyword-color: #000080;
    --ring-code-tag-background-color: #515151;
    --ring-code-tag-color: var(--ring-code-keyword-color);
    --ring-code-tag-font-weight: bold;
    --ring-code-field-color: #660e7a;
    --ring-code-attribute-color: #00f;
    --ring-code-number-color: var(--ring-code-attribute-color);
    --ring-code-string-color: #008000;
    --ring-code-addition-color: #506650;
    --ring-code-deletion-color: #604d4d;


    --ring-button-primary-background-color: #1a98ff;
    --ring-button-primary-border-color: #0062b2;
    --ring-button-danger-active-color: #625151;
    --ring-button-danger-hover-color: #4f3738;
    --ring-button-loader-background: #33a3ff;
    --ring-button-dark-border-disabled-color: #333;
    --ring-button-dark-icon-disabled-color: var(--ring-button-dark-border-disabled-color);
    --ring-button-dark-danger-active-color: #26080a;
    --ring-button-dark-danger-hover-color: #db5860;
    --ring-button-dark-active-color: #001526;
    --ring-button-dark-loader-background: #002039;
    
    /*
    
    --ring-border-radius: 3px;
    --ring-border-radius-small: 2px;
    --ring-font-size-larger: 14px;
    --ring-font-size: 13px;
    --ring-font-size-smaller: 12px;
    --ring-line-height-taller: 21px;
    --ring-line-height: 20px;
    --ring-line-height-lower: 18px;
    --ring-line-height-lowest: 16px;
    --ring-ease: 0.3s ease-out;
    --ring-fast-ease: 0.15s ease-out;
    --ring-font-family: system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Droid Sans, Helvetica Neue, Arial, sans-serif;
    --ring-font-family-monospace: Menlo, "Bitstream Vera Sans Mono", "Ubuntu Mono", Consolas, "Courier New", Courier, monospace;
    --ring-invisible-element-z-index: -1;
    --ring-fixed-z-index: 1;
    --ring-overlay-z-index: 5;
    --ring-alert-z-index: 6;
    
    */
    
    
 }
 *:not(.LogMessage__error--i_):not(.LogMessage__warning--nT):not(.LogMessage__text--gm) {
	text-shadow: none !important;
	box-shadow: none !important;
    color: var(--text-color);
}
#new-projects, #overview-projects
{
    background: var(--ring-warning-color);
}

.Details__button--h4.ring-global-resetButton {
    background-color: transparent !important;
}
tr.valueChanged, div.valueChanged
{
    border-color: var(--ring-icon-warning-color);
}
[bgcolor="#FFFFCC"]
{
    background-color: var(--ring-icon-warning-color);
    border-color: var(--border-color) !important;
    border-left: 3px solid var(--ring-icon-warning-color) !important;
}
.grayNote, .smallNote, .smallNoteAttention
{
    color: var(--text-color);
}

 /* scroll bar */
 
 ::-webkit-scrollbar {
     width: 6px;
 }
 ::-webkit-scrollbar-thumb {
     background: var(--lighter-color);
     border-radius: 0px;
 }
 ::-webkit-scrollbar-track {
     background: var(--dark-color);
     border-radius: 0px;
 }
body,
html
{
    scrollbar-color: rgba(134,166,206,.6) rgba(51,51,51,0.75);
    scrollbar-width: thin !important;
}
.ReactVirtualized__Grid {
    scrollbar-width: thin;
}


.highlightChanges {
    background-color: var(--ring-icon-warning-color) !important;
}

/* general color*/
.ProjectsTree__sidebar--25,
.dialogHeader,
#shutdownDialog,
.summaryContainer .header,
html,
li.selected,
.list-scroll ul li,
.modalDialog,
body {
    color: var(--text-color);
    background: var(--darker-color) !important;
}

#profilePage,
.admin-ui:not(.admin-ui_old) .admin-sidebar,
.actionBar,
.joinedChangeTable > tbody > tr > td,
.modalDialogBody,
.popupDiv.quickLinksMenuPopup, .menuList,
table { 
    background-color: var(--dark-color) !important; 
}

.App__resizable--RG {
    background: var(--darker-color);
}
[data-test="collapse-button"],
[data-test="expand-button"],
.licensesPage,
#changesPopup .changePopupHeader, #changesPopup .changesPopupFooter,
.successStatusBlock,
table.runTable
{
    background-color: transparent !important;
}
/*
not happening, individual tables......
table tr:nth-child(odd) { background-color: rgba(200,200,200,.15); }
*/
#changesPopup .changePopupHeader, #changesPopup .changesPopupFooter,
table,
td,
#topWrapper,
.joinedChangeTable > tbody > tr > td,
.dialogHeader,
.headBG,
table.borderBottom td, 
.simpleTabs .tabs li, 
.simpleTabs .tabs li.selected, 
#footer .footerMainContainer,
.Builds__button-container--2_
{
    border-color: var(--border-color) !important;
}

.icon_d41.StopBuild__stopIcon--cu span svg {
    fill: var(--ring-icon-error-color) !important;
}

table.parametersTable th, table.parametersTable td {
    border: 1px solid var(--border-color) !important;
}

table.dark th,
.blockHeader,
div[class*="title"],
.contentWrapper,
.pc__label a,
.btn.cancel,
h1,h2,h3,h4,h5 
{
    color: var(--text-color-light) !important;;
}
[name="comment"],
.selected p a.tabs {
    color: var(--text-color) !important;
} 

svg {
    fill: var(--lighter-color);
}
.greyNote {
    color:var(--light-color-code) !important;
}
input:not(.btn) {
    padding-left: 4px !important;;
}
.chainOptions .chainOptions__option {
    padding-left:8px;
    padding-bottom: 2px;
    border-left: 0px solid transparent !important;
    border-right: 0px solid transparent !important;
}
.popupDiv,
.failureStatusBlock,
.runnerFormTable tr.groupingTitle td,
#usageStatisticsContent .settingsBlock .settingsBlockTitle,
.captionRow,
table.separatedWithLine td,
.chainOptions .chainOptions__option,
.groupingTitle,
h2.groupTitle,
h3.title,
#restProjectsPopup,
.btn,
.healthItemIndicator, 
.ui-datepicker-buttonpane button,
.tabCounter,
button,
input,
textarea {
    color: var(--text-color);
    border-color: var(--border-color) !important;
    background-color: var(--interaction-bg) !important;
}
.advancedSetting
{
    background: transparent;
}
button.anchor_2cd 
{
    padding-left: 12px !important;
    padding-right: 12px !important;
}

.btn_primary {
    background-image: -webkit-linear-gradient(top, #438ed788, #2d5fb388);
    background-image: linear-gradient(to bottom, #438ed788, #2d5fb388);
}

.ufd.default button,
input[type="checkbox"] {
    filter: invert(85%);
}

/*button[class*="hover"],
div[data-test-itemtype="project"]:nth-child(1),
.ProjectsTreeItem__content--NR:hover,
.ProjectsTreeItem__hovered--13:hover
.ReactVirtualized__Grid__innerScrollContainer div span:hover
{
    background:red !important;
    background-color:red !important;
}*/

.tabCounter {
    border: 0px solid transparent !important;
}

.blockHeader,
#footer,
th,
div[aria-selected="true"] div a
/*,a[class*="active"] */
{
    border-color: var(--border-color) !important;
    background-color: var(--dark-color) !important;
}
.admin-ui:not(.admin-ui_old) .admin-menu__bg,
.buildTypeSettings,
.expandedChange,
.link_744.link_dae.title_ba2.font_bd7{
    background-color: transparent !important;   
}

[class*="BuildDurationAnchor__progress"]
{
    background-color: var(--ring-icon-success-color) ;
}
/*  BuildDurationAnchor__wrapperSuccess--Ii
the fucking end changes */
div[class*='BuildDurationAnchor__wrapperSuccess']
{
    background: var(--darker-color);
}
.inplaceItemsList + .viewAll,
.popupWithTitle .popupWithTitleHeader,
.menuListGrouped .menuListSeparator,
.tableCaption,
.bt-separator,
#queuedBuildsPopup table.buildQueueTable tr.selected td:first-child
{
    border-color: var(--border-color) !important;
}
.inplaceItemsList + .viewAll,
.popupWithTitle .popupWithTitleHeader,
table.buildQueueTable tbody tr td,
tr.project.tr-depth-0 > td, 
tr.build_type.tr-depth-1 > td, 
tr.project.tr-depth-1 > td, 
tr.build_type.tr-depth-2 > td
{
    background: var(--dark-color);
}

.BuildDurationAnchor__wrapper--1R,
.menuItemSelected,
.menuItemSelected a,
.menuList li:hover ,
.menuList li:hover a,
.tabs li:hover,
#adminOverview tr.project:hover,
div[class*="active"],
div[class*="active"] a
{
    color: var(--text-color) !important;
    background: var(--ring-dark-selected-background-color) !important;

}

input[type="text"]
{
   margin-top:-2px;
}
.default div.list-scroll,
.ufd.default.default-focus,
.ufd.default 
{
    border-color: var(--border-timid-color) !important;
}
.headerLogoImg,
.logo {
    opacity:.7;
}
.ufd.default input.disabled,
.disabled {
    opacity: .8;
    padding-bottom:5px;
    border-color: var(--border-color) !important;
    background: var(--darker-color) !important;
    background-color: var(--darker-color) !important;
}
.style-scope,
.tree-node-0,
.tree-node-0 {
    background-color: transparent !important;
}

.selectedTreeNode,
#sidebar,
#profilePage,
.mug,
.ProjectsTreeItem__chevronButton--10  {
    background: transparent !important;
}

    .saveButtonsBlock, .popupSaveButtonsBlock {
        border-color: var(--ring-pale-control-color);
    }
.ClassicTab__icon--OZ.ClassicTab__icon--OZ.ClassicTab__pin--1A {
    padding-right: 6px !important;
}
a
{
    text-decoration: none !important;
    color: var(--ring-link-color) !important;
}
.projectHeaderTable .projectStatus
{
    border-color: transparent !important;
}

.successMessage 
{
    opacity: .6;
    color: white;
    background-color: var(--success-color);
}

td.successful span
{
    color: var(--success-color) !important;    
}
td.failing span
{
    color: var(--error-color) !important;    
}
.svg-icon.statusIcon_successful svg
{
    fill: var(--success-color) !important;  
}
.svg-icon.statusIcon_failing svg
{
    fill: var(--error-color) !important;
}
.build .projectHeader
{
    background: transparent;
}
.rTree .leaf:hover, .rTree:not(.console_mod) .leaf:hover > .msg:not(.focus) > .mark, .rTree .open:hover, .rTree .closed:hover, .rTree .withPopup, .rTree .hover .mark,
.mark:hover,i.mark:hover, .msg i.mark:hover,
.msg:hover
{
    background-color: var(--ring-border-hover-color);
}
.rTree .focus, .rTree .focus .mark
{
    background-color: var(--ring-border-hover-color);
}

select
{
    border-width: 0px;
    border-color: var(--border-color);
    filter: invert(80%);
    color: #444;;
    background: #9f9f5e;
}
.queuedStatusBlock, .runningBuildStatus,
.log
{
    border-color: var(--border-color);
    background: var(--dark-color);
}

rect#columnbt15-13 {
    fill: var(--darker-color);
    stroke: var(--border-color);
}

.popup_0ad {
    background: var(--interaction-bg)
}
.modifiedMessage .messageBody
{
    background: var( --hover-bg);
}
.attentionComment, .attentionRed
{
    background: var( --interaction-bg);
}
.usefulLinks td 
{
    padding-left: 5px !important;
}
table.usefulLinks
{
    border-top-color: transparent !important;
}
#sidebarAdmin,
[data-test="ring-dropdown"] button,
[data-test="ring-link"]
{
    background-color: transparent !important;
}

.highlightable tr:hover {
}
#changesPopup .userChangesHeader,
.filesPopupHeader
{
    background: var(--interest);
}
table.changedFiles td.typeTD .changeType.edited
{
    background: var(--hover-bg);
    margin-bottom: 4px;
}
.headerNote
{
    background: var(--ring-icon-warning-color);
    border-color: var(--border-color);
}
.systemProblemsContainer .systemProblem
{
    border-color: var(--border-color);
}
.systemProblemsContainer
{
    background: var(--darker-color);
}
.stickyBar,
#nestedPageContent
{
    background: var(--dark-color);
}
/* stupid annoying loading box */
#loadingWarning
{
    background: var(--interest) !important;
    border-color: var(--border-color);
}
#loadingWarning .text
{
    color: var(--text-color);
}
.build .build > .projectHeader
{
    background: transparent;
}
.source {
    background: var(--darker-color);
}
.csharp_keyword {
    color: #0095ff;
}
.csharp_operator {
    color: #aaa;  
}
.csharp_separator,
.csharp_plain {
    color: var(--text-color);
}
.changeRemoved {
    background: var(--error-hl-color);
}
.changeAdded {
    background: var(--success-hl-color);
}
#fileName,
.source li:before,
#dmap {
    background: var(--dark-color);
}
#mapWindow {
    background: #88888877;
}
#fileName,
#desc,
#panels,
#toolbar {
    border-color: var(--border-color) !important;
}
.tests-group .action-bar, .expand_collapse.action-bar,
#desc .buttonbar {
    background: transparent;
}
#desc,
#toolbar {
    background: var(--darker-color);
}
.BuildDurationAnchor__wrapperSuccess--Pn
{
    background: var(--darker-color);
}


/* new damn theme*/
.BuildLogPreview__header--YQ {
    background: transparent;
}
.BuildLogPreview__header--YQ::after {
    background: var(--border-brush) !important;
}
.Builds__buttonContainer--od,
.ContentPanel__content--Kw.ContentPanel__border--VI
{
    border-color: var(--border-color);
}
[class*="TimelineStage__separator"],
[class*="TimelineStage__stageLine"] {
    opacity: .4 !important;
}
[class*="BuildStatsBar__"] {
    opacity: .7 !important;
}
button{
    margin-left: 5px !important;
    border: 1px solid var(--border-color) !important;
}
}