/* ==UserStyle==
@name         Transparent Safari for Firefox(Mac only)
@namespace    USO Archive
@author       Lou Shi
@description  "Safari 9 for Firefox (Mac only)" +   "Yosemite Australis [For 35+]"
@version      20170201.11.59
@license      NONE
@preprocessor uso
==/UserStyle== */
@namespace url("http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul");
@namespace html url("http://www.w3.org/1999/xhtml");

/* General text tweaks [font: message-box gives San Francisco font in OS X 10.11] */

label { 
    text-shadow: none !important; 
}
menu, menuitem {    
    font: message-box !important; 
    font-size: 10pt !important;
}

/* ******************************************** */
/* Main Toolbar heights/widths and arrangements */    
/* ******************************************** */
#main-window {
    background: linear-gradient(to bottom, rgb(240,238,240), rgb(222,220,222) 37px, rgb(221,219,221) 60px, rgb(208,206,208) 100px) !important;
}
#main-window:-moz-window-inactive {
    background: rgb(246,246,246) !important;
}
#titlebar {
    -moz-appearance: none !important;
    height: 37px !important;
    margin-bottom: -37px !important;
}
#titlebar-buttonbox-container {
    margin-left: 5px !important;
    margin-top: 10.5px !important;
}

#nav-bar {
    position: relative !important;
    z-index: 1 !important;
    -moz-box-ordinal-group: 1 !important;
    -moz-box-align: center !important;
    margin: 0px 5px 0px 75px !important;
    border-top: none !important;
    max-height: 37px !important;
    min-height: 37px !important;
    background-image: unset !important;
    background-color: transparent !important;
}
#main-window[inFullscreen] #nav-bar {
    margin-left: 5px !important;
}
#nav-bar-customization-target { 
    padding: 0px !important;
    height: 37px !important;
    -moz-box-align: center !important;
}

#PersonalToolbar {
    -moz-box-align: center !important;
    -moz-box-ordinal-group: 2 !important;
    margin-left: 1px !important;
    position: relative !important;
    z-index: 2 !important;
    border-top: 1px rgba(0,0,0,0.1) solid !important;
    background-color: transparent !important;
    padding: unset !important;
    min-height: 23px !important;
    max-height: 23px !important; 
}
#personal-bookmarks, #PlacesToolbar, #PlacesToolbarItems, 
#PlacesToolbarItems > .scrollbox-innerbox {
    -moz-box-align: center !important;
}

#TabsToolbar {
    box-shadow: 
        inset 0px 1px 0px 0px rgba(162,160,162,.6), 
        inset 0px -1px 0px 0px rgba(162,160,162,.6) !important;
    margin-bottom: 0px !important;
    margin-left: 0px !important;
    margin-right: -1px !important;
    background: linear-gradient(to bottom, rgb(192,190,192),rgb(187,185,187)) !important;
    -moz-box-ordinal-group: 10 !important;
}
#TabsToolbar:-moz-window-inactive {
    background: linear-gradient(to bottom, rgb(202,200,202),rgb(197,195,197)) !important;
    box-shadow: 
        inset 0px 1px 0px 0px rgba(152,150,152,0.3), 
        inset 0px -1px 0px 0px rgba(152,150,152,0.4) !important;
}
#TabsToolbar .titlebar-placeholder {
    display: none !important;
}
#tabbrowser-tabs { 
    margin-left: 0px !important;
    height: 24px !important;
}

/* remove this weird extra separator mozilla tacks on before the page content */
#navigator-toolbox::after {
    display: none !important;
}

/* ****************************************** */
/* detailed tab positioning and styling stuff */
/* ****************************************** */

#TabsToolbar .tab-content > * {
    margin-top: 0px !important;
    margin-bottom: 0px !important;
}

/* get rid of the little spacer lines between tabs that browser.css puts in via CSS */
#TabsToolbar .tabbrowser-tab::after,
#TabsToolbar .tabbrowser-tab::before {
    visibility: collapse;
}

#TabsToolbar .tab-close-button { 
    -moz-box-ordinal-group: 1 !important; 
    margin-left: -5.5px !important;
    border-radius: 2px !important;
    transition: opacity 200ms !important;
    /* small x */
    list-style-image: url('data:image/svg+xml;utf8,\
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16">\
          <line x1="4.5" y1="4.5" x2="11.5" y2="11.5" stroke="rgb(84,82,84)" stroke-width="1"/>\
          <line x1="4.5" y1="11.5" x2="11.5" y2="4.5" stroke="rgb(84,82,84)" stroke-width="1"/>\
        </svg>') !important;
}
@media (max-resolution: 1.9dppx) {
    #TabsToolbar .tab-close-button { 
        list-style-image: url('data:image/svg+xml;utf8,\
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16">\
              <line x1="4.5" y1="4.5" x2="11.5" y2="11.5" stroke="rgb(84,82,84)" stroke-width="1.5"/>\
              <line x1="4.5" y1="11.5" x2="11.5" y2="4.5" stroke="rgb(84,82,84)" stroke-width="1.5"/>\
            </svg>') !important;
    }
}

#TabsToolbar tab:not(:hover) .tab-close-button { 
    opacity: 0 !important;
}
#TabsToolbar tab:hover .tab-close-button { 
    opacity: 1 !important;
}
#TabsToolbar tab .close-icon {
    -moz-image-region: unset !important;
}
#TabsToolbar tab .close-icon:hover {
    -moz-image-region: unset !important;
    background-color: rgba(0,0,0,0.1) !important;
    background-clip: padding-box !important;
}
#TabsToolbar tab .close-icon:hover:active {
    background-color: rgba(0,0,0,0.15) !important;
}

#TabsToolbar .tab-text { 
    -moz-box-ordinal-group: 2 !important; 
    margin-left: 4px !important; 
}

#TabsToolbar .tab-content:not([pinned]) > .tab-icon-sound {
    -moz-box-ordinal-group: 3 !important; 
    margin-left: 0px !important;
    margin-right: -4px !important;
}

#TabsToolbar .tab-content:not([pinned]) > .tab-throbber { 
    -moz-box-ordinal-group: 4 !important; 
    margin-right: -4px !important;
}
#TabsToolbar .tab-content:not([pinned]) > .tab-icon-image { 
    visibility: collapse !important; 
}

#TabsToolbar .tabbrowser-tab[fadein]:not([pinned]) { 
    flex-grow: 1 !important;
    min-width: 11em !important;
    max-width: -moz-available !important;
}

#TabsToolbar .tabbrowser-tab {
    min-height: 24px !important;
    max-height: 24px !important;
}

#TabsToolbar .tabbrowser-arrowscrollbox > .arrowscrollbox-scrollbox {
    padding-inline-start: 0px !important;
    padding-inline-end: 0px !important;
}

#TabsToolbar .tab-content:not([visuallyselected=true]) {
    color: rgba(0,0,0,0.8) !important;    
}
#TabsToolbar .tab-content[visuallyselected=true]:-moz-window-inactive {
    opacity: 0.8 !important;
}

/* .tab-background and .tab-background-middle (margins, borders and backgrounds):
   .tab-background changes bg instantly based on visuallyselected property,
   .tab-background-middle adds dimming effect on hover via transitions  
   left/right borders are on .tab-background and overlap via margin-left: -1px 
   top/bottom borders are mostly from TabsToolbar inner box-shadows */

#TabsToolbar .tab-background-start, 
#TabsToolbar .tab-background-end {
    visibility: collapse !important; 
}
#TabsToolbar .tab-background-middle {
    border-left: none !important;
    border-right: none !important;
    margin-inline-start: 0px !important;
    margin-inline-end: 0px !important;
    background-image: none !important;
    clip-path: unset !important;
}
#TabsToolbar .tab-background-middle:not([visuallyselected=true]) {
    transition: background-color 200ms ease-in-out !important;
}

#TabsToolbar .tab-background{
    height: 24px !important;
    margin-left: -1px !important;  
    margin-right: 0px !important;
    border-left: 1px solid rgba(162,160,162,.6) !important;
    border-right: 1px solid rgba(162,160,162,.6) !important;
    background: transparent !important;
    background-clip: padding-box !important;
}

#tabbrowser-tabs[overflow] .tabbrowser-tab:hover .tab-background-middle:not([visuallyselected=true]):not([pinned]),
#tabbrowser-tabs:not([overflow]) .tabbrowser-tab:hover .tab-background-middle:not([visuallyselected=true]) {
    background: rgba(0,0,0,0.05) !important;
}
#TabsToolbar .tab-background[visuallyselected=true]:-moz-window-inactive {
    background: rgb(236,236,236) !important; 
}
#TabsToolbar .tab-background:not([visuallyselected=true]):-moz-window-inactive,
#tabbrowser-tabs[overflow] .tab-background[pinned]:not([visuallyselected=true]):-moz-window-inactive{
    opacity: 0.5 !important;
    transition: unset !important;
    border-color: rgba(192,192,192,1) !important; 
}

/* pinned tab styling */

#tabbrowser-tabs[overflow] .tab-background[pinned]:not([visuallyselected=true]) {
    background: linear-gradient(to bottom, rgb(202,200,202), rgb(197,195,197)) padding-box !important;    
    border-top: 0.5px solid rgb(162,160,162) !important;
    border-bottom: 0.5px solid rgb(162,160,162) !important;
}

#TabsToolbar .tab-background[pinned] {
    border-top-width: 0.5px !important;
    border-bottom-width: 0.5px !important;
}
#TabsToolbar .tab-content[pinned] {
    margin: unset !important;
    padding: unset !important;
    width: 36px !important;
}
#TabsToolbar .tab-content[pinned] > .tab-text {
    display: none !important;
}
#TabsToolbar .tab-content[pinned] > .tab-throbber {
    margin-left: 10px !important;
}
#TabsToolbar .tab-content[pinned] > .tab-icon-image {
    margin-left: 10px !important;
    filter: grayscale(100%) !important;
    transition: filter 300ms !important;
}
#TabsToolbar tab:hover .tab-content[pinned]:not([visuallyselected=true]) > .tab-icon-image {
    filter: grayscale(0%) !important;
}
#TabsToolbar .tab-content[pinned][visuallyselected=true] > .tab-icon-image {
    transition-property: none !important;
    filter: grayscale(0%) !important;
}
/* overlay used for sound muting in pinned tabs */
#TabsToolbar .tab-content[pinned] > .tab-icon-overlay {
    margin: unset !important;
    margin-left: -13px !important;
    margin-top: -6px !important;
}
#TabsToolbar:-moz-window-inactive .tab-content[pinned]:not([visuallyselected=true]) > .tab-icon-image {
    opacity: 0.5 !important;
}

/* more for new tab buttons, all tabs button, and tab scroll buttons */

/* 26x24 button = 24x22 icon plus 2x2 borders */
#TabsToolbar .tabs-newtab-button {
    min-width: 26px !important;
    min-height: 24px !important;    
    width: 26px !important;
    height: 24px !important;
    margin-left: -1px !important;  
    margin-right: 0px !important;
    border-left: 1px solid rgba(162,160,162,.6) !important;
    border-right: 1px solid rgba(162,160,162,.6) !important;
    border-top: 1px solid rgba(162,160,162,.6) !important;
    border-bottom: 1px solid rgba(162,160,162,.6) !important;
    transition: filter 200ms !important;
    background: linear-gradient(to bottom, rgba(100, 100, 100,.2), rgba(90, 90, 90,.22)) padding-box !important;
    /* plus sign */
    list-style-image: url('data:image/svg+xml;utf8,\
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22">\
          <line x1="25%" y1="50%" x2="75%" y2="50%" stroke="rgb(105,103,105)" stroke-width="1"/>\
          <line x1="50%" y1="25%" x2="50%" y2="75%" stroke="rgb(105,103,105)" stroke-width="1"/>\
        </svg>') !important;
    -moz-image-region: unset !important;
}
@media (max-resolution: 1.9dppx) {
    #TabsToolbar .tabs-newtab-button {
        list-style-image: url('data:image/svg+xml;utf8,\
          <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22">\
          <line x1="25%" y1="50%" x2="75%" y2="50%" stroke="rgb(105,103,105)" stroke-width="2"/>\
          <line x1="50%" y1="25%" x2="50%" y2="75%" stroke="rgb(105,103,105)" stroke-width="2"/>\
          </svg>') !important;
    }
}

/* 24x22 icon = 22x22 image plus 2x0 padding */
#TabsToolbar .tabs-newtab-button > .toolbarbutton-icon {
    padding: 0px 1px !important;    
    width: 24px !important; 
    height: 22px !important;
    min-width: 24px !important;
    min-height: 22px !important;
    border: unset !important;
}
#TabsToolbar .tabs-newtab-button:hover {
    filter: brightness(75%) !important;
}
#TabsToolbar .tabs-newtab-button:hover:active {
    filter: brightness(40%) !important;
}

/* 26x24 button = 24x23 icon plus 2x1 borders */
#TabsToolbar #new-tab-button {
    min-width: 26px !important;
    min-height: 24px !important;    
    width: 26px !important;
    height: 24px !important;
    margin-left: -1px !important;  
    margin-right: 0px !important;
    border-top: 0.5px solid rgba(162,160,162,.6) !important;
    border-bottom: 0.5px solid rgba(162,160,162,.6) !important;
    border-left: 1px solid rgba(162,160,162,.6) !important;
    border-right: 1px solid rgba(162,160,162,.6) !important;
    transition: filter 200ms !important;
    background: linear-gradient(to bottom, rgba(100, 100, 100,.2), rgba(90, 90, 90,.22)) padding-box !important;
    /* plus sign */
    list-style-image: url('data:image/svg+xml;utf8,\
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22">\
          <line x1="25%" y1="50%" x2="75%" y2="50%" stroke="rgb(105,103,105)" stroke-width="1"/>\
          <line x1="50%" y1="25%" x2="50%" y2="75%" stroke="rgb(105,103,105)" stroke-width="1"/>\
        </svg>') !important;
    -moz-image-region: unset !important;
}
@media (max-resolution: 1.9dppx) {
    #TabsToolbar #new-tab-button {
        list-style-image: url('data:image/svg+xml;utf8,\
          <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22">\
          <line x1="25%" y1="50%" x2="75%" y2="50%" stroke="rgb(105,103,105)" stroke-width="2"/>\
          <line x1="50%" y1="25%" x2="50%" y2="75%" stroke="rgb(105,103,105)" stroke-width="2"/>\
          </svg>') !important;
    }
}
/* 24x23 icon = 22x22 image plus 2x1 padding */
#TabsToolbar #new-tab-button > .toolbarbutton-icon {
    padding: 0.5px 1px !important; 
    width: 24px !important; 
    min-width: 24px !important;
    min-height: 23px !important;
    height: 23px !important;
    border: unset !important;
}
#TabsToolbar #new-tab-button:hover:not([disabled]) > .toolbarbutton-icon,
#TabsToolbar #alltabs-button:hover:not([disabled]) > .toolbarbutton-icon {
    filter: brightness(60%);
} 
#TabsToolbar #new-tab-button:hover:active:not([disabled]) {
    filter: brightness(95%) !important;
}

#TabsToolbar #alltabs-button {
    min-width: 26px !important;
    min-height: 24px !important;    
    width: 26px !important;
    height: 24px !important;
    margin-left: -1px !important;  
    margin-right: 0px !important;
    border-top: 0.5px solid rgba(162,160,162,.6) !important;
    border-bottom: 0.5px solid rgba(162,160,162,.6) !important;
    border-left: 1px solid rgba(162,160,162,.6) !important;
    border-right: 1px solid rgba(162,160,162,.6) !important;
    transition: filter 200ms !important;
    background: linear-gradient(to bottom, rgba(100, 100, 100,.2), rgba(90, 90, 90,.22)) padding-box !important;
    -moz-image-region: unset !important; 
    /* downward chevron */
    list-style-image: url('data:image/svg+xml;utf8,\
       <svg xmlns="http://www.w3.org/2000/svg" width="36" height="40">\
          <path d="M9,18 L18,26 L27,18" fill="transparent" stroke-linecap="round" stroke="rgb(105,103,105)" stroke-width="2.5"/>\
       </svg>') !important;
}
@media (max-resolution: 1.9dppx) {
    #TabsToolbar #alltabs-button {
    list-style-image: url('data:image/svg+xml;utf8,\
       <svg xmlns="http://www.w3.org/2000/svg" width="36" height="40">\
          <path d="M9,18 L18,26 L27,18" fill="transparent" stroke-linecap="round" stroke="rgb(105,103,105)" stroke-width="4"/>\
       </svg>') !important;
    }
}
#TabsToolbar #alltabs-button:-moz-any(:hover:active, [open]):not([disabled]) {
    filter: brightness(95%) !important;
}

/* These things suck, we'll do better with CSS3 effects */
#TabsToolbar .arrowscrollbox-overflow-start-indicator, 
#TabsToolbar .arrowscrollbox-overflow-end-indicator { 
    display: none !important;
}

#TabsToolbar .scrollbutton-up {
	background: linear-gradient(to bottom, rgba(100, 100, 100,.2), rgba(90, 90, 90,.22)) padding-box !important;
    min-height: 24px !important;    
    height: 24px !important;
    -moz-image-region: unset !important;
    border-left: 1px solid rgba(162,160,162,.6) !important;
    border-right: unset !important;
    margin-left: -1px !important;
    margin-right: 1px !important;
    position: relative !important;
    z-index: 3 !important;    
    filter: brightness(100%) !important;
    box-shadow:
        inset -0.5px 0px 0px 0.5px rgba(0,0,0,0.3),
        3px 0px 3px -2px rgba(0,0,0,0.3);
    transition: box-shadow 150ms ease-in-out, filter 200ms ease-in-out !important;
    /* left pointing thick chevron */
    list-style-image: url('data:image/svg+xml;utf8,\
        <svg xmlns="http://www.w3.org/2000/svg" width="13" height="20">\
          <path d="M9.5,3.5 L3,10 L9.5,16.5" fill="transparent" stroke-width="3" stroke="rgb(125,122,125)"/>\
        </svg>') !important;    
}
@media (max-resolution: 1.9dppx) {
    #TabsToolbar .scrollbutton-up {
    list-style-image: url('data:image/svg+xml;utf8,\
        <svg xmlns="http://www.w3.org/2000/svg" width="13" height="20">\
          <path d="M9.5,3.5 L3,10 L9.5,16.5" fill="transparent" stroke-width="4" stroke="rgb(125,122,125)"/>\
        </svg>') !important;    
    }
}

#TabsToolbar .scrollbutton-up[disabled] {
    filter: brightness(95%) !important;
    /* box shadow "outer border", a cheap hack around weird margins when tabs are pinned */
    box-shadow: 
        inset 0px 0px 0px 0px rgba(0,0,0,0),
        1px 0px 0px 0px rgba(162,160,162,1);
    border-top: 1px solid rgba(162,160,162,.6) !important;
    border-bottom: 1px solid rgba(162,160,162,.6) !important;    
}
#TabsToolbar .scrollbutton-up[disabled] > .toolbarbutton-icon,
#TabsToolbar .scrollbutton-down[disabled] > .toolbarbutton-icon{
    -moz-image-region: unset !important;
}
#TabsToolbar .scrollbutton-down {
    background: linear-gradient(to bottom, rgba(100, 100, 100,.2), rgba(90, 90, 90,.22)) padding-box !important;
    min-height: 24px !important;    
    height: 24px !important;
    -moz-image-region: unset !important;
    /* right pointing thick chevron */
    border-left: unset !important;
    border-right: 1px solid rgba(162,160,162,.6) !important;
    margin-left: 0px !important;
    margin-right: 0px !important;
    position: relative !important;
    z-index: 3 !important;
    filter: brightness(100%) !important;
    box-shadow: 
        inset 0.5px 0px 0px 0.5px rgba(0,0,0,0.3),
        -3px 0px 3px -2px rgba(0,0,0,0.3);
    transition: box-shadow 200ms ease-in-out, filter 200ms ease-in-out !important;
    list-style-image: url('data:image/svg+xml;utf8,\
        <svg xmlns="http://www.w3.org/2000/svg" width="13" height="20">\
          <path d="M3.5,3.5 L10,10 L3.5,16.5" fill="transparent" stroke-width="3" stroke="rgb(125,122,125)"/>\
        </svg>') !important;    
}
@media (max-resolution: 1.9dppx) {
    #TabsToolbar .scrollbutton-down {
    list-style-image: url('data:image/svg+xml;utf8,\
        <svg xmlns="http://www.w3.org/2000/svg" width="13" height="20">\
          <path d="M3.5,3.5 L10,10 L3.5,16.5" fill="transparent" stroke-width="4" stroke="rgb(125,122,125)"/>\
        </svg>') !important;    
    }
}

#TabsToolbar .scrollbutton-down:hover:not([disabled]),
#TabsToolbar .scrollbutton-up:hover:not([disabled]) {
    -moz-image-region: unset !important;
}
#TabsToolbar .scrollbutton-down:hover:not([disabled]) > .toolbarbutton-icon,
#TabsToolbar .scrollbutton-up:hover:not([disabled]) > .toolbarbutton-icon {
    filter: brightness(80%) !important;
}
#TabsToolbar .scrollbutton-down[disabled] {
    filter: brightness(95%) !important;
    margin-left: -1px !important;
    border-left: 1px solid rgba(162,160,162,.6) !important;
    border-top: 1px solid rgba(162,160,162,.6) !important;
    border-bottom: 1px solid rgba(162,160,162,.6) !important;    
    box-shadow: unset !important;
}
#TabsToolbar *:-moz-any(.scrollbutton-up, .scrollbutton-down):hover:active:not([disabled]) {
    filter: brightness(95%) !important;
}

#TabsToolbar .tabs-newtab-button:-moz-window-inactive, 
#TabsToolbar #new-tab-button:-moz-window-inactive, 
#TabsToolbar #alltabs-button:-moz-window-inactive, 
#TabsToolbar .scrollbutton-up:-moz-window-inactive, 
#TabsToolbar .scrollbutton-down:-moz-window-inactive {
    background: rgb(236,236,236) !important;
    opacity: 0.5 !important;
    transition: unset !important;
    border-color: rgba(192,191,192,1) !important; 
    filter: brightness(100%) !important;
}

/* ************************** */
/* Navigation Toolbar Styling */
/* ************************** */


window[chromehidden~="status"] #nav-bar .chromeclass-status,
window[chromehidden~="extrachrome"] #nav-bar .chromeclass-extrachrome,
window[chromehidden~="location"] #nav-bar .chromeclass-location,
window[chromehidden~="location"][chromehidden~="toolbar"] #nav-bar .chromeclass-toolbar,
window[chromehidden~="toolbar"] #nav-bar .chromeclass-toolbar-additional {
  display: inherit !important;
}

/* Yosemite/El Capitan toolbarbutton styles */

#nav-bar .toolbarbutton-1:not(:-moz-any([type="menu-button"], #nav-bar-overflow-button)) { 
    background: linear-gradient(to bottom, hsla(0,0%,99%,0.6), hsla(0,0%,95%,0.6)) !important;
    box-shadow: inset 0 -0.5px 0px 0px hsla(0,0%,70%,1), inset 0 0.5px 0.5px 0px white !important;
    border: 0.5px solid rgb(213,211,213) !important;
    border-radius: 4px !important;
    padding: unset !important;
    min-width: 34px !important;
}

#nav-bar-customization-target > .toolbarbutton-1, 
#nav-bar #PanelUI-menu-button {
    margin: 7px 3.5px !important;   
    height: 23px !important;
}

#nav-bar .toolbarbutton-menubutton-button {
    background: linear-gradient(to bottom, hsla(0,0%,99%,0.6), hsla(0,0%,95%,0.6)) !important;
    box-shadow: inset 0 -0.5px 0px 0px hsla(0,0%,70%,1), inset 0 0.5px 0.5px 0px white !important;
    border: 0.5px solid rgb(213,211,213) !important;
    border-top-left-radius: 4px !important;
    border-bottom-left-radius: 4px !important;
    padding: 0px 2px !important;
    max-height: 23px !important;
}
#nav-bar .toolbarbutton-menubutton-dropmarker {
    background: linear-gradient(to bottom, hsla(0,0%,99%,0.6), hsla(0,0%,95%,0.6)) !important;
    box-shadow: inset 0 -0.5px 0px 0px hsla(0,0%,70%,1), inset 0 0.5px 0.5px 0px white !important;
    border: 0.5px solid rgb(213,211,213) !important;
    border-top-right-radius: 4px !important;
    border-bottom-right-radius: 4px !important;
    max-height: 23px !important;
}

/* general toolbarbutton-1 selectors taken from browser.css */
#nav-bar .toolbarbutton-1:not(:-moz-any([type="menu-button"],[disabled])):-moz-any(:hover:active,[open],[checked]),
#nav-bar .toolbarbutton-1[type="menu-button"]:not([disabled]) > .toolbarbutton-menubutton-button[open],
#nav-bar .toolbarbutton-1[type="menu-button"]:not(:-moz-any([disabled],[open]))[buttonover]:active > .toolbarbutton-menubutton-button,
#nav-bar .toolbarbutton-1[type="menu-button"]:not(:-moz-any([disabled],[open],[buttonover])):hover:active > .toolbarbutton-menubutton-dropmarker,
#nav-bar .toolbarbutton-1[type="menu-button"][open]:not([disabled]) > .toolbarbutton-menubutton-dropmarker,
#nav-bar #PanelUI-menu-button:hover:active:not([disabled]), 
#nav-bar #back-button[open]:not([disabled]), 
#nav-bar #forward-button[open]:not([disabled]), 
#nav-bar .urlbar-history-dropmarker[open],
#nav-bar #PanelUI-menu-button[open] {
    background: linear-gradient(to bottom, hsla(0,0%,89%,0.6), hsla(0,0%,85%,0.6)) !important;
}

#nav-bar-overflow-button {
    -moz-box-ordinal-group: 4 !important;
    margin: 7px 3.5px !important;
    border: none !important;
    background: none !important;
    box-shadow: unset !important;
}

#nav-bar #PanelUI-button {
    margin: 0px !important;
    border: none !important;
}

/* Back/Forward buttons styling */
#nav-bar #back-button {
    min-width: unset !important;
    width: 25px !important;
    height: 23px !important;
    margin: 7px 0px !important;
    padding: 0px !important;
    -moz-image-region: unset !important;
    /* thin left chevron (back) */
    list-style-image: url('data:image/svg+xml;utf8,\
        <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36">\
          <path d="M21,7 L11,17 L21,27" fill="transparent" stroke="rgb(128,128,128)" stroke-width="3.25" stroke-linecap="round"/>\
        </svg>') !important;    
}
@media (max-resolution: 1.9dppx) {
    #nav-bar #back-button {
    list-style-image: url('data:image/svg+xml;utf8,\
        <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36">\
          <path d="M21,7 L11,17 L21,27" fill="transparent" stroke="rgb(128,128,128)" stroke-width="5" stroke-linecap="round"/>\
        </svg>') !important;    
    }
}
#nav-bar #forward-button {
    min-width: unset !important;
    width: 25px !important;
    height: 23px !important;
    margin: 7px 7px 7px 0px !important;
    padding: 0px !important;
    -moz-image-region: unset !important;
    /* thin right chevron (forward) */
    list-style-image: url('data:image/svg+xml;utf8,\
        <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36">\
          <path d="M15,7 L25,17 L15,27" fill="transparent" stroke="rgb(128,128,128)" stroke-width="3.25" stroke-linecap="round"/>\
        </svg>') !important;    
}
@media (max-resolution: 1.9dppx) {
    #nav-bar #forward-button {
    list-style-image: url('data:image/svg+xml;utf8,\
        <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36">\
          <path d="M15,7 L25,17 L15,27" fill="transparent" stroke="rgb(128,128,128)" stroke-width="5" stroke-linecap="round"/>\
        </svg>') !important;    
    }
}
#nav-bar #forward-button > .toolbarbutton-icon {
    width: 18px !important;
    margin: unset !important;
}

#nav-bar-customization-target .toolbarbutton-1:not([type="menu-button"]):-moz-window-inactive, 
#nav-bar-customization-target .toolbarbutton-menubutton-button:-moz-window-inactive, 
#nav-bar-customization-target .toolbarbutton-menubutton-dropmarker:-moz-window-inactive, 
#nav-bar #urlbar:-moz-window-inactive, 
#nav-bar .searchbar-textbox:-moz-window-inactive,
#nav-bar #PanelUI-menu-button:-moz-window-inactive {
    box-shadow: unset !important;
    background: white !important;
    opacity: 0.5 !important;
}

/* ********************************* */
/* URL bar and its container/wrapper */
/* ********************************* */

/* No better way with just CSS.. */
:root { --ubwidth: 600px; --ubdrop: 600px; }
@media (max-width: 1300px) { :root { --ubwidth: 575px; --ubdrop: 575px; } } 
@media (max-width: 1200px) { :root { --ubwidth: 550px; --ubdrop: 550px; } } 
@media (max-width: 1175px) { :root { --ubwidth: 525px; --ubdrop: 525px; } } 
@media (max-width: 1150px) { :root { --ubwidth: 500px; --ubdrop: 500px; } } 
@media (max-width: 1125px) { :root { --ubwidth: 475px; --ubdrop: 475px; } } 
@media (max-width: 1100px) { :root { --ubwidth: 450px; --ubdrop: 450px; } } 
@media (max-width: 1075px) { :root { --ubwidth: 425px; --ubdrop: 425px; } } 
@media (max-width: 1050px) { :root { --ubwidth: 400px; --ubdrop: 400px; } } 
@media (max-width: 1025px) { :root { --ubwidth: 375px; } } 
@media (max-width: 1000px) { :root { --ubwidth: 350px; } } 
@media (max-width: 900px)  { :root { --ubwidth: 325px; } } 

/* urlbar-container : contains back+forward buttons and urlbar */
#nav-bar #urlbar-container,
#nav-bar #search-container { 
    height: 37px !important;
    padding: 0px 3.5px !important;
    -moz-box-pack: center !important;
    -moz-window-dragging: drag !important;
}

/* some spacers to avoid ultra-long urlbar */
#nav-bar #urlbar-container::before,
#nav-bar #urlbar-container::after {
    content: '';
    display: inline-flex;
    min-width: 7px;
    -moz-box-flex: 1 !important;
}

/* urlbar-wrapper : contains forward button and urlbar */
#nav-bar #urlbar-wrapper {
    margin: 0px !important;
    height: 37px !important;
    clip-path: unset !important;
    max-width: calc(var(--ubwidth) + 28px) !important;
    width: calc(var(--ubwidth) + 28px) !important;
}

/* urlbar : contains the url, info icons, go/reload/stop buttons etc */
#nav-bar #urlbar {
    height: 23px !important; 
    min-width: calc(var(--ubwidth) - 24px) !important;
    width: var(--ubwidth) !important;
    max-width: var(--ubwidth) !important;
    margin: 7px 0px !important;
    padding-inline-start: 2px !important;
    background: linear-gradient(to bottom, hsla(0,0%,99%,1), hsla(0,0%,95%,1)) padding-box !important;
    border: 0.5px solid rgb(213,211,213) !important;
    border-radius: 4px !important;
    font: message-box !important;
    font-size: 12px !important; 
    color: rgb(87,87,87) !important;
    /* last two box shadows here are transparent counterparts for animating focus ring shadows below */
    box-shadow: 
        inset 0 -0.5px 0px 0px hsla(0,0%,70%,1), 
        inset 0 0.5px 0.5px 0px white,
        0 0 5px 15px rgba(151,195,243,0),
        inset 0 0 0 0px rgba(151,195,243,0) !important; 
}

#nav-bar #urlbar[focused="true"] {
    color: black !important;
    /* Animated box shadows to recreate the native OS X 10.11 focus-ring effect */
    transition: box-shadow 300ms, 
                border 300ms !important;
    box-shadow: 
        inset 0 -0.5px 0px 0px rgb(168,205,245), 
        inset 0 0.5px 0.5px 0px white,
        0 0 0px 2.5px rgba(151,195,243,0.9),
        inset 0 0 0 0.5px rgba(151,195,243,0.9) !important; 
    border: 0.5px solid rgba(136,178,220,0.9) !important;
}

/* urlbar-input-box holds the actual URL textbox */
#nav-bar #urlbar .urlbar-input-box {
    -moz-box-flex: 5 !important;
    border: none !important;
    padding-inline-start: 2px !important;
    -moz-box-ordinal-group: 3 !important;
    transition: all 300ms ease-in-out !important;    
}

/* adds a small fade-out effect for long URLs when the URL bar isn't focused */
#nav-bar #urlbar .urlbar-input-box::after {
    content: ''; 
    display: block;
    width: calc(var(--ubwidth) * 0.14);
    margin-inline-start: calc(var(--ubwidth) * -0.14);
    max-height: 15px;
    height: 15px;
    /* Need 2D gradient (color going down and alpha going across). Do it w/ an SVG mask */
/*         data:image/svg+xml;utf8,\
       <svg xmlns='http://www.w3.org/2000/svg' width='50' height='15'>\
         <defs>\
           <linearGradient x1='100%' x2='0%' y1='0%' y2='0%' id='WtoBgrad'>\
            <stop offset='0%' stop-color='white' />\
            <stop offset='100%' stop-color='black' />\
           </linearGradient>\
           <linearGradient x1='0%' x2='0%' y1='0%' y2='100%' id='colorGrad'>\
            <stop offset='0%' stop-color='rgb(250,250,250)' />\
            <stop offset='100%' stop-color='rgb(243,243,243)' />\
           </linearGradient>\
           <mask id='fadeLeft'>\
            <rect x='0' y ='0' width='100%' height='100%' fill='url(%23WtoBgrad)'/>\
           </mask>\
         </defs>\
         <rect x='0' y='0' width='100%' height='100%' fill='url(%23colorGrad)' mask='url(%23fadeLeft)' />\
       </svg> */
    background: url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSc1MCcgaGVpZ2h0PScxNSc%2BPGRlZnM%2BPGxpbmVhckdyYWRpZW50IHgxPScxMDAlJyB4Mj0nMCUnIHkxPScwJScgeTI9JzAlJyBpZD0nV3RvQmdyYWQnPjxzdG9wIG9mZnNldD0nMCUnIHN0b3AtY29sb3I9J3doaXRlJy8%2BPHN0b3Agb2Zmc2V0PScxMDAlJyBzdG9wLWNvbG9yPSdibGFjaycvPg0KPC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgeDE9JzAlJyB4Mj0nMCUnIHkxPScwJScgeTI9JzEwMCUnIGlkPSdjb2xvckdyYWQnPjxzdG9wIG9mZnNldD0nMCUnIHN0b3AtY29sb3I9J3JnYigyNTAsMjUwLDI1MCknLz48c3RvcCBvZmZzZXQ9JzEwMCUnIHN0b3AtY29sb3I9J3JnYigyNDMsMjQzLDI0MyknLz48L2xpbmVhckdyYWRpZW50PjxtYXNrIGlkPSdmYWRlTGVmdCc%2BPHJlY3QgeD0nMCcgeSA9JzAnIHdpZHRoPScxMDAlJyBoZWlnaHQ9JzEwMCUnIGZpbGw9J3VybCgjV3RvQmdyYWQpJy8%2BPC9tYXNrPjwvZGVmcz48cmVjdCB4PScwJyB5PScwJyB3aWR0aD0nMTAwJScgaGVpZ2h0PScxMDAlJyBmaWxsPSd1cmwoI2NvbG9yR3JhZCknIG1hc2s9J3VybCgjZmFkZUxlZnQpJy8%2BPC9zdmc%2B") 
                    0px 0px / calc(var(--ubwidth) * 0.1) 100% no-repeat, 
                   linear-gradient(to bottom, rgb(250,250,250), rgb(243,243,243)) calc(var(--ubwidth) * 0.1) 0px / calc(100% - (var(--ubwidth) * 0.1)) 100% no-repeat; 
    position: relative; 
    z-index: 1;
    pointer-events: none;
    transition: opacity 300ms ease-out;
}

#nav-bar #urlbar[focused=true] .urlbar-input-box::after {
    opacity: 0 !important;
    transition: unset;
}

/* note: private browsing mode keeps this as is, non-private is the more complex case */
#main-window:not([privatebrowsingmode=temporary]) #nav-bar:-moz-window-inactive #urlbar .urlbar-input-box::after {
    background: linear-gradient(to left, rgba(255,255,255,1), rgba(255,255,255,0)) 0px 0px / 50px 100% no-repeat, 
                linear-gradient(to bottom, rgb(255,255,255), rgb(255,255,255)) 50px 0px / calc(100% - 50px) 100% no-repeat;
}

/* URL bar autocomplete popup/dropdown */

#PopupAutoCompleteRichResult {
    margin-inline-start: calc(-2px + (var(--ubwidth) - var(--ubdrop)) / 2) !important; 
    margin-top: -2px !important;
    max-width: var(--ubdrop) !important;
    border-radius: 5px !important;
    background: linear-gradient(to bottom, rgb(215,213,215), rgb(192,190,192)) !important;
}
.autocomplete-richlistbox {
    background: linear-gradient(to bottom, rgb(237,237,237), rgb(239,239,239)) border-box !important;
    border-radius: 3px !important;   
    box-shadow:  
       0 -1px 2px 0px rgb(205,203,205),
       0 1px 2px 0px rgb(175,173,175) !important;
    padding-left: 0 !important;
    padding-right: 0 !important; 
}
.autocomplete-richlistbox > scrollbox {
    overflow-y: hidden !important;
}
.autocomplete-richlistitem {
    min-height: 20px !important;
    max-height: 20px !important;
    border: unset !important;
    border-radius: unset !important;
    padding-left: 16px !important;
    padding-right: 16px !important;
} 
.autocomplete-richlistitem[selected] {
    background-color: rgb(17,108,214);
}
.ac-site-icon, .ac-type-icon {
    margin-inline-start: 1px !important;
    margin-inline-end: 8px !important;
}
.ac-site-icon:not([type=searchengine]), 
.ac-type-icon:not([type=switchtab]):not([type=remotetab]):not([type=keyword]),
.ac-separator {
    display: none !important;
}
.ac-type-icon[type=keyword],
.ac-site-icon[type=searchengine] {
    /* magnifying glass */
    list-style-image: url('data:image/svg+xml;utf8,\
       <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16">\
          <circle cx="7" cy="7" r="4" fill="none" stroke="rgb(113,113,113)" stroke-width="1" />\
          <path d="M13.5,13.5 L10,10" stroke="rgb(113,113,113)" stroke-width="1" />\
       </svg>') !important; 
}
.ac-type-icon[type=keyword][selected],
.ac-site-icon[type=searchengine][selected] {
    /* white magnifying glass */
    list-style-image: url('data:image/svg+xml;utf8,\
       <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16">\
          <circle cx="7" cy="7" r="4" fill="none" stroke="white" stroke-width="1" />\
          <path d="M13.5,13.5 L10,10" stroke="white" stroke-width="1" />\
       </svg>') !important; 
}
.ac-title {
    font-size: 12px !important;
    color: rgb(62,62,62);
}
.ac-url, .ac-action {
    font-size: 11px;
    margin: 0 !important;
    padding: 0 !important;
}
.ac-tags {
    font-size: 10px !important;
    margin: 0px 3px 0px -3px !important;
}
.ac-title-text,
.ac-url-text {
    width: 500ch !important; /* force to expand to max-width */
}

/* urlbar-icons: holds reader-mode button, zoom button, page-report button (pop-up block thingy) */

/* for now just remove this, later maybe re-eval  */
#urlbar-icons #urlbar-zoom-button {
    display: none !important;
}

#nav-bar #urlbar #urlbar-icons {
    -moz-box-ordinal-group: 1 !important;
}
#nav-bar #urlbar #urlbar-icons > * {
    transition: margin 300ms ease-in-out, 
                width 300ms ease-in-out,
                height 300ms ease-in-out,
                opacity 300ms ease-in-out !important;
}
#nav-bar #urlbar #urlbar-icons > *[hidden=true] {
    pointer-events: none !important;
    filter: opacity(0%) !important;    /* opacity via filter to easily avoid transition animation here, keep elsewhere */
}
#reader-mode-button {
    display: initial !important;
    height: 23px !important;
    width: 27px !important;
    margin-top: -1px !important;
    margin-bottom: -0.5px !important;
    margin-inline-start: -2px !important;
    margin-inline-end: 2px !important;
    
    padding: 3px 5px 2.5px 5px !important;
    border-top-left-radius: 4px !important;
    border-bottom-left-radius: 4px !important;    
    -moz-image-region: unset !important;
    /* three equal-length lines and a fourth, shorter line, evenly spaced */
    list-style-image: url('data:image/svg+xml;utf8,\
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16">\
          <line x1="1" y1="3" x2="14" y2="3" stroke="rgb(115,115,115)" stroke-width="1" stroke-linecap="square"/>\
          <line x1="1" y1="6" x2="14" y2="6" stroke="rgb(115,115,115)" stroke-width="1" stroke-linecap="square"/>\
          <line x1="1" y1="9" x2="14" y2="9" stroke="rgb(115,115,115)" stroke-width="1" stroke-linecap="square"/>\
          <line x1="1" y1="12" x2="8" y2="12" stroke="rgb(115,115,115)" stroke-width="1" stroke-linecap="square"/>\
        </svg>') !important;
}
#nav-bar #urlbar[focused=true] #reader-mode-button {
    margin-inline-start: 0px !important;
    margin-inline-end: -27px !important;
    opacity: 0 !important;
    pointer-events: none !important;
}
#reader-mode-button:hover {
    filter: brightness(50%) !important;
}
#reader-mode-button:hover:active,
#reader-mode-button[readeractive] {
    -moz-image-region: unset !important;
    filter: brightness(10000%) !important;
    background: black border-box !important;
}
#page-report-button {
    -moz-box-ordinal-group: 2 !important;
    display: initial !important;
    padding: 0 !important;
    margin-top: 0.5px !important;
    margin-inline-start: 1px !important;
    width: 16px !important;
    height: 15px !important;
    filter: contrast(0%) brightness(120%) !important;
}
#nav-bar #urlbar[focused=true] #page-report-button {
    width: 0 !important;
    height: 0 !important;
    margin: 0 !important;
    pointer-events: none !important;
}
#page-report-button:hover,
#page-report-button:hover:active,
#page-report-button[open=true] {
    filter: grayscale(100%) contrast(0%) brightness(75%) !important;
}
/* ************************************************************************************************************* */
/* identity-box: holds identity icon (security info icon), tracking protection icon, other permissions icons etc */
/* ************************************************************************************************************* */

#nav-bar #urlbar #identity-box {
    -moz-box-ordinal-group: 2 !important;
    padding: 0 !important;   
    margin: 2px 0px !important;
    border: unset !important;
    transition: margin 300ms ease-in-out, width 300ms ease-in-out !important;       
}
#nav-bar #urlbar #identity-box > #notification-popup-box { 
    -moz-box-ordinal-group: 1 !important; 
}
#nav-bar #urlbar #identity-box > #tracking-protection-icon { 
    -moz-box-ordinal-group: 2 !important; 
    margin-inline-start: 1px !important; 
    margin-inline-end: 0px !important;
}
#nav-bar #urlbar #identity-box > #tracking-protection-icon:not([state="loaded-tracking-content"]) { 
    visibility: collapse !important;
}
#nav-bar #urlbar #identity-box > #blocked-permissions-container { 
    -moz-box-ordinal-group: 3 !important; 
}
#main-window #nav-bar #urlbar #identity-box:not(.chromeUI) > #identity-icon { 
    -moz-box-ordinal-group: 4 !important; 
    margin-inline-start: 2px !important;
    margin-inline-end: -19.5px !important;
    list-style-image: url(chrome://browser/skin/controlcenter/conn-not-secure.svg) !important;
    position: relative !important;
    z-index: -1 !important;
    filter: brightness(85%) !important;
}
#nav-bar #urlbar #identity-box:not(.chromeUI) > #identity-icon:-moz-window-inactive { 
    opacity: 0 !important;   
}

#identity-box > #connection-icon {
    padding-left: 2px;
    width: 18px;
}
#identity-box:-moz-any(.verifiedDomain,.verifiedIdentity,.mixedActiveBlocked,.certUserOverridden,.insecureLoginForms,.mixedActiveContent,.weakCipher,.mixedDisplayContent,
                      .mixedDisplayContentLoadedActiveBlocked) >  #connection-icon {
    padding: 0px 1px 0px 3px;
} 
#identity-box:not(.chromeUI) > #connection-icon {
    -moz-box-ordinal-group: 5 !important; 
    visibility: visible !important;
    list-style-image: url(chrome://browser/skin/identity-icon.svg#normal);
}
/* case when connection icon isn't showing a lock, etc. */
#identity-box.grantedPermissions:not(:-moz-any(.verifiedDomain,.verifiedIdentity,.mixedActiveBlocked,.certUserOverridden,.insecureLoginForms,.mixedActiveContent,
                .weakCipher,.mixedDisplayContent,.mixedDisplayContentLoadedActiveBlocked)) > #connection-icon {
    list-style-image: url(chrome://browser/skin/identity-icon.svg#notice);
}
#identity-box:not(.grantedPermissions):not(:-moz-any(.verifiedDomain,.verifiedIdentity,.mixedActiveBlocked,.certUserOverridden,.insecureLoginForms,.mixedActiveContent,.weakCipher,
                .mixedDisplayContent,.mixedDisplayContentLoadedActiveBlocked)) > #tracking-protection-icon[state]:not([state="loaded-tracking-content"]) ~ #connection-icon {
    /* small shield on identity icon */
    list-style-image: url('data:image/svg+xml;utf8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiI+IDxkZWZzPiA8bWFzayBpZD0ibXltIj4gPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0id2hpdGUiLz4gPHBhdGggZmlsbD0iYmxhY2siIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMy4zIiB0cmFuc2Zvcm09InNjYWxlKDAuNikgdHJhbnNsYXRlKDEyLjUgLTAuNSkiIGQ9Ik04LDFMMi44LDEuOUMyLjQsMS45LDIsMi40LDIsMi44QzIsNCwyLDYuMSwyLjEsNy4xYzAuMywyLjcsMC44LDQsMS45LDUuNkM1LjYsMTQuNyw4LDE1LDgsMTVzMi40LTAuMyw0LTIuNCBjMS4yLTEuNSwxLjctMi45LDEuOS01LjZDMTQsNi4xLDE0LDQsMTQsMi44YzAtMC41LTAuNC0wLjktMC44LTFMOCwxTDgsMXoiLz4gPC9tYXNrPiA8cGF0dGVybiBpZD0ibXlwIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIj4gPHBhdGggZmlsbD0iIzk5OTk5OSIgZD0iTTEyOCwxOTNhNyw3LDAsMSwxLDctN0E3LDcsMCwwLDEsMTI4LDE5M1ptMC0xM2E2LDYsMCwxLDAsNiw2QTYsNiwwLDAsMCwxMjgsMTgwWm0wLDEwYTEsMSwwLDAsMS0xLTF2LTNhMSwxLDAsMCwxLDIsMHYzQTEsMSwwLDAsMSwxMjgsMTkwWm0wLTZhMSwxLDAsMSwxLDEtMUExLDEsMCwwLDEsMTI4LDE4NFoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMjAgLTE3OCkiLz4gPC9wYXR0ZXJuPiA8bWFzayBpZD0ic2htIj4gPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0id2hpdGUiLz4gPHBhdGggZmlsbD0iYmxhY2siIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMC44MyIgZD0iTTgsMmw1LDAuOGMwLDIsMCwzLjUtMC4xLDQuMWMtMC4zLDIuNy0wLjgsMy44LTEuNyw1LjFjLTEuMSwxLjUtMi43LDEuOS0zLjIsMmMtMC40LTAuMS0yLjEtMC41LTMuMi0yIGMtMS0xLjMtMS41LTIuNC0xLjctNS4xQzMsNi4zLDMsNC44LDMsMi44TDgsMiIvPiA8L21hc2s+IDwvZGVmcz4gPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0idXJsKCNteXApIiBtYXNrPSJ1cmwoI215bSkiLz4gPGcgdHJhbnNmb3JtPSJzY2FsZSgwLjYpIHRyYW5zbGF0ZSgxMi41IC0wLjUpIj4gPHBhdGggZmlsbD0iIzk5OTk5OSIgbWFzaz0idXJsKCNzaG0pIiBkPSJNOCwxTDIuOCwxLjlDMi40LDEuOSwyLDIuNCwyLDIuOEMyLDQsMiw2LjEsMi4xLDcuMWMwLjMsMi43LDAuOCw0LDEuOSw1LjZDNS42LDE0LjcsOCwxNSw4LDE1czIuNC0wLjMsNC0yLjQgYzEuMi0xLjUsMS43LTIuOSwxLjktNS42QzE0LDYuMSwxNCw0LDE0LDIuOGMwLTAuNS0wLjQtMC45LTAuOC0xTDgsMUw4LDF6Ii8+IDxwYXRoIGZpbGw9IiM5OTk5OTkiIGQ9Ik04LDEzYy0wLjUtMC4xLTEuNi0wLjUtMi40LTEuNWMtMC45LTEuMi0xLjMtMi4xLTEuNS00LjZDNCw2LjMsNCw1LjIsNCwzLjdMOCwzIFYxM3oiLz4gPC9nPiA8L3N2Zz4=') !important;
/*         <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16">\
            <defs>\
              <mask id="mym">\
                 <rect x="0" y="0" width="100%" height="100%" fill="white"/>\
                 <path fill="black" stroke="black" stroke-width="3.3" transform="scale(0.6) translate(12.5 -0.5)" d="M8,1L2.8,1.9C2.4,1.9,2,2.4,2,2.8C2,4,2,6.1,2.1,7.1c0.3,2.7,0.8,4,1.9,5.6C5.6,14.7,8,15,8,15s2.4-0.3,4-2.4 c1.2-1.5,1.7-2.9,1.9-5.6C14,6.1,14,4,14,2.8c0-0.5-0.4-0.9-0.8-1L8,1L8,1z"/>\
              </mask>\
              <pattern id="myp" width="100%" height="100%">\
                   <path fill="%23999999" d="M128,193a7,7,0,1,1,7-7A7,7,0,0,1,128,193Zm0-13a6,6,0,1,0,6,6A6,6,0,0,0,128,180Zm0,10a1,1,0,0,1-1-1v-3a1,1,0,0,1,2,0v3A1,1,0,0,1,128,190Zm0-6a1,1,0,1,1,1-1A1,1,0,0,1,128,184Z" transform="translate(-120 -178)"/>\
              </pattern>\
              <mask id="shm">\
                 <rect x="0" y="0" width="100%" height="100%" fill="white"/>\
                 <path fill="black" stroke="white" stroke-width="0.83" d="M8,2l5,0.8c0,2,0,3.5-0.1,4.1c-0.3,2.7-0.8,3.8-1.7,5.1c-1.1,1.5-2.7,1.9-3.2,2c-0.4-0.1-2.1-0.5-3.2-2 c-1-1.3-1.5-2.4-1.7-5.1C3,6.3,3,4.8,3,2.8L8,2"/>\
              </mask>\
           </defs>\
           <rect x="0" y="0" width="100%" height="100%" fill="url(%23myp)" mask="url(%23mym)"/>\
           <g transform="scale(0.6) translate(12.5 -0.5)">\
              <path fill="%23999999" mask="url(%23shm)" d="M8,1L2.8,1.9C2.4,1.9,2,2.4,2,2.8C2,4,2,6.1,2.1,7.1c0.3,2.7,0.8,4,1.9,5.6C5.6,14.7,8,15,8,15s2.4-0.3,4-2.4 c1.2-1.5,1.7-2.9,1.9-5.6C14,6.1,14,4,14,2.8c0-0.5-0.4-0.9-0.8-1L8,1L8,1z"/>\
              <path fill="%23999999" d="M8,13c-0.5-0.1-1.6-0.5-2.4-1.5c-0.9-1.2-1.3-2.1-1.5-4.6C4,6.3,4,5.2,4,3.7L8,3 V13z"/>\
           </g>\
        </svg>') !important; */
}
#identity-box.grantedPermissions:not(:-moz-any(.verifiedDomain,.verifiedIdentity,.mixedActiveBlocked,.certUserOverridden,.insecureLoginForms,.mixedActiveContent,.weakCipher,
                .mixedDisplayContent,.mixedDisplayContentLoadedActiveBlocked)) > #tracking-protection-icon[state]:not([state="loaded-tracking-content"]) ~ #connection-icon {
    /* small filled shield on identity icon */
    list-style-image: url('data:image/svg+xml;utf8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiI+IDxkZWZzPiA8bWFzayBpZD0ibXltIj4gPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0id2hpdGUiLz4gPHBhdGggZmlsbD0iYmxhY2siIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMy4zIiB0cmFuc2Zvcm09InNjYWxlKDAuNikgdHJhbnNsYXRlKDEyLjUgLTAuNSkiIGQ9Ik04LDFMMi44LDEuOUMyLjQsMS45LDIsMi40LDIsMi44QzIsNCwyLDYuMSwyLjEsNy4xYzAuMywyLjcsMC44LDQsMS45LDUuNkM1LjYsMTQuNyw4LDE1LDgsMTVzMi40LTAuMyw0LTIuNCBjMS4yLTEuNSwxLjctMi45LDEuOS01LjZDMTQsNi4xLDE0LDQsMTQsMi44YzAtMC41LTAuNC0wLjktMC44LTFMOCwxTDgsMXoiLz4gPC9tYXNrPiA8bWFzayBpZD0ic2htIj4gPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0id2hpdGUiLz4gPHBhdGggZmlsbD0idHJhbnNwYXJlbnQiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMC44MyIgZD0iTTgsM3YxMCIvPiA8L21hc2s+IDxwYXR0ZXJuIGlkPSJteXAiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiPiA8cGF0aCBmaWxsPSIjOTk5OTk5IiBkPSJNMTI4LDE5M2E3LDcsMCwxLDEsNy03QTcsNywwLDAsMSwxMjgsMTkzWm0wLTEzYTYsNiwwLDEsMCw2LDZBNiw2LDAsMCwwLDEyOCwxODBabTAsMTBhMSwxLDAsMCwxLTEtMXYtM2ExLDEsMCwwLDEsMiwwdjNBMSwxLDAsMCwxLDEyOCwxOTBabTAtNmExLDEsMCwxLDEsMS0xQTEsMSwwLDAsMSwxMjgsMTg0WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEyMCAtMTc4KSIvPiA8L3BhdHRlcm4+IDwvZGVmcz4gPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0idXJsKCNteXApIiBtYXNrPSJ1cmwoI215bSkiLz4gPGcgdHJhbnNmb3JtPSJzY2FsZSgwLjYpIHRyYW5zbGF0ZSgxMi41IC0wLjUpIj4gPHBhdGggZmlsbD0iIzk5OTk5OSIgc3Ryb2tlPSJ0cmFuc3BhcmVudCIgbWFzaz0idXJsKCNzaG0pIiBkPSJNOCwxTDIuOCwxLjlDMi40LDEuOSwyLDIuNCwyLDIuOEMyLDQsMiw2LjEsMi4xLDcuMWMwLjMsMi43LDAuOCw0LDEuOSw1LjZDNS42LDE0LjcsOCwxNSw4LDE1czIuNC0wLjMsNC0yLjQgYzEuMi0xLjUsMS43LTIuOSwxLjktNS42QzE0LDYuMSwxNCw0LDE0LDIuOGMwLTAuNS0wLjQtMC45LTAuOC0xTDgsMUw4LDF6Ii8+IDxwYXRoIGZpbGw9InRyYW5zcGFyZW50IiBzdHJva2U9IiM5OTk5OTkiIHN0cm9rZS13aWR0aD0iMSIgZD0iTTgsMC41djEgTTgsMTR2MS41IiAvPiA8L2c+IDwvc3ZnPg==') !important;
/*         <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16">\
            <defs>\
              <mask id="mym">\
                 <rect x="0" y="0" width="100%" height="100%" fill="white"/>\
                 <path fill="black" stroke="black" stroke-width="3.3" transform="scale(0.6) translate(12.5 -0.5)" d="M8,1L2.8,1.9C2.4,1.9,2,2.4,2,2.8C2,4,2,6.1,2.1,7.1c0.3,2.7,0.8,4,1.9,5.6C5.6,14.7,8,15,8,15s2.4-0.3,4-2.4 c1.2-1.5,1.7-2.9,1.9-5.6C14,6.1,14,4,14,2.8c0-0.5-0.4-0.9-0.8-1L8,1L8,1z"/>\
              </mask>\
              <mask id="shm">\
                 <rect x="0" y="0" width="100%" height="100%" fill="white"/>\
                 <path fill="transparent" stroke="black" stroke-width="0.83" d="M8,3v10"/>\
              </mask>\
              <pattern id="myp" width="100%" height="100%">\
                 <path fill="%23999999" d="M128,193a7,7,0,1,1,7-7A7,7,0,0,1,128,193Zm0-13a6,6,0,1,0,6,6A6,6,0,0,0,128,180Zm0,10a1,1,0,0,1-1-1v-3a1,1,0,0,1,2,0v3A1,1,0,0,1,128,190Zm0-6a1,1,0,1,1,1-1A1,1,0,0,1,128,184Z" transform="translate(-120 -178)"/>\
              </pattern>\
           </defs>\
           <rect x="0" y="0" width="100%" height="100%" fill="url(%23myp)" mask="url(%23mym)"/>\
           <g transform="scale(0.6) translate(12.5 -0.5)">\
              <path fill="%23999999" stroke="transparent" mask="url(%23shm)" d="M8,1L2.8,1.9C2.4,1.9,2,2.4,2,2.8C2,4,2,6.1,2.1,7.1c0.3,2.7,0.8,4,1.9,5.6C5.6,14.7,8,15,8,15s2.4-0.3,4-2.4 c1.2-1.5,1.7-2.9,1.9-5.6C14,6.1,14,4,14,2.8c0-0.5-0.4-0.9-0.8-1L8,1L8,1z"/>\
              <path fill="transparent" stroke="%23999999" stroke-width="1" d="M8,0.5v1 M8,14v1.5" />\
           </g>\
        </svg>') !important; */
}

/* case when we are showing a connection-icon lock, etc */
#identity-box:not(.grantedPermissions):-moz-any(.verifiedDomain,.verifiedIdentity,.mixedActiveBlocked,.certUserOverridden,.insecureLoginForms,.mixedActiveContent,.weakCipher,
                      .mixedDisplayContent,.mixedDisplayContentLoadedActiveBlocked) > #tracking-protection-icon[state]:not([state="loaded-tracking-content"]) ~ #connection-icon {
    /* small shield on a fading arc */
    background-image: url('data:image/svg+xml;utf8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTgiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxOCAxNiI+IDxkZWZzPiA8bGluZWFyR3JhZGllbnQgaWQ9InJncmFkIiB4MT0iODAlIiB5MT0iMjAlIiB4Mj0iMzAlIiB5Mj0iNjUlIj4gPHN0b3Agb2Zmc2V0PSIyMCUiIHN0b3AtY29sb3I9IndoaXRlIi8+IDxzdG9wIG9mZnNldD0iNzAlIiBzdG9wLWNvbG9yPSJyZ2IoNTAsNTAsNTApIi8+IDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iYmxhY2siIC8+IDwvbGluZWFyR3JhZGllbnQ+IDxtYXNrIGlkPSJybWFzayI+IDxyZWN0IHg9IjIiIHk9IjAiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjcmdyYWQpIi8+IDxjaXJjbGUgY3g9IjUwJSIgY3k9IjUwJSIgcj0iMzAlIiBmaWxsPSJibGFjayIvPiA8cGF0aCBmaWxsPSJibGFjayIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIzLjMiIHRyYW5zZm9ybT0ic2NhbGUoMC42KSB0cmFuc2xhdGUoMTUuODMgLTAuNSkiIGQ9Ik04LDFMMi44LDEuOUMyLjQsMS45LDIsMi40LDIsMi44QzIsNCwyLDYuMSwyLjEsNy4xYzAuMywyLjcsMC44LDQsMS45LDUuNkM1LjYsMTQuNyw4LDE1LDgsMTVzMi40LTAuMyw0LTIuNCBjMS4yLTEuNSwxLjctMi45LDEuOS01LjZDMTQsNi4xLDE0LDQsMTQsMi44YzAtMC41LTAuNC0wLjktMC44LTFMOCwxTDgsMXoiLz4gPC9tYXNrPiA8bWFzayBpZD0ic2htIj4gPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0id2hpdGUiLz4gPHBhdGggZmlsbD0iYmxhY2siIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMC44MyIgZD0iTTgsMmw1LDAuOGMwLDIsMCwzLjUtMC4xLDQuMWMtMC4zLDIuNy0wLjgsMy44LTEuNyw1LjFjLTEuMSwxLjUtMi43LDEuOS0zLjIsMmMtMC40LTAuMS0yLjEtMC41LTMuMi0yIGMtMS0xLjMtMS41LTIuNC0xLjctNS4xQzMsNi4zLDMsNC44LDMsMi44TDgsMiIvPiA8cGF0aCBmaWxsPSJ0cmFuc3BhcmVudCIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIxLjY3IiBkPSJNOCwxTDIuOCwxLjlDMi40LDEuOSwyLDIuNCwyLDIuOEMyLDQsMiw2LjEsMi4xLDcuMWMwLjMsMi43LDAuOCw0LDEuOSw1LjZDNS42LDE0LjcsOCwxNSw4LDE1czIuNC0wLjMsNC0yLjQgYzEuMi0xLjUsMS43LTIuOSwxLjktNS42QzE0LDYuMSwxNCw0LDE0LDIuOGMwLTAuNS0wLjQtMC45LTAuOC0xTDgsMUw4LDF6Ii8+IDwvbWFzaz4gPHBhdHRlcm4gaWQ9Im15cCIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSI+IDxwYXRoIGZpbGw9InJnYigxNDAsMTQwLDE0MCkiIGQ9Ik0xMjgsMTkzYTcsNywwLDEsMSw3LTdBNyw3LDAsMCwxLDEyOCwxOTNabTAtMTNhNiw2LDAsMSwwLDYsNkE2LDYsMCwwLDAsMTI4LDE4MFptMCwxMGExLDEsMCwwLDEtMS0xdi0zYTEsMSwwLDAsMSwyLDB2M0ExLDEsMCwwLDEsMTI4LDE5MFptMC02YTEsMSwwLDEsMSwxLTFBMSwxLDAsMCwxLDEyOCwxODRaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTIwIC0xNzgpIi8+IDwvcGF0dGVybj4gPC9kZWZzPiA8cmVjdCB4PSIyIiB5PSIwIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI215cCkiIG1hc2s9InVybCgjcm1hc2spIi8+IDxnIHRyYW5zZm9ybT0ic2NhbGUoMC42KSB0cmFuc2xhdGUoMTUuODMgLTAuNSkiPiA8cGF0aCBmaWxsPSJyZ2IoMTQwLDE0MCwxNDApIiBtYXNrPSJ1cmwoI3NobSkiIGQ9Ik04LDFMMi44LDEuOUMyLjQsMS45LDIsMi40LDIsMi44QzIsNCwyLDYuMSwyLjEsNy4xYzAuMywyLjcsMC44LDQsMS45LDUuNkM1LjYsMTQuNyw4LDE1LDgsMTVzMi40LTAuMyw0LTIuNCBjMS4yLTEuNSwxLjctMi45LDEuOS01LjZDMTQsNi4xLDE0LDQsMTQsMi44YzAtMC41LTAuNC0wLjktMC44LTFMOCwxTDgsMXoiLz4gPHBhdGggZmlsbD0icmdiKDE0MCwxNDAsMTQwKSIgZD0iTTgsMTNjLTAuNS0wLjEtMS42LTAuNS0yLjQtMS41Yy0wLjktMS4yLTEuMy0yLjEtMS41LTQuNkM0LDYuMyw0LDUuMiw0LDMuN0w4LDMgVjEzeiIvPiA8cGF0aCBmaWxsPSJ0cmFuc3BhcmVudCIgc3Ryb2tlPSJyZ2IoMTQwLDE0MCwxNDApIiBzdHJva2Utd2lkdGg9IjEiIGQ9Ik04LDAuNXYxIE04LDE0djEuNSIgLz4gPC9nPiA8L3N2Zz4=') !important;
/*         <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="16" viewBox="0 0 18 16">\
           <defs>\
              <linearGradient id="rgrad" x1="80%" y1="20%" x2="30%" y2="65%">\
                 <stop offset="20%" stop-color="white"/>\
                 <stop offset="70%" stop-color="rgb(50,50,50)"/>\
                 <stop offset="100%" stop-color="black" />\
              </linearGradient>\
              <mask id="rmask">\
                 <rect x="2" y="0" width="100%" height="100%" fill="url(%23rgrad)"/>\
                 <circle cx="50%" cy="50%" r="30%" fill="black"/>\
                 <path fill="black" stroke="black" stroke-width="3.3" transform="scale(0.6) translate(15.83 -0.5)" d="M8,1L2.8,1.9C2.4,1.9,2,2.4,2,2.8C2,4,2,6.1,2.1,7.1c0.3,2.7,0.8,4,1.9,5.6C5.6,14.7,8,15,8,15s2.4-0.3,4-2.4 c1.2-1.5,1.7-2.9,1.9-5.6C14,6.1,14,4,14,2.8c0-0.5-0.4-0.9-0.8-1L8,1L8,1z"/>\
              </mask>\
              <mask id="shm">\
                 <rect x="0" y="0" width="100%" height="100%" fill="white"/>\
                 <path fill="black" stroke="white" stroke-width="0.83" d="M8,2l5,0.8c0,2,0,3.5-0.1,4.1c-0.3,2.7-0.8,3.8-1.7,5.1c-1.1,1.5-2.7,1.9-3.2,2c-0.4-0.1-2.1-0.5-3.2-2 c-1-1.3-1.5-2.4-1.7-5.1C3,6.3,3,4.8,3,2.8L8,2"/>\
                 <path fill="transparent" stroke="white" stroke-width="1.67" d="M8,1L2.8,1.9C2.4,1.9,2,2.4,2,2.8C2,4,2,6.1,2.1,7.1c0.3,2.7,0.8,4,1.9,5.6C5.6,14.7,8,15,8,15s2.4-0.3,4-2.4 c1.2-1.5,1.7-2.9,1.9-5.6C14,6.1,14,4,14,2.8c0-0.5-0.4-0.9-0.8-1L8,1L8,1z"/>\
              </mask>\
              <pattern id="myp" width="100%" height="100%">\
                   <path fill="rgb(140,140,140)" d="M128,193a7,7,0,1,1,7-7A7,7,0,0,1,128,193Zm0-13a6,6,0,1,0,6,6A6,6,0,0,0,128,180Zm0,10a1,1,0,0,1-1-1v-3a1,1,0,0,1,2,0v3A1,1,0,0,1,128,190Zm0-6a1,1,0,1,1,1-1A1,1,0,0,1,128,184Z" transform="translate(-120 -178)"/>\
              </pattern>\
           </defs>\
           <rect x="2" y="0" width="100%" height="100%" fill="url(%23myp)" mask="url(%23rmask)"/>\
           <g transform="scale(0.6) translate(15.83 -0.5)">\
              <path fill="rgb(140,140,140)" mask="url(%23shm)" d="M8,1L2.8,1.9C2.4,1.9,2,2.4,2,2.8C2,4,2,6.1,2.1,7.1c0.3,2.7,0.8,4,1.9,5.6C5.6,14.7,8,15,8,15s2.4-0.3,4-2.4 c1.2-1.5,1.7-2.9,1.9-5.6C14,6.1,14,4,14,2.8c0-0.5-0.4-0.9-0.8-1L8,1L8,1z"/>\
              <path fill="rgb(140,140,140)" d="M8,13c-0.5-0.1-1.6-0.5-2.4-1.5c-0.9-1.2-1.3-2.1-1.5-4.6C4,6.3,4,5.2,4,3.7L8,3 V13z"/>\
              <path fill="transparent" stroke="rgb(140,140,140)" stroke-width="1" d="M8,0.5v1 M8,14v1.5" />\
           </g>\
        </svg>') !important; */
    padding: 0px 4px 0px 0px !important;
}
#identity-box.grantedPermissions:-moz-any(.verifiedDomain,.verifiedIdentity,.mixedActiveBlocked,.certUserOverridden,.insecureLoginForms,.mixedActiveContent,
                .weakCipher,.mixedDisplayContent,.mixedDisplayContentLoadedActiveBlocked) > #connection-icon {
    /* small circle on a fading arc */
    background-image: url('data:image/svg+xml;utf8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTgiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxOCAxNiI+IDxkZWZzPiA8bGluZWFyR3JhZGllbnQgaWQ9InJncmFkIiB4MT0iODAlIiB5MT0iMjAlIiB4Mj0iNTAlIiB5Mj0iNTAlIj4gPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0id2hpdGUiLz4gPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9InJnYig1MCw1MCw1MCkiLz4gPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSJibGFjayIgLz4gPC9saW5lYXJHcmFkaWVudD4gPG1hc2sgaWQ9InJtYXNrIj4gPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0idXJsKCNyZ3JhZCkiLz4gPGNpcmNsZSBjeD0iNTAlIiBjeT0iNTAlIiByPSIzMCUiIGZpbGw9ImJsYWNrIi8+IDwvbWFzaz4gPHBhdHRlcm4gaWQ9ImlkaG92ZXIiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiPiA8cGF0aCBmaWxsPSIjOTk5OTk5IiBkPSJNMTMzLjUsMjAyYTIuNSwyLjUsMCwxLDEsMi41LTIuNUEyLjUsMi41LDAsMCwxLDEzMy41LDIwMlptLTUuNSwxYTEsMSwwLDEsMSwxLTFBMSwxLDAsMCwxLDEyOCwyMDNabTEsNWExLDEsMCwwLDEtMiwwdi0zYTEsMSwwLDAsMSwyLDB2M1ptLTEtOWE2LjA4LDYuMDgsMCwxLDAsNS42MjksMy45ODcsMy40NTIsMy40NTIsMCwwLDAsLjk4NC0wLjE4NUE2LjksNi45LDAsMCwxLDEzNSwyMDVhNyw3LDAsMSwxLTctNyw2LjksNi45LDAsMCwxLDIuMi4zODcsMy40NTIsMy40NTIsMCwwLDAtLjE4NS45ODRBNS45NTEsNS45NTEsMCwwLDAsMTI4LDE5OVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMjAgLTE5NykiLz4gPC9wYXR0ZXJuPiA8L2RlZnM+IDxyZWN0IHg9IjIiIHk9IjAiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjaWRob3ZlcikiIG1hc2s9InVybCgjcm1hc2spIi8+IDwvc3ZnPg==') !important;
/*         <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="16" viewBox="0 0 18 16">\
           <defs>\
              <linearGradient id="rgrad" x1="80%" y1="20%" x2="50%" y2="50%">\
                 <stop offset="0%" stop-color="white"/>\
                 <stop offset="50%" stop-color="rgb(50,50,50)"/>\
                 <stop offset="100%" stop-color="black" />\
              </linearGradient>\
              <mask id="rmask">\
                 <rect x="0" y="0" width="100%" height="100%" fill="url(%23rgrad)"/>\
                 <circle cx="50%" cy="50%" r="30%" fill="black"/>\
              </mask>\
              <pattern id="idhover" width="100%" height="100%">\
                 <path fill="%23999999" d="M133.5,202a2.5,2.5,0,1,1,2.5-2.5A2.5,2.5,0,0,1,133.5,202Zm-5.5,1a1,1,0,1,1,1-1A1,1,0,0,1,128,203Zm1,5a1,1,0,0,1-2,0v-3a1,1,0,0,1,2,0v3Zm-1-9a6.08,6.08,0,1,0,5.629,3.987,3.452,3.452,0,0,0,.984-0.185A6.9,6.9,0,0,1,135,205a7,7,0,1,1-7-7,6.9,6.9,0,0,1,2.2.387,3.452,3.452,0,0,0-.185.984A5.951,5.951,0,0,0,128,199Z" transform="translate(-120 -197)"/>\
              </pattern>\
           </defs>\
           <rect x="2" y="0" width="100%" height="100%" fill="url(%23idhover)" mask="url(%23rmask)"/>\
        </svg>') !important; */
    padding: 0px 2px !important;
}
#identity-box.grantedPermissions:-moz-any(.verifiedDomain,.verifiedIdentity,.mixedActiveBlocked,.certUserOverridden,.insecureLoginForms,.mixedActiveContent,.weakCipher,
                   .mixedDisplayContent,.mixedDisplayContentLoadedActiveBlocked) > #tracking-protection-icon[state]:not([state="loaded-tracking-content"]) ~ #connection-icon {
    /* small filled shield on a fading arc */
    background-image: url('data:image/svg+xml;utf8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTgiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxOCAxNiI+IDxkZWZzPiA8bGluZWFyR3JhZGllbnQgaWQ9InJncmFkIiB4MT0iODAlIiB5MT0iMjAlIiB4Mj0iMzAlIiB5Mj0iNjUlIj4gPHN0b3Agb2Zmc2V0PSIyMCUiIHN0b3AtY29sb3I9IndoaXRlIi8+IDxzdG9wIG9mZnNldD0iNzAlIiBzdG9wLWNvbG9yPSJyZ2IoNTAsNTAsNTApIi8+IDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iYmxhY2siIC8+IDwvbGluZWFyR3JhZGllbnQ+IDxtYXNrIGlkPSJybWFzayI+IDxyZWN0IHg9IjIiIHk9IjAiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjcmdyYWQpIi8+IDxjaXJjbGUgY3g9IjUwJSIgY3k9IjUwJSIgcj0iMzAlIiBmaWxsPSJibGFjayIvPiA8cGF0aCBmaWxsPSJibGFjayIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIzLjMiIHRyYW5zZm9ybT0ic2NhbGUoMC42KSB0cmFuc2xhdGUoMTUuODMgLTAuNSkiIGQ9Ik04LDFMMi44LDEuOUMyLjQsMS45LDIsMi40LDIsMi44QzIsNCwyLDYuMSwyLjEsNy4xYzAuMywyLjcsMC44LDQsMS45LDUuNkM1LjYsMTQuNyw4LDE1LDgsMTVzMi40LTAuMyw0LTIuNCBjMS4yLTEuNSwxLjctMi45LDEuOS01LjZDMTQsNi4xLDE0LDQsMTQsMi44YzAtMC41LTAuNC0wLjktMC44LTFMOCwxTDgsMXoiLz4gPC9tYXNrPiA8bWFzayBpZD0ic2htIj4gPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0id2hpdGUiLz4gPHBhdGggZmlsbD0idHJhbnNwYXJlbnQiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMC44MyIgZD0iTTgsM3YxMCIvPiA8L21hc2s+IDxwYXR0ZXJuIGlkPSJteXAiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiPiA8cGF0aCBmaWxsPSIjOTk5OTk5IiBkPSJNMTI4LDE5M2E3LDcsMCwxLDEsNy03QTcsNywwLDAsMSwxMjgsMTkzWm0wLTEzYTYsNiwwLDEsMCw2LDZBNiw2LDAsMCwwLDEyOCwxODBabTAsMTBhMSwxLDAsMCwxLTEtMXYtM2ExLDEsMCwwLDEsMiwwdjNBMSwxLDAsMCwxLDEyOCwxOTBabTAtNmExLDEsMCwxLDEsMS0xQTEsMSwwLDAsMSwxMjgsMTg0WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEyMCAtMTc4KSIvPiA8L3BhdHRlcm4+IDwvZGVmcz4gPHJlY3QgeD0iMiIgeT0iMCIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0idXJsKCNteXApIiBtYXNrPSJ1cmwoI3JtYXNrKSIvPiA8ZyB0cmFuc2Zvcm09InNjYWxlKDAuNikgdHJhbnNsYXRlKDE1LjgzIC0wLjUpIj4gPHBhdGggZmlsbD0iIzk5OTk5OSIgbWFzaz0idXJsKCNzaG0pIiBkPSJNOCwxTDIuOCwxLjlDMi40LDEuOSwyLDIuNCwyLDIuOEMyLDQsMiw2LjEsMi4xLDcuMWMwLjMsMi43LDAuOCw0LDEuOSw1LjZDNS42LDE0LjcsOCwxNSw4LDE1czIuNC0wLjMsNC0yLjQgYzEuMi0xLjUsMS43LTIuOSwxLjktNS42QzE0LDYuMSwxNCw0LDE0LDIuOGMwLTAuNS0wLjQtMC45LTAuOC0xTDgsMUw4LDF6Ii8+IDxwYXRoIGZpbGw9InRyYW5zcGFyZW50IiBzdHJva2U9InJnYigxNDAsMTQwLDE0MCkiIHN0cm9rZS13aWR0aD0iMSIgZD0iTTgsMC41djEgTTgsMTR2MS41IiAvPiA8L2c+IDwvc3ZnPg==') !important;
/*         <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="16" viewBox="0 0 18 16">\
           <defs>\
              <linearGradient id="rgrad" x1="80%" y1="20%" x2="30%" y2="65%">\
                 <stop offset="20%" stop-color="white"/>\
                 <stop offset="70%" stop-color="rgb(50,50,50)"/>\
                 <stop offset="100%" stop-color="black" />\
              </linearGradient>\
              <mask id="rmask">\
                 <rect x="2" y="0" width="100%" height="100%" fill="url(%23rgrad)"/>\
                 <circle cx="50%" cy="50%" r="30%" fill="black"/>\
                 <path fill="black" stroke="black" stroke-width="3.3" transform="scale(0.6) translate(15.83 -0.5)" d="M8,1L2.8,1.9C2.4,1.9,2,2.4,2,2.8C2,4,2,6.1,2.1,7.1c0.3,2.7,0.8,4,1.9,5.6C5.6,14.7,8,15,8,15s2.4-0.3,4-2.4 c1.2-1.5,1.7-2.9,1.9-5.6C14,6.1,14,4,14,2.8c0-0.5-0.4-0.9-0.8-1L8,1L8,1z"/>\
              </mask>\
              <mask id="shm">\
                 <rect x="0" y="0" width="100%" height="100%" fill="white"/>\
                 <path fill="transparent" stroke="black" stroke-width="0.83" d="M8,3v10"/>\
              </mask>\
              <pattern id="myp" width="100%" height="100%">\
                 <path fill="%23999999" d="M128,193a7,7,0,1,1,7-7A7,7,0,0,1,128,193Zm0-13a6,6,0,1,0,6,6A6,6,0,0,0,128,180Zm0,10a1,1,0,0,1-1-1v-3a1,1,0,0,1,2,0v3A1,1,0,0,1,128,190Zm0-6a1,1,0,1,1,1-1A1,1,0,0,1,128,184Z" transform="translate(-120 -178)"/>\
              </pattern>\
           </defs>\
           <rect x="2" y="0" width="100%" height="100%" fill="url(%23myp)" mask="url(%23rmask)"/>\
           <g transform="scale(0.6) translate(15.83 -0.5)">\
              <path fill="%23999999" mask="url(%23shm)" d="M8,1L2.8,1.9C2.4,1.9,2,2.4,2,2.8C2,4,2,6.1,2.1,7.1c0.3,2.7,0.8,4,1.9,5.6C5.6,14.7,8,15,8,15s2.4-0.3,4-2.4 c1.2-1.5,1.7-2.9,1.9-5.6C14,6.1,14,4,14,2.8c0-0.5-0.4-0.9-0.8-1L8,1L8,1z"/>\
              <path fill="transparent" stroke="rgb(140,140,140)" stroke-width="1" d="M8,0.5v1 M8,14v1.5" />\
           </g>\
        </svg>') !important; */
    padding: 0px 4px 0px 0px !important;
}
#nav-bar #urlbar[pageproxystate="invalid"] #identity-box {
    visibility: collapse !important;
}

#nav-bar #urlbar #identity-box > *:not(#identity-icon-labels) {
    transition: width 300ms ease-in-out !important;       
}
#urlbar #identity-box > #identity-icon-labels {
    max-width: calc((var(--ubwidth) - 40px) * 0.33) !important;
    -moz-box-ordinal-group: 6 !important;
    transition: margin 300ms ease-in-out !important;
}
#urlbar #identity-box > #identity-icon-labels > label {
    max-width: calc((var(--ubwidth) - 40px) * 0.33) !important;
    transition: margin-left 300ms ease-in-out !important;
}
#nav-bar #urlbar[focused=true] > #identity-box > *:not(#identity-icon-labels) {
    margin: 0px !important;
    padding: 0px !important;
    width: 0px !important;
    pointer-events: none !important;
    background: none !important;
    transition: margin 300ms ease-in-out, padding 300ms ease-in-out, width 300ms ease-in-out !important;
}

#nav-bar #urlbar[focused=true] #identity-icon-labels {
    margin-inline-start: calc((var(--ubwidth) - 40px) * -0.33) !important;
}
#nav-bar #urlbar[focused=true] #identity-icon-labels > label {
    margin-left: calc((var(--ubwidth) - 40px) * -0.33) !important;
    pointer-events: none !important;
}

/* identity box hovers */

#identity-box:hover > #identity-icon:not(.no-hover),
#identity-box[open=true] > #identity-icon,
#identity-box:hover > #identity-icon:not(.no-hover) ~ #tracking-protection-icon,
#identity-box[open=true] > #tracking-protection-icon,
#identity-box:hover > #identity-icon:not(.no-hover) ~ #blocked-permissions-container,
#identity-box[open=true] > #blocked-permissions-container {
    filter: brightness(60%) !important;
}
#identity-box:hover > #identity-icon:not(.no-hover) ~ #connection-icon,
#identity-box[open=true] > #connection-icon {
    filter: brightness(60%) !important;
}

#identity-box:hover:-moz-any(.verifiedDomain,.verifiedIdentity,.mixedActiveBlocked,.certUserOverridden,.insecureLoginForms,.mixedActiveContent,.weakCipher,
                                .mixedDisplayContent,.mixedDisplayContentLoadedActiveBlocked) > #identity-icon:not(.no-hover) ~ #connection-icon,
#identity-box[open=true]:-moz-any(.verifiedDomain,.verifiedIdentity,.mixedActiveBlocked,.certUserOverridden,.insecureLoginForms,.mixedActiveContent,.weakCipher,
                                .mixedDisplayContent,.mixedDisplayContentLoadedActiveBlocked) > #connection-icon,
#identity-box:hover > #identity-icon:not(.no-hover) ~ #identity-icon-labels,
#identity-box[open=true] > #identity-icon-labels {
    filter: brightness(75%) !important;
}

/* notification popup box / blocked permissions container: info about stuff like plugin permissions and location requests */

.notification-anchor-icon {
    margin-inline-start: 1px !important;
    width: 14px;
}
#notification-popup-box {
    margin: 0 !important;
    padding: 0 !important;
}
#notification-popup-box > *, 
#blocked-permissions-container > * {
    transition: width 300ms ease-in-out, 
                padding 300ms ease-in-out, 
                margin 300ms ease-in-out !important;
}
#nav-bar #urlbar[focused=true] #notification-popup-box > *, 
#nav-bar #urlbar[focused=true] #blocked-permissions-container > * {
    width: 0px !important;
    padding: 0px !important;
    margin: 0px !important;
    pointer-events: none !important;
}

/* urlbar history dropmarker */

#navigator-toolbox .urlbar-history-dropmarker {
    width: 15px !important;
    padding: 0px !important;
    box-shadow: inset 0 0.5px 0.5px 0px white !important;
    opacity: 1 !important; 
    -moz-box-ordinal-group: 8 !important;
    -moz-image-region: unset !important;
}
#navigator-toolbox .urlbar-history-dropmarker > .dropmarker-icon {
    width: 15px !important; 
    padding: 9px 4px 6px 4px;
    margin: 0px !important;
}
#nav-bar .urlbar-history-dropmarker[open],
#main-window[privatebrowsingmode=temporary] #nav-bar .urlbar-history-dropmarker[open] {
    -moz-image-region: unset !important;
}
#nav-bar .urlbar-history-dropmarker:hover:not([open]) > .dropmarker-icon {
    filter: brightness(50%) !important;
}
#nav-bar #urlbar[focused="true"] .urlbar-history-dropmarker {
    margin-inline-start: -2px !important;
}

/* go, stop, reload buttons */

#nav-bar #urlbar-go-button { 
    margin-inline-start: 2px !important;
    margin-inline-end: 4px !important;
    padding: unset !important;
    border: none !important;
    -moz-image-region: unset !important;
    /* arrow pointing right */
    list-style-image: url('data:image/svg+xml;utf8,\
       <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18">\
          <line x1="1.5" y1="9" x2="16.5" y2="9" stroke="rgb(125,125,125)" stroke-width="1.5"/>\
          <path d="M9.5,2 L16.5,9 L9.5,16" fill="transparent" stroke="rgb(125,125,125)" stroke-width="1.5"/>\
       </svg>') !important;
}
#nav-bar #urlbar-reload-button {
    margin-inline-start: 2px !important;
    margin-inline-end: 4px !important;
    padding: unset !important;
    border: none !important;
    -moz-image-region: unset !important;
    /* 270 degree arc w/triangle endcap */
    list-style-image: url('data:image/svg+xml;utf8,\
       <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18">\
          <path d="M15,9.5 A 6,6 0 1 1 9,3.5" fill="transparent" stroke="rgb(125,125,125)" stroke-width="1.5"/>\
          <path d="M9,0 L9,7 L14.5,3.5 C" stroke="rgb(125,125,125)" fill="rgb(125,125,125)" stroke-width="0.5"/>\
       </svg>') !important;
}
#nav-bar #urlbar-stop-button {
    margin-inline-start: 2px !important;
    margin-inline-end: 4px !important;
    padding: unset !important;
    border: none !important;
    -moz-image-region: unset !important;
    /* big X */
    list-style-image: url('data:image/svg+xml;utf8,\
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18">\
          <line x1="3" y1="3" x2="15" y2="15" stroke="rgb(125,125,125)" stroke-width="1.5"/>\
          <line x1="3" y1="15" x2="15" y2="3" stroke="rgb(125,125,125)" stroke-width="1.5"/>\
        </svg>') !important;
}

#nav-bar *:-moz-any(#urlbar-stop-button, #urlbar-reload-button, #urlbar-go-button):hover {
    filter: brightness(50%);
}

/* search textbox */

#nav-bar .searchbar-textbox {
    height: 23px !important;
    min-height: 23px !important;
    font: message-box !important;
    margin: 7px 3.5px !important;
    background: linear-gradient(to bottom, hsla(0,0%,99%,1), hsla(0,0%,95%,1)) padding-box !important;
    border: 0.5px solid rgb(213,211,213) !important;
    border-radius: 4px !important;
    font: message-box !important;
    font-size: 12px !important; 
    color: rgb(87,87,87) !important;
    /* last two box shadows here are transparent counterparts for animating focus ring shadows below */
    box-shadow: 
        inset 0 -0.5px 0px 0px hsla(0,0%,70%,1), 
        inset 0 0.5px 0.5px 0px white,
        0 0 5px 15px rgba(151,195,243,0),
        inset 0 0 0 0px rgba(151,195,243,0) !important; 
}
#nav-bar .searchbar-textbox[focused=true] {
    color: black !important;
    /* Animated box shadows to recreate the native OS X 10.11 focus-ring effect */
    transition: box-shadow 300ms, border 300ms !important;
    box-shadow: 
        inset 0 -0.5px 0px 0px rgb(168,205,245), 
        inset 0 0.5px 0.5px 0px white,
        0 0 0px 2.5px rgba(151,195,243,0.9),
        inset 0 0 0 0.5px rgba(151,195,243,0.9) !important; 
    border: 0.5px solid rgba(136,178,220,0.9) !important;
}
.searchbar-search-button {
    /* magnifying glass */
    -moz-image-region: unset;
    list-style-image: url('data:image/svg+xml;utf8,\
       <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20">\
          <circle cx="9" cy="9" r="4" fill="none" stroke="rgb(160,160,160)" stroke-width="1" />\
          <path d="M15.5,15.5 L12,12 " stroke="rgb(160,160,160)" stroke-width="1" />\
       </svg>'); 
}
.searchbar-search-button:hover, .searchbar-search-button:hover:active {
    -moz-image-region: unset;
    filter: brightness(50%);
}

/* dropmarker (downward chevron) styling */

#navigator-toolbox .toolbarbutton-menu-dropmarker,
#navigator-toolbox .toolbarbutton-menubutton-dropmarker,
#navigator-toolbox .urlbar-history-dropmarker {
    /* small down chevron */
    list-style-image: url('data:image/svg+xml;utf8,\
        <svg xmlns="http://www.w3.org/2000/svg" width="7" height="5">\
        <path d="M0.75,1.25 L3.5,4 L6.25,1.25" fill="transparent" stroke="rgb(115,115,115)" stroke-width="1.4" stroke-linecap="round"/>\
        </svg>') !important;
}
#navigator-toolbox :not(.bookmark-item) > .toolbarbutton-menu-dropmarker,
#navigator-toolbox :not(.bookmark-item) > .toolbarbutton-menubutton-dropmarker {
    padding: 0px !important;
}
#navigator-toolbox :not(.bookmark-item) > .toolbarbutton-menu-dropmarker > .dropmarker-icon,
#navigator-toolbox :not(.bookmark-item) > .toolbarbutton-menubutton-dropmarker > .dropmarker-icon {
    margin-top: 1.5px !important;
}
    
#navigator-toolbox .toolbarbutton-1 > .toolbarbutton-menubutton-dropmarker::before {
    display: none !important;
}

#navigator-toolbox :not(.bookmark-item) > .toolbarbutton-menu-dropmarker[disabled=true] > .dropmarker-icon,
#navigator-toolbox :not(.bookmark-item) > .toolbarbutton-menubutton-dropmarker[disabled=true] > .dropmarker-icon {
    filter: brightness(200%);    
}

#navigator-toolbox :not(.bookmark-item) > .toolbarbutton-menu-dropmarker[open] > .dropmarker-icon,
#navigator-toolbox :not(.bookmark-item) > .toolbarbutton-menubutton-dropmarker[open] > .dropmarker-icon,
#nav-bar .urlbar-history-dropmarker[open] > .dropmarker-icon {
    filter: brightness(50%);
}

/* ******************************************************************************************* */
/* Private Browsing styling (replace Firefox's mask icon with Safari-style dark URL bar, etc.) */
/* ******************************************************************************************* */

.private-browsing-indicator { 
    display: none !important; 
}
#main-window[privatebrowsingmode=temporary] #urlbar {
    color: rgb(240,240,240) !important;
    background: rgb(106,106,106) border-box !important;
}
#main-window[privatebrowsingmode=temporary] #urlbar html|*.urlbar-input::-moz-selection {
    background-color: rgb(109,135,153) !important;
}

#main-window[privatebrowsingmode=temporary] #urlbar-go-button,
#main-window[privatebrowsingmode=temporary] #urlbar-stop-button,
#main-window[privatebrowsingmode=temporary] #urlbar-reload-button,
#main-window[privatebrowsingmode=temporary] #nav-bar .urlbar-history-dropmarker { 
    -moz-image-region: unset !important;
}

#main-window[privatebrowsingmode=temporary] #nav-bar .urlbar-history-dropmarker:not([open]) {
    box-shadow: unset !important;
}
#main-window[privatebrowsingmode=temporary] #nav-bar .urlbar-history-dropmarker[open] > .dropmarker-icon {
    filter: brightness(0%) !important;
}
#main-window[privatebrowsingmode=temporary] #urlbar .urlbar-input-box::after {
    background: 
        linear-gradient(to left, rgba(106,106,106,1), rgba(106,106,106,0)) 0px 0px / 50px 100% no-repeat,
        linear-gradient(to bottom, rgb(106,106,106),rgb(106,106,106)) 50px 0px / calc(100% - 50px) 100% no-repeat !important;
}

#main-window[privatebrowsingmode=temporary] #reader-mode-button {
    border-top-left-radius: 3px !important;
    border-bottom-left-radius: 3px !important;
    filter: brightness(175%) !important;
}
#main-window[privatebrowsingmode=temporary] #page-report-button {
    filter: contrast(0%) brightness(160%) !important;
}
#main-window[privatebrowsingmode=temporary] #page-report-button:hover,
#main-window[privatebrowsingmode=temporary] #page-report-button:active,
#main-window[privatebrowsingmode=temporary] #page-report-button[open=true] {
    filter: grayscale(100%) contrast(0%) brightness(195%) !important;
}
#main-window[privatebrowsingmode=temporary] #urlbar-go-button > .toolbarbutton-icon,
#main-window[privatebrowsingmode=temporary] #urlbar-reload-button > .toolbarbutton-icon,
#main-window[privatebrowsingmode=temporary] #urlbar-stop-button > .toolbarbutton-icon,
#main-window[privatebrowsingmode=temporary] #nav-bar .urlbar-history-dropmarker > .dropmarker-icon {
    filter: brightness(175%) !important;
}
#main-window[privatebrowsingmode=temporary] #reader-mode-button:hover,
#main-window[privatebrowsingmode=temporary] #urlbar-stop-button:hover,
#main-window[privatebrowsingmode=temporary] #urlbar-reload-button:hover,
#main-window[privatebrowsingmode=temporary] #urlbar-go-button:hover,
#main-window[privatebrowsingmode=temporary] #nav-bar .urlbar-history-dropmarker:hover:not([open]) > .dropmarker-icon {
    filter: brightness(210%) !important;
}
#main-window[privatebrowsingmode=temporary] #reader-mode-button:hover:active,
#main-window[privatebrowsingmode=temporary] #reader-mode-button[readeractive] {
    filter: brightness(1000%) invert(100%) !important;
}

#main-window[privatebrowsingmode=temporary] :-moz-any(#tracking-protection-icon,#blocked-permissions-container,#notification-popup-box) {
    filter: brightness(160%) !important;
}
#main-window[privatebrowsingmode=temporary] :-moz-any(#connection-icon,#identity-icon-labels) {
    filter: brightness(140%) !important;
}
#main-window[privatebrowsingmode=temporary] #identity-box:hover > #identity-icon:not(.no-hover),
#main-window[privatebrowsingmode=temporary] #identity-box[open=true] > #identity-icon,
#main-window[privatebrowsingmode=temporary] #identity-box.grantedPermissions:hover > #identity-icon:not(.no-hover),
#main-window[privatebrowsingmode=temporary] #identity-box.grantedPermissions[open=true] > #identity-icon,
#main-window[privatebrowsingmode=temporary] #identity-box:hover > #identity-icon:not(.no-hover) ~ #tracking-protection-icon,
#main-window[privatebrowsingmode=temporary] #identity-box[open=true] > #tracking-protection-icon,
#main-window[privatebrowsingmode=temporary] #identity-box:hover > #identity-icon:not(.no-hover) ~ #blocked-permissions-container,
#main-window[privatebrowsingmode=temporary] #identity-box[open=true] > #blocked-permissions-container,
#main-window[privatebrowsingmode=temporary] #identity-box:hover > #identity-icon:not(.no-hover) ~ :-moz-any(#connection-icon,#identity-icon-labels),
#main-window[privatebrowsingmode=temporary] #identity-box[open=true] > :-moz-any(#connection-icon,#identity-icon-labels) {
    filter: brightness(210%) !important;    
}

#main-window[privatebrowsingmode=temporary] #notification-popup-box > .notification-anchor-icon:not(.in-use):hover {
    fill: #D0D0D0;
}

/* **************************************/
/* Personal / Bookmarks Toolbar styling */
/* **************************************/

#PersonalToolbar .toolbarbutton-1 { 
    background: transparent !important;
    border-radius: 4px !important;
    border-width: 0px !important;
    padding: unset !important;
    margin: 1.5px 3px !important;
    min-width: 28px !important;
    transition: unset !important;    
}

/* tone down button icons a tad */
#PersonalToolbar .toolbarbutton-1:not(:hover):not([open=true]) .toolbarbutton-icon { 
    filter: grayscale(25%) contrast(75%) brightness(120%);
}
#PersonalToolbar .toolbarbutton-1  { 
    box-shadow: unset !important;
}
#PersonalToolbar .toolbarbutton-1:hover {
    background: rgba(0,0,0,0.204) !important;
}
#PersonalToolbar .toolbarbutton-1:hover:not([open=true])[buttonover] .toolbarbutton-icon,
#PersonalToolbar .toolbarbutton-1:hover stack,
#PersonalToolbar .toolbarbutton-1[open=true] stack {
    filter: drop-shadow(0.5px 0 0 white) drop-shadow(-0.5px 0 0 white) drop-shadow(0 0.5px 0 white) drop-shadow(0 -0.5px 0 white);    
}

#PersonalToolbar .toolbarbutton-1:hover:active,
#PersonalToolbar .toolbarbutton-1[open=true] {
    background: rgba(0,0,0,0.5) !important;
}

#PersonalToolbar .toolbarbutton-1 .toolbarbutton-menubutton-dropmarker { 
    border-radius: 1px !important;
    border-left: 1px solid darkgray !important;
}

#PersonalToolbar > toolbaritem:-moz-window-inactive {
    opacity: 0.5 !important;
}

#PlacesToolbarItems toolbarbutton:not([_moz-menuactive="true"]),
#PlacesToolbarItems menu:not([_moz-menuactive="true"]),
#PlacesToolbarItems menuitem:not([_moz-menuactive="true"]) {
    color: rgb(82,82,82); 
}

#PlacesToolbarItems > .bookmark-item {
    margin: 0px 0.5px 0px 0.5px !important;
	padding: 1.5px 9px 1.5px 9px !important;
    border-radius: 4px !important;
}

#PlacesToolbarItems > .bookmark-item {
    box-shadow: unset !important;
}

#PlacesToolbarItems > toolbarbutton.bookmark-item *:-moz-any(menuitem,menu) *:-moz-any(.menu-text,.menu-iconic-text) {
    font-size: 9.75pt !important;
}

#PlacesToolbarItems > .bookmark-item > .toolbarbutton-icon {
    display: none !important;
}

#PlacesToolbarItems { 
    -moz-box-pack: center !important;
}

.bookmark-item > .toolbarbutton-menu-dropmarker {
    margin-inline-start: 2px;
    margin-inline-end: -2px;
    margin-top: -0.5px !important;
    -moz-image-region: unset !important;
}
.bookmark-item > .toolbarbutton-menu-dropmarker > .dropmarker-icon {
    filter: brightness(75%);
}
.bookmark-item:-moz-any(:hover,[open=true]):not(.subviewbutton) > .toolbarbutton-menu-dropmarker > .dropmarker-icon {
    filter: brightness(1000%) !important;
}
#PersonalToolbar .toolbarbutton-1:hover .toolbarbutton-menubutton-dropmarker > .dropmarker-icon {
    filter: brightness(75%) !important;
}
#PersonalToolbar .toolbarbutton-1:hover:not([buttonover]) .toolbarbutton-menubutton-dropmarker > .dropmarker-icon,
#PersonalToolbar .toolbarbutton-1[open=true] .toolbarbutton-menubutton-dropmarker > .dropmarker-icon {
    filter: brightness(1000%) !important;
}

#personal-bookmarks menu,
#personal-bookmarks menuitem  {
    max-width: 460px !important;
}

/* ================= */
/* More misc. tweaks */
/* ================= */

/* Location bar autocomplete */
.ac-normal-text { 
    font: message-box !important; 
} 
.ac-url-text:not([selected=true]) { 
    color: gray !important; 
}

/* Redundant navigation */
window:not([chromehidden~="toolbar"]) #contentAreaContextMenu *:-moz-any(#context-navigation, #context-sep-navigation) {
    display: none !important;
}

/* Put CSS variables at the end bc it messes up Stylish editor indentation and highlighting.. */

#identity-box {
    --identity-box-selected-background-color: none;
}

:root 
{
    --tab-min-height: 24px !important;
    --space-above-tabbar: 0px !important;
    --tab-toolbar-navbar-overlap: 0px !important;
    --navbar-tab-toolbar-highlight-overlap: 0px !important;
    --backbutton-urlbar-overlap: 0px !important;
    --toolbarbutton-combined-backgroundimage: none !important;
}

#TabsToolbar, #titlebar, #nav-bar, #TabsToolbar .tabbrowser-tab[selected], #PersonalToolbar{
    -moz-appearance: -moz-mac-vibrancy-light !important;
}

#TabsToolbar .tabbrowser-tab {
	background: linear-gradient(to bottom, rgba(100, 100, 100,.2), rgba(90, 90, 90,.22)) padding-box !important;
}

#TabsToolbar:-moz-window-inactive .tabs-newtab-button,
#TabsToolbar:-moz-window-inactive #new-tab-button,
#TabsToolbar .tabbrowser-tab:-moz-window-inactive,
#TabsToolbar .scrollbutton-up:-moz-window-inactive,
#TabsToolbar .scrollbutton-down:-moz-window-inactive,
#TabsToolbar #alltabs-button:-moz-window-inactive,
#TabsToolbar #alltabs-button:-moz-window-inactive .toolbarbutton-icon,
#TabsToolbar #alltabs-button:hover:-moz-window-inactive .toolbarbutton-icon{
	background: linear-gradient(to bottom, rgba(100, 100, 100,.1), rgba(90, 90, 90,.12)) padding-box !important;
}

#TabsToolbar .tabbrowser-tab[selected] {
    filter: brightness(90%) !important;
}
