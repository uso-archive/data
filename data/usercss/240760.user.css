/* ==UserStyle==
@name         Dark Turku Moodle v2
@namespace    USO Archive
@author       JL6079
@description  Dark mode for Moodle  https://taito.edu.turku.fi/
@version      20220823.20.44
@license      NONE
@preprocessor uso
==/UserStyle== */
@-moz-document regexp(".*(\\.edu\\.turku\\.fi).*") {
/* main css */
:root {
    /* add css variables here */
    --white: #dbdbdb;
    --ghost1: #dbdbdb22;
    --ghost2: #222121c2;
    --ghost3: #3c3a3a61;
    --dark1: #242222;
    --dark2: #2d2b2b;
    --border1: #000;
    --blue1: #1a78b3;
    --red1: #c72828;
    --turquoise1: #0e8c75;
    --green1: #599900;
    --green2: #366030;
    --alert1: #4e3d1a;
    --alert2: #d0a235;
    --gradient1: linear-gradient(to bottom right,#1a78b3 0,#0e8c75 100%);
}

html, body, #page {
    background: var(--dark1) !important;
    color: var(--white) !important;
}

.pace .pace-progress {
    background-color: var(--white) !important;
    height: 2px !important;
}

h1, h2, h3, h4, h5, h6, h1>*, h2>*, h3>*, h4>*, h5>* ,h6>* {
    color: var(--white) !important;
}

.autolink {
    color: var(--blue1) !important;
    text-decoration: underline !important;
}

.aalink.focus, .aalink:focus, #page-footer a:not([class]).focus, #page-footer a:not([class]):focus, .arrow_link.focus, .arrow_link:focus, a:not([class]).focus, a:not([class]):focus, .activityinstance>a.focus, .activityinstance>a:focus, .autolink:focus {
    outline: 0.2rem solid transparent !important;
    color: var(--alert2) !important;
    background-color: var(--ghost3) !important;
    box-shadow: none !important;
}

pre {
    color: var(--white) !important;
    border: 1px solid var(--ghost1) !important;
    padding: 1rem !important;
}

.modal-dialog .modal-content {
    background: var(--dark1) !important;
    box-shadow: 0 0 2px rgb(0 0 0 / 50%) !important;
}

/* Header, Navbar */

#adaptable-page-header-wrapper {
    background-image: var(--gradient1) !important;
    background-color: transparent !important;
}

#header2 {
    min-height: auto !important;
    height: 0 !important;
}

#header2 > * > .my-auto {
    margin-top: unset !important;
    margin-bottom: unset !important;
}

#header2 > .row {
    min-height: unset !important;
    height: 0 !important;
}

#sitetitle {
    display: none !important;
}

#main-navbar {
    background-color: transparent !important;
    border-bottom: none !important;
}

#main-navbar .navbar-nav {
    width: max-content !important;
}

#main-navbar .btco-hover-menu {
    width: min-content !important;
}

#main-navbar a.nav-link {
    color: var(--white) !important
}

#main-navbar a.nav-link:hover {
    background: var(--ghost1) !important;
}

#page-second-header {
    padding: 0 !important;
    
}

#page-navbar {
    width: 100% !important;
}

#page-navbar ol {
    color: var(--white) !important;
    background: var(--dark2) !important;
    padding: 0 10px !important;
}

#page-navbar ol a, .breadcrumb li.lastli span {
    color: var(--white) !important;
    text-decoration: underline !important;
}

/* dropdowns */

.dropdown-menu {
    border: 0px solid transparent !important;
    background: var(--dark2) !important;
    opacity: 0.8 !important;
    transition: background 0.2s, opacity 0.2s !important;
    backdrop-filter: blur(2px) invert(20%) !important;
}

.dropdown-menu:hover {
    opacity: 1 !important;
    box-shadow: 0 0 2px rgb(0 0 0 / 50%) !important;
}

.dropdown-item.active {
    background: var(--green1) !important
}

a.dropdown-item {
    color: var(--white) !important;
}

a.dropdown-item:hover, .block .content .block-timeline a:hover {
    background-color: var(--ghost1) !important;
    color: var(--white) !important;
}

/* blocks, sections */

.block, .block > *, section, .block .header {
    background: var(--dark2) !important;
}

.block * {
    color: var(--white) !important;
}

/* course-view */

.topics > li {
    background: var(--dark2) !important;
    margin-bottom: 30px !important;
    border: none !important;
    color: var(--white) !important
}

.section li.activity.hasinfo {
    border: none !important;
}

.section li.modtype_forum .ad-activity-wrapper, .sectionname {
    background: transparent !important;
}

.sectionname {
    padding: 1rem 1rem 0 !important;
    color: var(--white) !important;
}

.sectionname a {
    color: var(--blue1) !important;
    text-decoration: underline !Important;
}

.generaltable tbody tr:nth-of-type(odd) {
    background-color: var(--ghost3) !important;
    color: var(--white) !important;
}

.generaltable tbody tr:nth-of-type(even), .submissionnotgraded, .submissiongraded  {
    background: none !important;
    color: var(--white) !important; 
}

.submissionstatussubmitted  {
    background: var(--green2) !important;
    color: var(--white) !important;
}

#page-mod-quiz-view table.quizattemptsummary tr.bestrow {
    border: 1px solid var(--green1) !important
}

#page-mod-quiz-view table.quizattemptsummary tr.bestrow td {
    background: unset !important;
}

.generaltable th, .generaltable td, .activity_footer, .section_footer, .activity_footer .text, .nav_icon {
    border: none !important;
    color: var(--white)
}

/* cards */

.card, .card-footer, .block .block-cards .course-summaryitem, .card-body, .progress.bg-white {
    border: none !important;
    background: var(--dark1) !important
}

.get_stringlink {
font-family: sans-serif !important;
}

/* buttons and stuff */
.panel.hover .coursebtn.submit.btn, .btn-secondary {
    border: none !important;
}

.coursebtn.submit.btn{
    border: none !important;
    background: var(--dark2) !important;
}

.coursebtn.submit.btn:hover {
    background: var(--turquoise1) !important;
}

select, input {
    background: var(--dark1) !important;
    border: 1px solid var(--dark2) !important;
    border-radius: 3px !important;
    color: var(--white) !important
}

select > option {
    background: var(--dark1) !important;
}

/* sidebar stuff */
.list-group-item, .block_calendar_month table.minicalendar.calendartable th {
    background: transparent !important;
}

.calendar_event_site {
    background: var(--green1) !important;
}

.calendar_event_category {
    background: var(--turquoise1) !important;
}

.calendar_event_course {
    background: var(--alert1) !important;
}

.calendar_event_group {
    background: var(--alert2) !important;
}

.calendar_event_user {
    background: var(--blue1) !important;
}

.calendar_event_other {
    background: var(--ghost1) !important;
}

.popover > * {
    color: var(--white) !important;
    background: var(--dark1) !important;
}

.disabled .page-link {
    opacity: 0.25
}

.page-link {
    background: var(--dark2) !important;
    border: none !important;
}

/* message app */

.message-app {
    background: var(--dark1) !important;
    box-shadow: 0 0 2px rgb(0 0 0 / 50%) !important;
}

[data-region='message-drawer'] [data-region='body-container'] .btn-link, .message-app .bg-white, .drawer-top.p-2.border-bottom.bg-messageheader {
    background: var(--dark1) !important;
}

.message-app .message.send, .message-app  .sticky-top {
    background: var(--green1) !important;
    color: var(--white) !important
}

.message-app .message.received {
    background: var(--ghost1) !important;
    color: var(--white) !important
}

.message-app .message .tail {
    display: none !important;
}

.message-app .border-bottom {
    border: initial !important;
}

/* notification popup */
.popover-region-container, .popover-region-footer-container, .popover-region-header-container {
    background: var(--dark1) !important;
    border: 0px solid var(--border1) !important;
}

.content-item-container.unread {
    background: var(--alert1) !important;
    border-bottom: 1px solid var(--alert2) !important;
}

.preferences-container .preference-table, .preferences-container .preference-table tr *{
    border: none !important;
    color: var(--white) !important;
}

.preferences-container .preference-table tr{
    border: 1px solid var(--dark1) !important;
}

/* blog, forum */
.forumpost, .forumpost .header {
    background: none !important;
    border: 1px solid var(--ghost3) !important;
}

/* Editor Atto / Text editor */

.editor_atto {
    border: 1px solid var(--ghost1) !important
}

.editor_atto_toolbar {
    background: var(--dark1) !important;
    border: none !important
}

.editor_atto_toolbar >* {
    border: 1px solid var(--ghost3) !important;
    border-radius: 5px !important;
    background: none !important;
    filter: invert(100%)
}

.editor_atto_toolbar button.highlight {
    background-image: none !important;
    outline: 2px solid var(--blue1) !important;
    border-radius: 5px !important;
}

.toolbarbreak {
    border: none !important;
}

#id_onlinetext_editoreditable {
    color: var(--white) !important;
    background: var(--dark2) !important;
    border: none !important;
}

}

@-moz-document regexp(".*(\\.edu\\.turku\\.fi/)"), regexp(".*(\\.edu\\.turku\\.fi.\\?redirect=0)") {
/* home page specific*/
.sitetopic {
    display: none !important;
}

.coursebox.panel .panel-body {
    border: none !important;
    border-radius: 2px !important;
    margin: 5px !important;
    box-shadow: 0 0 2px rgb(0 0 0 / 50%) !important;
    background: var(--dark1) !important
}

.coursebox.panel:hover .panel-body {
    background: var(--dark) !important;
}

.cimbox {
    background-color: transparent !important;
    filter: brightness(0.5) !important;
}

.teachers a, .summary span {
    color: var(--white) !important;
}

.coursebox.hover .summary {
    display: block !important;
    height: auto !important;
    min-width: 100% !important;
    width: auto !important;
    text-align: initial !important;
}

}

@-moz-document regexp(".*(\\.edu\\.turku\\.fi.course.view).*") {
/* course-view page specific*/
#region-main {
    background: transparent !important;
    margin: -5px 0 0 0 !important;
    padding: 0 !important;
}

.section li {
    padding: 0 !important;
}

.section li .ad-activity-wrapper {
    border: none !important;
    box-shadow: none !important;
    background: transparent !important;
}

.badge-secondary {
    background: var(--dark) !important;
    color: var(--white) !important
}

.badge-success,  .btn-outline-success {
    background: var(--green1) !important;
    color: var(--white) !important;
    border: none !important;
}

#region-main div {
    background: transparent !important;
}

}

@-moz-document regexp(".*(\\.edu\\.turku\\.fi.mod.).*") {
/* assignment-view page specific */

.activity-information {
    border: none !important;
}

#region-main, .form-control:disabled, .form-control[readonly] {
    margin: 0 0 0 0 !important;
    padding: 1rem !important;
    color: var(--white) !important;
    background: var(--dark2) !important;
}

#intro.generalbox {
    background: transparent !important;
}

#intro.generalbox a {
    color: var(--blue1) !important;
    text-decoration: underline !important;
}

table.quizreviewsummary > tbody > tr > .cell, .outcome {
    background: none !important;
}

.formulation {
    color: var(--white) !important;
}

.que .outcome, .comment, .specificfeedback {
    background: var(--ghost1) !important;
    color: var(--alert2) !important;
}

.ddwtos .draghome, .feedback .specificfeedback {
    background: none !important;
}

}

@-moz-document regexp(".*(\\.edu\\.turku\\.fi.calendar.view).*") {
/* calendar page specific */
.maincalendar .calendarmonth td, .maincalendar .calendarmonth th {
    border: 2px solid var(--dark1) !important;
    padding: 5px;
}

}

@-moz-document regexp(".*(\\.edu\\.turku\\.fi.user.).*") {
/* user profile page specific */
.tabcontentcontainer input.adaptabletab:checked+label {
    background: var(--green1) !important;
    border: none !important;
}

.tabcontentcontainer label.adaptabletab {
    background: var(--dark1) !important;
}

#adaptable_profile_tree .adaptable-tab.tab-panel {
    border: 1px solid var(--ghost2) !important;
    padding: 1rem !important;
    margin: 1rem 0 0 0 !important;
}

}
