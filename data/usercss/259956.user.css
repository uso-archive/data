/* ==UserStyle==
@name         userstyles.org - Fix site's new design (2023)
@namespace    USO Archive
@author       Achernar
@description  This userstyle modifies the new layout to make some sections of a userstyle page more readable. List of modifications:    - Enlarge the minimum width of the style's popup.  - Resize/widen "description" and "notes" to make them readable again.  - Color links in "description" and "notes" to differentiate from normal text.  - Move "Recommended" at the bottom.  - Display source code below "Show css" and not in a popup.  - Possibility to hide ads (use "customize" to enable, or use Stylus pop menu).  - Slighly widened scrollbars (easier to click & scroll).  - Comments moved below userstyle infos.    For more userstyles and userscripts visit <a color="red" href="https://procyon-b.github.io/programming/" target="_blank" style="color: red;">my programming page</a>
@version      20230802.20.17
@license      CC-BY-SA-4.0
@preprocessor uso
@advanced dropdown clickoutside "Clicking outside the style's popup closes the popup (otherwise, hit ESC to exit popup)" {
    clickoutside1 "no*" <<<EOT  EOT;
    clickoutside2 "yes" <<<EOT /* EOT;

}
@advanced dropdown fitimage "Show the whole image (empty space can appear)" {
    fitimage1 "yes*" <<<EOT  EOT;
    fitimage2 "no" <<<EOT /* EOT;

}
@advanced dropdown hideads "Hide ads" {
    hideA1 "no*" <<<EOT /* EOT;
    hideA2 "yes" <<<EOT  EOT;

}
@advanced dropdown movereco "Move \"Recommended\" at the bottom" {
    movereco1 "yes*" <<<EOT  EOT;
    movereco2 "no" <<<EOT /* EOT;

}
@advanced dropdown proffix "Disable fix for profile page (if they fix it and my fix breaks things)" {
    proffix1 "no*" <<<EOT  EOT;
    proffix2 "yes" <<<EOT /* EOT;

}
@advanced dropdown scrollcmt "Separate scroll comments" {
    scrollcmt1 "yes*" <<<EOT  EOT;
    scrollcmt2 "no" <<<EOT /* EOT;

}
@advanced dropdown stopanim "Stop logo animation (saves CPU)" {
    stopanim1 "yes*" <<<EOT  EOT;
    stopanim2 "no" <<<EOT body[style*="overflow: hidden"] EOT;

}
==/UserStyle== */
/* ==UserStyle==
@name         userstyles.org - Fix site's new design (2023)
@namespace    github.com/Procyon-b
@version      0.3.4
@description  Enlarge the minimum width of the style's popup. Move "description" and "notes" to make them readable again. Move "Recommended" at the bottom. Show source code in the same popup. Hide ads (use "customize" to enable). Slighly widened scrollbars.
@author       Achernar
@license      CC BY-NC 4.0

@preprocessor uso

@advanced dropdown hideads "Hide ads" {
  hideA1 "no" <<<EOT /* EOT;
  hideA2 "yes" <<<EOT EOT;
  }
@advanced dropdown movereco "Move \"Recommended\" at the bottom" {
  movereco1 "yes" <<<EOT EOT;
  movereco2 "no" <<<EOT /* EOT;
  }
@advanced dropdown fitimage "Show the whole image (empty space can appear)" {
  fitimage1 "yes" <<<EOT EOT;
  fitimage2 "no" <<<EOT /* EOT;
  }
@advanced dropdown clickoutside "Clicking outside the style's popup closes the popup (otherwise, hit ESC to exit popup)" {
  clickoutside1 "no" <<<EOT EOT;
  clickoutside2 "yes" <<<EOT /* EOT;
  }
@advanced dropdown stopanim "Stop logo animation (saves CPU)" {
  stopanim1 "yes" <<<EOT EOT;
  stopanim2 "no" <<<EOT body[style*="overflow: hidden"] EOT;
  }
@advanced dropdown scrollcmt "Separate scroll comments" {
  scrollcmt1 "yes" <<<EOT EOT;
  scrollcmt2 "no" <<<EOT /* EOT;
  }
@advanced dropdown proffix "Disable fix for profile page (if they fix it and my fix breaks things)" {
  proffix1 "no" <<<EOT EOT;
  proffix2 "yes" <<<EOT /* EOT;
  }

==/UserStyle== */

@-moz-document domain("userstyles.org") {

/* hide ads */
/*[[hideads]]*/
.adsbygoogle, div[class^="GoogleAd"] {
  display: none !important;
}
div[class^="style_adWrapper"] {
  min-height: unset !important;
}/**/

/* hide gif when style popup */
body[style*="overflow: hidden"] img[src*=".gif"],
body[style*="overflow: hidden"] [class^="welcome-banner_top_"] [role="logo"] svg {
  display: none;
}
/* larger scrollbars */
body > #__next ::-webkit-scrollbar {
  width: 7px !important;
}

/* block logos animation */
/*[[stopanim]]*/ [clip-path="url(#__lottie_element_71)"] {
  transform: matrix(1,0,0,1,24.027999877929688,-1291);
}
/*[[stopanim]]*/ [clip-path="url(#__lottie_element_2)"] > g:first-child {
  transform: unset;
  transform: matrix(1,0,0,1,102.48800659179688,16.671001434326172);
}
/*[[stopanim]]*/ [clip-path="url(#__lottie_element_2)"] > g:nth-child(2) {
  transform: matrix(1,0,0,1,102.40499877929688,16.588001251220703);
}
/*[[stopanim]]*/ [clip-path="url(#__lottie_element_2)"] > g:nth-child(3) {
  transform: matrix(1,0,0,1,82.85900115966797,23.468002319335938);
}
/*[[stopanim]]*/ [clip-path="url(#__lottie_element_2)"] > g:nth-child(4) {
  transform: matrix(1,0,0,1,82.7760009765625,23.38500213623047);
}
/*[[stopanim]]*/ [clip-path="url(#__lottie_element_2)"] > g:nth-child(5) {
  transform: matrix(1,0,0,1,70.3489990234375,10);
}
/*[[stopanim]]*/ [clip-path="url(#__lottie_element_2)"] > g:nth-child(6) {
  transform: matrix(1,0,0,1,71.20999908447266,18.641998291015625);
}
/*[[stopanim]]*/ [clip-path="url(#__lottie_element_2)"] > g:nth-child(7) {
  transform: matrix(1,0,0,1,71.1259994506836,18.558998107910156);
}
/*[[stopanim]]*/ [clip-path="url(#__lottie_element_2)"] > g:nth-child(15) ~ g {
  transform: unset;
  display: none !important;
}

/* un-sticky ads*/
[class^="style_adWrapper_"] {
  position: static !important;
}

/* move side-ads below style card */
[class^="style_styleCard_"] > [class^="GoogleAd_stylePageSides_"] {
  z-index: -1 !important;
}

/* no-click */
/*[[clickoutside]]*/
body[style*="overflow: hidden"]  {
  overflow: hidden !important;
  pointer-events: none;
}
div[class^="style_mainWrapper"] > * {
  pointer-events: all;
  }
div[class^="style_mainWrapper"] div[class^="style_styleCard"] {
  overflow-y: auto !important;
  box-sizing: content-box;
  padding-right: 4px;
  height: 100vh;
  margin-top: 0;
  border-radius: 0;
  background: transparent;
  margin-bottom: 0 !important;
}
div[class^="style_mainWrapper"] div[class^="style_styleCard"] div[class^="style_bottom_"] {
  margin-bottom: 2em;
}
div[class^="style_mainWrapper"] div[class^="style_styleCard"] > [class^="style-header_styleHeader_"] {
  margin-top: 32px;
  border-radius: 24px 24px 0 0;
}
div[class^="style_mainWrapper"] div[class^="style_styleCard"] > [class^="style"] {
  background-color: #faf9f8;
}

div[class^="style_mainWrapper"] > [class^="style-navigation_navButtonWrapper_"] {
  position: relative !important;
  left: unset !important;
  right: unset !important;
  bottom: unset;
}
div[class^="style_mainWrapper"] > [class^="style-navigation_navButtonWrapper_"][style^="right:"] {
  position: static;
  display: block;
  flex-basis: 25%;
  order: -1;
  --right: 3em;
}
div[class^="style_mainWrapper"] > [class^="style-navigation_navButtonWrapper_"][style^="left:"] {
  position: static;
  flex-basis: 25%;
  --left: 3em;
}
div[class^="style_mainWrapper"] > [class^="style-navigation_navButtonWrapper_"] button,
div[class^="style_mainWrapper"] > [class^="style-navigation_navButtonWrapper_"] div[role="arrowAnimationClose"] {
  position: absolute;
  margin-top: 49vh !important;
  left: var(--left, unset) !important;
  right: var(--right, unset) !important;
  width: auto !important;
  height: auto !important;
}
div[class^="style_mainWrapper"] > [class^="style-navigation_navButtonWrapper_"] svg {
  width: 50px !important;
  height: 50px !important;
}
/* end no-click */


div[class^="style_mainWrapper"] div[class^="style_styleCard"] {
  min-width: 1000px;
  margin-bottom: 2em;
}


/* move recommended bottom */
div[class^="style_mainWrapper"] div[class^="style_styleCard"] > [class^="style_bottom_"] {
  display: flex;
  flex-direction: column;
}
/*[[movereco]]*/
div[class^="style_mainWrapper"] div[class^="style_styleCard"] > [class^="style_bottom_"] > [class^="recommended-styles_"] {
  order: 2;
}
/* end recommended */


div[class^="style_mainWrapper"] div[class^="style_styleCard"] [class^="style_infoAndComments"] {
  display: block;
}
[class^="style-info_infoWrapper_"] {
  display: flex;
  flex-flow: row wrap;
  gap: 0 1em;
}
[class^="style-info_infoWrapper_"] > * {
  flex-basis: 100%;
}

[class^="style-info_infoWrapper_"] > [class^="style-info_title_"] {
  display: block;
}
[class^="style-info_infoWrapper_"] > [class^="style-info_title_"] div:not([class]) {
  display: none;
}
[class^="style-info_infoWrapper_"] > [class^="style-info_title_"] > [class^="stylish-popover_"] {
  display: inline;
  position: static;
}
[class^="style-info_infoWrapper_"] > [class^="style-info_title_"] [class^="stylish-popover_"] * {
  display: inline;
  position: static;
  background: none;
  padding: 0;
}
[class^="style-info_infoWrapper_"] > [class^="style-info_title_"] [class^="stylish-popover_"] [class^="style-info_licenseTitle_"] {
  color: hsla(0,0%,100%,.5);
  margin-right: 1em;
  margin-left: 2em;
}
[class^="style-info_infoWrapper_"] > [class^="style-info_title_"] [class^="stylish-popover_"] [class^="style-info_licenseTitle_"] ~ * {
  color: #fff;
}

[class^="style-info_infoWrapper_"] > [class^="style-info_infoSection_"] {
  order: 9;
}
[class^="style-info_infoWrapper_"] > div:not([class]) {
  order: 15;
}
[class^="style-info_infoWrapper_"] > [class*="style-info_infoRow_"][class*="style-info_date"] {
  order: 2; 
  flex-basis: 30%;
  flex-grow: unset;
}
[class^="style-info_infoWrapper_"] > [class*="style-info_infoRow_"][class*="style-info_dateUpdated_"] {
  order: 4 !important;
}
[class^="style-info_infoWrapper_"] > [class*="style-info_infoRow_"] {
  flex-basis: unset;
  flex-grow: 5;
  flex-basis: 60%;
  order: 3;
  margin-bottom: 16px !important;
}

div[class^="style_mainWrapper"] div[class^="style_styleCard"] [class*="info-content_infoWithReadMore"] {
  max-height: unset;
}
div[class^="style_mainWrapper"] div[class^="style_styleCard"] [class*="info-content_readMore_"] {
  display: none;
}
[class^="style-info_infoWrapper_"] > [class^="style-info_infoSection_"]:not([class*=" "]) + [class^="style-info_infoSection_"]:not([class*=" "]) [class*="info-content_infoWithReadMore"] {
  max-height: 25em;
  overflow-y: scroll;
  padding-right: 0.5em;
}
[class^="style-info_infoWrapper_"] > [class^="style-info_infoSection_"]:not([class*=" "]) [class*="info-content_infoWithReadMore"] a {
  color: #87CEFA;
}
[class^="style-info_infoWrapper_"] > [class^="style-info_infoSection_"]:not([class*=" "]) [class*="info-content_infoWithReadMore"] a:hover {
  color: #4169E1;
}

/* source code */
#portalPopup {
  pointer-events: all;
}
[class^="style-info_infoWrapper_"] > [class^="Popup_modalWrapper_"],
[class^="style-info_infoWrapper_"] > [class^="Popup_overlay_"] {
  order: 10;
  margin-bottom: 1em;
  position: unset;
  background: unset;
}

[class^="style-info_infoWrapper_"] > [class^="Popup_modalWrapper_"] [class^="Popup_overlay_"] {
  position: unset;
  background: unset;
}
[class^="style-info_infoWrapper_"] > [class^="Popup_modalWrapper_"] [class^="Popup_overlay_"] > *,
[class^="style-info_infoWrapper_"] > [class^="Popup_overlay_"] [class^="Popup_modalContent_"] {
  margin: unset;
  padding: unset;
  width: 100%;
  display: block;
}

[class^="style-info_infoWrapper_"] [class*="style-info_cssCodeWrapper_"],
#portalPopup [class*="style-info_cssCodeWrapper_"] {
  flex-basis: 100%;
  padding: 25px 15px 15px;
  width: unset;
  height: 25em;
}
#portalPopup [class*="style-info_cssCodeWrapper_"] {
  min-width: 800px !important;
}
[class^="style-info_infoWrapper_"] > [class^="Popup_modalWrapper_"] [class^="Popup_close_"],
[class^="style-info_infoWrapper_"] > [class^="Popup_overlay_"] [class^="Popup_close_"] {
  top: 0 !important;
  background: none;
}

[class^="style-info_infoWrapper_"] [class*="style-info_cssCodeWrapper_"] textarea,
#portalPopup [class*="style-info_cssCodeWrapper_"] textarea {
  font-family: monospace;
  font-weight: unset;
  font-size: 13px;
  padding-right: 0.5em;
  resize: none;
}
#portalPopup [class*="style-info_cssCodeWrapper_"] textarea {
  width: 100%;
  height: 100%;
}
/* end source code*/

/* comments placeholder */
div[class^="style_mainWrapper"] div[class^="style_styleCard"] [class^="no-comments-indication_indicationWrapper_"] {
  flex-direction: row;
}
div[class^="style_mainWrapper"] div[class^="style_styleCard"] [class^="no-comments-indication_imageWrapper_"] {
  margin: 0;
}
div[class^="style_mainWrapper"] div[class^="style_styleCard"] [class^="no-comments-indication_imageWrapper_"] svg {
  width: 100px !important;
  height: 100px !important;
}

/* "new comment" */
div[class^="style_mainWrapper"] div[class^="style_styleCard"] [class^="style-comments_commentsWrapper_"] > :first-child > :only-child:after {
  content: "";
  padding-bottom: 1em;
  border-bottom: 2px solid #161616;
  display: block;
  margin: 0 -0.5em 2em;
}

/* style's image */
/*[[fitimage]]*/
div[class^="style_mainWrapper"] div[class^="style_styleCard"] [class^="style-image_styleImage_"] {
  background-size: contain;
  margin-bottom: 0;
}/**/

/* profile page's height screwed up */
/*[[proffix]]*/
[class^="user-profile_profilePageWrapper_"] [class^="user-profile_sectionScroll_"] {
  height: unset !important;
}
/* profile styles listing */
/*[[proffix]]*/
[class^="styles-list_styleRow_"] > [class^="styles-list_styleImage_"] {
  flex-shrink: 0;
}
[class^="styles-list_styleRow_"] > [class^="styles-list_styleDetails_"] {
  padding-right: 1em !important;
}/**/

[class^="styles-list_styleName_"] {
  word-break: break-word;
}

/* scroll comments */
/*[[scrollcmt]]*/
[class^="style_commentsWrapper_"] {
  max-height: calc( 100vh - 100px);
  overflow: hidden scroll;
  margin: 10px 16px 10px;
  padding: 10px 8px 14px !important;
  }

[class^="style_infoAndComments_"] {
  background-color: #323232;
  }

[class^="style-comments_commentsTitle_"] {
  top: -15px;
  z-index: 99;
  background: inherit;
  }
/**/
}