/* ==UserStyle==
@name         Habr darkmode for new mobile version
@namespace    USO Archive
@author       HBozon
@description  Dark style for new (09.09.2018) mobile version of habr.com. This style affect lists, articles and comments. Color scheme is just inverted mostly. Also margins and paddings significantly reduced for get more content with less scrolling. Some not relevant blocks hided completely.
@version      20180923.14.09
@license      CC0-1.0
@preprocessor uso
==/UserStyle== */
@-moz-document domain("m.habr.com") {
/*header*/
.tm-header {
	background-color: #000;
}
.tm-site-logo {
	filter: invert(100%);
}
.tm-image-placeholder_user-blue {
	background-color: #000;
}
/*main*/
.tm-layout__wrapper {
	background-color: #000;
}
/* make wider */
.tm-page_narrow {
	max-width: 100%;
}
.tm-layout {
	background-color: #0f0f0f;
}
/* sidebars */
.tm-overlay__background_filled {
	background-color: rgba(255,255,255,.1);
}
.tm-sidebar__container {
	background-color: #000;
}
/* left sidebar */
.tm-main-menu__item {
	color: #cccccc;
	border-bottom-color: #151515;
}
.tm-sidebar-submenu__title {
	color: #867167;
}
.tm-sidebar-submenu__item {
	color: #bbbbbb;
}
/* right sidebar */
.tm-user-item {
	border-bottom-color: #151515;
}
.tm-user-item__username {
	color: #ab7155;
}
.tm-user-menu__menu-link {
	color: #cccccc;
}
/* tags */
.tm-tags {
	margin-bottom: 1px;
}
.tm-tags__tag {
	border-color: #504f1d;
	color: #99985d;
}
/* hide trash */
.tm-jobs-list {
	display: none;
}
.tm-sharing {
	display: none;
}
.tm-footer {
	display: none;
}
}

@-moz-document regexp("https:\\/\\/m\\.habr\\.com\\/(top\\/.*|all|feed|flows.*)(\\/page\\d*)?\\/") {
/* top tab */
.tm-tabs_gray {
	background-color: #080808;
}
.tm-page-progress-bar {
	background-image: linear-gradient(90deg, rgb(136, 87, 47), rgb(136, 87, 47) 40%, rgb(53, 28, 15) 50%, rgb(53, 28, 15) 60%, rgb(136, 87, 47));
}
.tm-tabs_gray .tm-tabs__list::after {
	background-image: none;
}
.tm-tab {
	color: #908A88;
}
.tm-tab_active.tm-tab__link {
	color: #B27F55;
}
.tm-tab_active::after {
	background-color: #88572F;
}
.tm-tabs__level::before {
	background-color: #2a2220;
}
/* articles */
.tm-articles-list__item {
	margin-bottom: 2px;
}
.tm-article_preview {
	padding: 4px;
}
.tm-article {
	background-color: #000;
}
.tm-user-info__username {
	color: #beb4af;
}
.tm-user-meta {
	margin-bottom: 1px;
}
.tm-user-meta__date {
	color: #888;
}
.tm-article-title_preview {
	margin-bottom: 1px;
}
.tm-article-title__link {
	color: #cccccc;
}
.tm-article__counters {
	padding-top: 1px;
}
.tm-data-icons__counter {
	color: #867167;
}
.tm-data-icons__counter_positive {
	color: #71992e;
}
.tm-data-icons__counter_negative {
	color: #d53c30;
}
/* footer */
.tm-pagination{
	background-color: #000;
}
.tm-pagination__link_active {
	color: #ab7155;
}

/* general */
a.tm-article-title__link:visited {
	color: #ab7155;
}
.tm-page {
	padding-bottom: 5px;
}
.tm-fira-loaded {
	background-color: #000;
}
/* only for top tab settngs */
.tm-filter-icon, .tm-filter-icon_active {
	filter: invert(100%);
}
.tm-tabs__sublevel::before {
	background-color: #2a2220;
}
.tm-tabs__sublevel {
	padding-top: 2px;
	padding-bottom: 2px;
}
.tm-tabs__filter {
	background-color: #000;
}
.tm-links-tabs {
	border-color: #2a2220;
}
.tm-links-tabs__tab_active .tm-links-tabs__tab-text {
	color: #b27f55;
}
.tm-links-tabs__tab_active .tm-links-tabs__tab-text::after {
	border-color: #88572f;
}
.tm-links-tabs__tab-text {
	color: #938680;
}
.tm-links-tabs__tab-text:hover {
	color: #b27f55;
}
/* only flows */
.tm-section-name {
	background-color: #080808;
	border-bottom-color: #2a2220;
}
.tm-section-name__text {
	color: #cccccc;
}
}

@-moz-document regexp("https:\\/\\/m\\.habr\\.com\\/(post\\/\\d*\\/|company\\/.*\\/blog\\/\\d*\\/)(#\\d*)?(comments\\/?)?") {
.tm-article-hubs {
	background-color: #080808;
	border-bottom-color: #2a2220;
}
.tm-article-hubs__link {
	color: #ab7155;
}
.tm-page-progress-bar {
	background-image: linear-gradient(90deg, rgb(136, 87, 47), rgb(136, 87, 47) 40%, rgb(53, 28, 15) 50%, rgb(53, 28, 15) 60%, rgb(136, 87, 47));	
}
.tm-article {
	background-color: #000;
}
.tm-article-title__link, .tm-article-title__text {
	color: #cccccc;
}
.tm-article-title__link:visited {
	color: #ab7155;
}
.tm-user-info__username {
	color: #beb4af;
}
.tm-user-meta__date {
	color: #888888;
}
/* code blocks */
.tm-article-body_formatted pre code, .tm-comment-body__content pre code {
	background-color: #040200;
	border-color: #1a1713;
}
.hljs {
	color: #b2b2b3;
}
}

@-moz-document regexp("https:\\/\\/m\\.habr\\.com\\/(post\\/\\d*\\/|company\\/.*\\/blog\\/\\d*\\/)(#\\d*)?") {
.tm-page-article__content_narrow {
	max-width: 100%;
}
/* main */
.tm-article-body_formatted {
	color: #eeeeee;
}
.tm-article-body_formatted a {
	color: #ab7155;
}
.tm-article-body_formatted a:hover {
	color: #b78d7b;
}
.tm-article-body_formatted h1 a:active, .tm-article-body_formatted h1 a:hover, .tm-article-body_formatted h2 a:active, .tm-article-body_formatted h2 a:hover, .tm-article-body_formatted h3 a:active, .tm-article-body_formatted h3 a:hover, .tm-article-body_formatted h4 a:active, .tm-article-body_formatted h4 a:hover, .tm-article-body_formatted h5 a:active, .tm-article-body_formatted h5 a:hover, .tm-article-body_formatted h6 a:active, .tm-article-body_formatted h6 a:hover {
	color: #b78d7b;
}
.tm-article-body_formatted .spoiler .spoiler_title {
	color: #b78d7b;
}
.tm-article-body_formatted img {
	filter: brightness(0.5);
}
.tm-article-body_formatted img:hover {
	filter: brightness(1);
}
.tm-article-icons__icon_views {
	filter: invert(100%);
}
.tm-article-icons__icon_bookmarks {
	filter: invert(100%);
}
.tm-article-icons__counter {
	color: #867167;
}
/* author info and comments */
.tm-user-card {
	background-color: #000;
}
.tm-page-article__author {
	max-width: 100%;
}
.tm-votes-switcher__vote_up, .tm-votes-switcher__vote_down {
	filter: invert(100%);
}
.tm-karma__text, .tm-rating__text, .tm-followers__text {
	color: #908a88;
}
.tm-followers__counter {
	color: #ae795a;
}
.tm-user-card__name {
	color: #cccccc;
}
.tm-user-card__nickname {
	color: #aa7348;
}
.tm-user-card__short-info {
	color: #cbcbcb;
}
.tm-page-article__comments-count {
	max-width: 100%;
	background-color: #000;
}
.tm-article-comments__text::before {
	filter: invert(100%);
}
.tm-article-comments__text {
	color: #aa7348;
}
/* hide stiked footer */
.tm-article__sticked-counters-wrapper {
	display: none;
}
/* math formulas procesing */
div.tm-article-body>math>img {
    width:  16px;
    height:  16px;
}
}

@-moz-document regexp("https:\\/\\/m\\.habr\\.com\\/(post\\/\\d*\\/|company\\/.*\\/blog\\/\\d*\\/)comments\\/?") {
.tm-page-article-comments__wrapper {
	background-color: #000;
}
.tm-page-article-comments__title {
	color: #bbbbbb;
	border-bottom-color: #2a2220;
}
.tm-page-article-comments__comments-count {
	color: #b47154;
}
.tm-comment-datetime .tm-comment-datetime__link {
	color: #a0a0a0;
}
.tm-comment-body__content {
	color: #eeeeee;
}
.tm-comment__breadcrumbs {
	filter: invert(1);
}
.tm-comment-score {
	color: #805c49;
}
.tm-comment-score_positive {
	color: #6c9000;
}
.tm-comment-score_negative {
	color: #d04e4e;
}
.tm-comment-head_is-new {
	background-color: #180c00;
}
.tm-comment-head_is-by-op {
	background-color: #332200;
}
.tm-article-comments-form {
	background-color: #080808;
	border-bottom-color: #2a2220;
	border-top-color: #1b1715;
}
.tm-notice__content {
	color: #cccccc;
}
.tm-page-article-comments__wrapper .spoiler .spoiler_title {
	color: #b78d7b;
}
.tm-comment-body__content a {
	color: #ab7155;
}
.tm-comment-body__content a:hover {
	color: #b78d7b;
}
.tm-comment-body__content img {
	filter: brightness(0.5);
}
.tm-comment-body__content img:hover {
	filter: brightness(1);
}
}