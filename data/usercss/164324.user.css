/* ==UserStyle==
@name           BBC News Dark
@namespace      USO Archive
@author         jamerst
@description    `A full dark theme for BBC News<strong>I recommend installing via UserCSS, as this allows for automatic updates. Install from my GitHub <a href="https://github.com/jamerst/userstyles">here</a>.If you find any issues, please report them <a href="https://github.com/jamerst/userstyles/issues">here</a> and I'll look into them.</strong>`
@version        20191009.16.48
@license        NO-REDISTRIBUTION
@preprocessor   uso
==/UserStyle== */
/* ==UserStyle==
@name Dark BBC News
@author James Tattersall
@version 1.1.0
@description Full dark theme for BBC News
@namespace github.com/jamerst/userstyles
@license MIT

@homepageURL https://github.com/jamerst/userstyles
@supportURL https://github.com/jamerst/userstyles/issues
@updateURL https://github.com/jamerst/userstyles/raw/master/dark_bbc_news.user.css
==/UserStyle== */

@-moz-document url-prefix("https://www.bbc.co.uk/news"), url-prefix("https://www.bbc.com/news") {
    /* ### SITE HEADERS ### */

    /* Top bar and search window */
    .orb-nav-pri, .orb-nav-pri.orb-nav-active {
        border-color: black;
        background: #8B1414;
    }
    /* Notification triangle colour */
    #notification-link .notification-link--triangle:first-of-type {
        border-left-color: white;
    }
    
    #notification-link .notification-link--triangle:last-of-type {
        border-left-color: #74EBEB;
    }
    /* Nav items */
    .orb-nav-pri a, .orb-nav-pri.orb-nav-active .orb-nav-sec a, .orb-nav-pri.orb-nav-active .orb-nav-sec h2, .orb-nav-pri.orb-nav-active a, .se-searchbox-app .se-episode-suggestion__title {
        color: #E0E0E0;
    }
    /* Nav item borders */
    .orb-nav-pri .orb-nav-id,
    .orb-nav-links li,
    .orb-nav-links ul,
    .orb-nav-pri.orb-nav-active .orb-nav-links li,
    .orb-nav-pri.orb-nav-active .orb-nav-links ul,
    .orb-nav-pri.orb-nav-active .orb-nav-id {
        border-color: black;
    }
    /* Search fields */
    .orb-nav-search form div, .se-searchbox-app .se-searchbox__input__field {
        color: #E0E0E0;
        background-color: #424242;
    }
    /* Search field placeholder */
    .orb-nav-search #orb-search-q::placeholder {
        color: #9E9E9E;
    }
    /* Search icon */
    #orb-search-button, .se-searchbox-app .se-searchbox__submit {
                filter: invert(74%);
        -webkit-filter: invert(74%);
    }
    /* Secondary nav bar back */
    .gs-u-display-none.gs-u-display-block\@m, .secondary-navigation {
        background-color: #424242;
    }
    /* Fix main header */
    .nw-o-news-wide-navigation, .navigation--wide {
        border-color: #BB1919;
        background-color: #BB1919 !important;
    }
    /* Secondary nav bar items */
    .nw-c-nav__secondary-menuitem-container a, .navigation-wide-list--secondary .navigation-wide-list__link, .nw-c-nav__wide-secondary__title span {
        color: #E0E0E0;
    }
    .nw-c-nav__secondary-menuitem-container a:hover {
        color: #E0E0E0;
    }
    /* Fix colour when been visited */
    .nw-c-nav__secondary-menuitem-container a:visited {
        color: #E0E0E0;
    }
    /* Invert BBC logo and top bar elements */
    .orb-nav-section:first-child a,
    #idcta-statusbar,
    #notification-link,
    .new-notifications,
    .orb-icon-arrow {
        filter: invert(1);
    }
    /* Fix stuff also inverted by invert selector */
    #orb-nav-links a {
        filter: unset;
    }
    #notification-link {
        border-color: white;
    }
    #orb-header.orb-nav-pri .orb-nav-id #notification-link:hover {
        border-bottom-color: #FF9210;
    }

    /* ### HOMEPAGE ### */

    /* Main page back */
    body, #site-container, #page {
        background-color: #212121;
    }
    /* Hyperlink hover and focus */
    a:hover, a:focus,
    .most-popular-list-item__link:hover .most-popular-list-item__headline, .most-popular-list-item__link:focus .most-popular-list-item__headline,
    .bold-image-promo:hover .bold-image-promo__title, .bold-image-promo:focus .bold-image-promo__title,
    .top-stories-promo-story:hover .top-stories-promo-story__title, .top-stories-promo-story:focus .top-stories-promo-story__title,
    .nw-o-link-split__anchor:hover .nw-o-link-split__text, .nw-o-link-split__anchor:focus .nw-o-link-split__text,
    .story-body__link-email-text:hover,
    .story-body__link-email:hover .icon,
    a:hover .cta,
    .title-link:hover .title-link__title-text,
    .vxp-mostpop__list-item:hover .vxp-mostpop__list-item-headline,
    .vxp-recommended__link:hover .vxp-recommended__headline {
        color: #E0E0E0 !important;
        text-decoration: underline;
    }
    /* Don't underline links in nav or tags, fix main page underlines */
    .site-brand a:hover, .site-brand a:focus,
    #orb-header a:hover, #orb-header a:focus,
    .nw-o-link-split__anchor:hover .nw-o-link-split__text,
    .nw-o-link-split__anchor:focus .nw-o-link-split__text,
    .tags-list__tags a:hover {
        text-decoration: none;
    }
    /* Section headings */
    .nw-c-slice-heading__title, .nw-c-slice-heading__action-text, .nw-c-nations-slice__button, .nw-p-oat .nw-c-maxim-wrap {
        color: #E0E0E0;
        background-color: #212121;
    }
    /* Article heading */
    .gs-c-promo-heading h3, .nw-c-rhino {
        color: #E0E0E0;
    }
    /* Article description */
    .nw-c-promo-summary {
        color: #BDBDBD;
        background-color: unset !important;
    }
    /* Timestamp, category, comments and related */
    .gs-o-bullet__text, .nw-o-link, .nw-c-comment span, .nw-o-link-split__text, #topos-component .nw-c-related-items__text{
        color: #9E9E9E;
    }
    .nw-o-link:visited {
        color: #9E9E9E;
    }
    /* Icons and bullet points */
    .gs-o-bullet svg, .nw-c-circle svg {
        fill: #BDBDBD;
    }
    /* Video icon */
    .nw-p-default .gs-c-media-indicator {
        color: #BDBDBD;
        background-color: #424242;
    }
    .gs-c-media-indicator {
        background-color: transparent !important;
    }
    .features-and-analysis__story .responsive-image__label {
        color: #BDBDBD;
        background-color: #636363;
    }
    /* Watch and listen live panels */
    .nw-c-watch-listen__body {
        background-color: #424242;
    }
    /* Listen live header */
    .nw-c-watch-listen__title--listen {
        background-color: #636363;
    }
    /* Most read */
    .gs-o-media__body .nw-o-link, .vxp-mostpop__list-item-headline {
        color: #E0E0E0;
    }
    .gs-o-media__body .nw-o-link:visited {
        color: #9E9E9E;
    }
    /* Region buttons */
    .nw-c-ebon-on-oat {
        color: #E0E0E0;
        background-color: #424242;
    }
    /* Local news search */
    .ls-c-search__input, .ls-c-search__submit {
        color: #E0E0E0;
        background-color: #424242;
    }
    .ls-c-search__input::placeholder, .nw-c-local__add-location {
        color: #BDBDBD;
    }
    .ls-o-location--dark {
        color: #E0E0E0;
    }
    /* Breaking news panel */
    .nw-c-breaking-news-banner {
        background-color: #424242;
    }
    .gel-pica {
        color: #E0E0E0;
    }
    /* Live panel */      
    .nw-p-default.lx-c-dynamic-promo {
        background-color: #424242;
    }

    /* ### SECTION PAGES ### */

    /* Section title */
    h1.index-title {
        color: #E0E0E0;
    }
    /* Article details and links */
    .buzzard__summary, .links-list__link, .pigeon-item__summary {
        color: #BDBDBD;
    }
    .badge-icon-only--video {
        background-color: unset;
    }
    /* Remove hardcoded background colours */
    .sparrow__light-3 .sparrow-item, .sparrow__dark .sparrow-item {
        background-color: unset;
    }
    /* Share with BBC news */
    .simple-list__item-icon svg {
        fill: #BDBDBD;
    }
    .simple-list__item-label, .simple-list__link {
        color: #BDBDBD;
    }
    /* Follow us section (not on all pages) */
    .follow-us {
        background-color: #424242;
    }
    .follow-us__title {
        color: #E0E0E0;
    }
    /* Follow buttons */
    .bananaquit__item-link {
        color: #E0E0E0;
        background-color: #424242;
    }
    .follow-us__list-item-link {
        color: #E0E0E0;
        background-color: #616161;
    }
    /* Our experts */
    .correspondent-promo__title, .correspondent-promo__headline, .nw-o-link-split__text {
        color: #E0E0E0;
    }
    .correspondent-promo__latest-story, .nw-c-correspondents-promo {
        background-color: #424242;
    }
    .correspondent-promo__article-summary {
        color: #BDBDBD;
    }
    /* More from BBC news */
    .flex .pukeko-item--dark .pukeko-item__body {
        background-color: #424242;
    }
    /* Markets (Business section) */
    .markets-index-promo {
        color: #BDBDBD;
        background-color: #424242;
    }
    .markets-index-promo__title {
        color: #E0E0E0;
    }

    /* ### ARTICLE PAGES ### */

    /* Main title, body text and links */
    .story-body__h1,
    .story-body p,
    .story-body .story-body__introduction,
    .story-body__list-item,
    .story-body__link,
    .story-body__list-item a,
    .story-body__link,
    .story-body__link-external,
    .story-body p strong,
    .story-body__link-email-text,
    .story-body strong {
        color: #E0E0E0;
    }
    /* Article section */
    .index-title__container a:link {
        color: #E0E0E0;
    }
    .index-title__container a:visited {
        color: #E0E0E0;
    }
    .index-title__container:hover {
        transition: .3s;

        border-color: white;
    }
    /* Side quote */
    aside.quote {
        color: #E0E0E0;
        background-color: #424242;
    }
    .icon-quote {
                filter: invert(100%);
        -webkit-filter: invert(100%);
    }
    .quote-inner {
        padding-left: .5em;

        border: none;
    }
    /* Secondary column backgrounds */
    .swift, .top-stories-promo, .features-and-analysis, .container-heron, .most-popular__title {
        color: white;
        background-color: #424242;
    }
    /* Secondary column headings and main items */
    .title-link__title-text, .top-stories-promo__title, .top-stories-promo-story__title, .features-and-analysis__title, .bold-image-promo__title, .group-title, .most-popular-list-item__headline {
        color: #E0E0E0;
    }
    /* Visited secondary column items */
    .top-stories-promo-story:visited .top-stories-promo-story__title {
        color: #9E9E9E;
    }
    /* Secondary column small items */
    .swift__entry, .swift__time-stamp .date--v2, .top-stories-promo-story__summary, .date--v1, .date--v2, .heron__item-summary {
        color: #BDBDBD;
    }
    /* Related topics */
    .story-body__crosshead {
        color: #E0E0E0;
    }
    /* Tags */
     .tags-list__tags a {
        color: #E0E0E0;
        background-color: #424242;
        border-color: #636363;
    }
    .tags-list__tags a:hover {
        background-color: #636363;
    }
    /* Share title and more on this story */
    .share__title, .group__title, a .cta, .group-title__link, .from-other-news-sites__title {
        color: #E0E0E0;
    }
    /* Set separator colour */
    .group {
        border-color: #424242;
    }
    /* Remove border colour between articles */
    .sparrow .sparrow-item {
        border-color: transparent;
    }
    /* External article links */
    .from-other-news-sites-list-item__title, .from-other-news-sites__about {
        color: #BDBDBD;
    }
    /* External article source */
    .from-other-news-sites-list-item__source {
        color: #9E9E9E;
    }
    /* External article icon */
    .from-other-news-sites__icon {
                filter: invert(80%);
        -webkit-filter: invert(80%);
    }
    /* Buttons */
    .with-extracted-share-icons .extracted__channel-link, .twite__share-button, .comments-button__link {
        background-color: #424242;
    }
    /* Comment button hover */
    .comments-button__link:hover, .comments-button__link:focus {
        background-color: #616161;
    }
    /* Remove background image - can't be easily changed to fit */
    .comments-button__count {
        background-image: unset;
    }
    /* Comments panels */
    .cmts-header, .cmts-type-view, .cmt-narrow-view .cmts-top-sort-control, .cmts-ft {
        background-color: #424242;
    }
    /* Selected comments view */
    .cmts-type-view-li a.selected {
        background-color: #616161;
    }
    /* Comment text colour */
    .afs-cmts-outer, .afs-cmts-outer a {
        color: #E0E0E0 !important;
    }
    /* Voting arrows */
    .cmt-arrow {
                filter: invert(100%);
        -webkit-filter: invert(100%);
    }
    button.cmt-rateable:hover * {
                filter: unset;
        -webkit-filter: unset;
    }
    /* Trust message */
    .trust-project {
        background-color: #424242;
    }
    .trust-project__link {
        color: #E0E0E0;
    }
    /* Contact */
    .contact-form__input, .contact-form__textarea, .contact-form__input--submit {
        background-color: #424242;
        border-color: #636363;
        color: #E0E0E0;
    }
    .contact-form__label {
        color: #E0E0E0;
    }

    /* ### LONG READ ARTICLES ### */

    /* Narrow column */
    .scrollmation-background .main-column {
        background: rgba(66,66,66,.8);
    }
    /* Wide column */
    .scrollmation-two-column, .section-text {
        background-color: #424242;
    }
    /* Backgrounds */
    .Theme-Section-Light, .Theme-Section-Light .Theme-Layer-BodyText {
        background-color: #212121;
        color: #E0E0E0
    }
    /* Article contents */
    .story .section, .story .quote-block blockquote p {
        color: #E0E0E0;
    }
    .story .main-column .caption {
        color: #BDBDBD !important;
    }
    .Theme-Layer-BodyText-Blockquote {
        color: #BDBDBD;
    }
    /* Quote icon */
    blockquote::before {
                filter: invert(80%);
        -webkit-filter: invert(80%);
    }
    /* Footer */
    #bbc-news-vj-full-width-container, .bbc-shorthand-onward-journey {
        color: #E0E0E0;
        background-color: #212121;
    }

    /* ### VIDEOS ### */

    /* Video title */
    .vxp-media__headline {
        color: #E0E0E0;
    }
    /* Description */
    .vxp-media__summary {
        color: #BDBDBD;
    }
    /* Video titles */
    .vxp-related-content__headline, .vxp-recommended__headline, .vxp-carousel__headline {
        color: #E0E0E0;
    }
    /* Video carousel ends */
    .vxp-carousel__gradient-front {
        background-image: -webkit-linear-gradient(left, #212121, rgba(33,33,33,.8));
        background-image:    -moz-linear-gradient(left, #212121, rgba(33,33,33,.8));
        background-image:      -o-linear-gradient(left, #212121, rgba(33,33,33,.8));
        background-image:     -ms-linear-gradient(left, #212121, rgba(33,33,33,.8));
    }
    .vxp-carousel__gradient {
        background-image: -webkit-linear-gradient(left, rgba(33,33,33,.8), #212121);
        background-image:    -moz-linear-gradient(left, rgba(33,33,33,.8), #212121);
        background-image:      -o-linear-gradient(left, rgba(33,33,33,.8), #212121);
        background-image:     -ms-linear-gradient(left, rgba(33,33,33,.8), #212121);
    }
    /* Section titles */
    .vxp-recommended__title span, .vxp-mostpop__title span {
        color: #E0E0E0;
        background-color: #212121;
    }
    /* Share buttons */
    .extracted__channel-link, .vxp-share__share-button {
        background-color: #424242;
    }
    
    /* ### LATEST UPDATES ### */
    #latest-updates, .gs-t-news .lx-stream-post__header {
        color: #E0E0E0;
    }
    .gs-t-news .lx-stream-post__meta-time, .gs-t-news .lx-stream-post-body, .gs-t-news .lx-stream-post__contributor-name {
        color: #BDBDBD;
    }
    .gs-t-news .lx-stream-post {
        color: #9E9E9E;
    }
    .gs-t-news .lx-stream-show-more__button, .gs-t-news .lx-stream-post-body > a {
        background-color: #636363;
        color: #E0E0E0;
        border: unset;
    }

    /* ### MISC ### */

    /* Local News search page */
    /* There's nothing for you here */
    .nw-c-local {
        background-color: #212121;
    }
    .nw-c-local__heading-title {
        color: #E0E0E0;
    }
}
