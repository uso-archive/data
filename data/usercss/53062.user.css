/* ==UserStyle==
@name           Firefox Personas Fix
@namespace      USO Archive
@author         MillyC
@description    `Firefox Personas Fix (AppButton visible and not Glass)`
@version        2011829.7.10
@license        NO-REDISTRIBUTION
@preprocessor   uso

==/UserStyle== */

/*
 Firefox Personas Fix (AppButton visible and not Glass)
*/
@namespace url(http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul);


/* not Glass */
@media all and (-moz-windows-compositor: 0) {
  #main-window[sizemode="normal"] > #titlebar:-moz-lwtheme,
  #main-window[sizemode="normal"] > #titlebar > #titlebar-content:-moz-lwtheme {
    background-image: inherit !important;
    background-position: inherit !important;
    visibility: hidden !important;
  }

  #main-window[sizemode="normal"] > #titlebar > #titlebar-content:-moz-lwtheme {
    visibility: visible !important;
  }

  /* Statusbar */
  #status-bar > statusbarpanel > resizer:-moz-lwtheme {
    -moz-appearance: none !important;
  }
}

/* Theme: Classic */
@media all and (-moz-windows-compositor: 0) and (-moz-windows-classic) {
  #main-window[sizemode="normal"] > #titlebar > #titlebar-content:-moz-lwtheme {
    box-shadow: 0 1px 0 0 threedlightshadow inset,
                0 2px 0 0 threedhighlight inset,
                0 3px 0 0 activeborder inset,
                0 4px 0 0 threedface inset !important;
  }
  #main-window[sizemode="normal"]:-moz-window-inactive > #titlebar > #titlebar-content:-moz-lwtheme {
    box-shadow: 0 1px 0 0 threedlightshadow inset,
                0 2px 0 0 threedhighlight inset,
                0 3px 0 0 inactiveborder inset,
                0 4px 0 0 threedface inset !important;
  }
}

/* Theme: Luna */
@media all and (-moz-windows-compositor: 0) and (-moz-windows-default-theme) {
  #main-window[sizemode="normal"] > #titlebar > #titlebar-content:-moz-lwtheme {
    box-shadow: 0 5px 4px -4px white inset !important;
  }
}

/* Theme: Aero Basic */
@media all and (-moz-windows-compositor: 0) and (-moz-windows-theme: aero) {
  #main-window[sizemode="normal"] > #titlebar > #titlebar-content:-moz-lwtheme {
    box-shadow: 0 1px 0 0 black inset,
                0 2px 0 0 rgba(255,255,255,50) inset,
                0 16px 16px -16px grey inset !important;
  }
}