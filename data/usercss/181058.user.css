/* ==UserStyle==
@name         Bitbucket Server Dark v6.7.1
@namespace    USO Archive
@author       Ironman517
@description  Dark mode for Bitbucket v6.7.1.  Modified version Bitbucket Server Dark from DaemonExMachina. Please let me know if you run into any problems.
@version      20200403.16.38
@license      CC0-1.0
@preprocessor uso
==/UserStyle== */
@-moz-document url-prefix("https://bitbucket.com/") {
:root {
    --text-1: #ddd;
    --text-2: #bbb;
    --text-3: #555;
    --text-blue: #59d;
    --text-orange: #b50;
    --text-red: #a33;
    --link-blue: #36e;    
    --bg-body: #21252D;
    --bg-dark-grey: #2C3037;
    --bg-grey: #434953;
    --bg-light-grey: #666;
    --bg-very-light-grey: #999;    
    --bg-blue: #148;
    --bg-dark-blue: #137;
    --bg-orange: #3c1b04;    
    --bg-yellow: #663;
    --bg-dark-yellow: #221;    
    --bg-bright-yellow: #b92;
    --bg-green: #383;
	--bg-dark-green: #272;
    --bg-red: #733;
    --bg-dark-red: #422;    
    --border-colour: #555;
    --border: 1px solid var(--border-colour);
}

/* side by side scroll bar*/
.diff-hunk-map
{
    filter: invert(85%) hue-rotate(180deg) brightness(105%) contrast(105%);    
}
/* side by side scroll bar, inverted so make very light*/
.side-by-side-diff-editor-from > .diff-hunk-map
{
	border-right: 1px solid #bbb!important;
}
.side-by-side-diff-editor-to > .diff-hunk-map
{
	border-left: 1px solid #bbb!important;
}
/* Successful Build icon */
table.aui .aui-icon.build-icon.successful-build-icon, .aui-icon.build-icon.successful-build-icon {
    color:var(--bg-green) !important;
}
/* Inprogress Build icon */
table.aui .aui-icon.build-icon.inprogress-build-icon, .aui-icon.build-icon.inprogress-build-icon {
    color:var(--bg-yellow) !important;
}

/* Failed Build icon */
table.aui .aui-icon.build-icon.failed-build-icon, .aui-icon.build-icon.failed-build-icon {
        color:var(--text-red) !important;
}
.commit-selector-button.arbitrary-diff-button .arbitrary-diff-button-content .arbitrary-diff-button-commit-range,
.aui-button.aui-button-link .aui-icon,
.aui-button.aui-button-link:hover .aui-icon,
.aui-button.aui-button-link:active .aui-icon
{
    color:white;
}
.aui-header
{
	background-color: var(--bg-blue);
}

.searchable-selector input,
.aui-header a,
.aui-iconfont-more:before,
.aui-dialog h2.dialog-title,
.aui-select2-container.select2-container .select2-choice, .aui-select2-container.select2-container .select2-choice:visited, .aui-select2-container.select2-container a.select2-choice,
.aui-button.aui-button-link, .aui-button.aui-button-link:visited, .aui-button.aui-button-text, .aui-button.aui-button-text:visited,
.aui-dialog2-header-main,
.aui-nav-vertical>li>a, 
.aui-navgroup-vertical .aui-nav>li>a,
.aui-nav-vertical .aui-nav .aui-nav-selected>a, 
.aui-navgroup-vertical .aui-nav .aui-nav-selected>a
{
    color: var(--text-1);
}
.aui-nav-vertical .aui-nav .aui-nav-selected>a, 
.aui-navgroup-vertical .aui-nav .aui-nav-selected>a {
    background-color: var(--bg-blue);
}
.aui-button.aui-button-link,
.bitbucket-theme form.aui .buttons-container .aui-button.aui-button-link.cancel
{
    padding-left:3px;
    padding-right:3px;
}
.aui-button.aui-button-subtle.source-view-link {
    padding-top: 5px;
}
.filter-bar .aui-select2-container:not(:hover):not(.select2-container-active) .select2-choice.select2-default,
.filter-bar .aui-select2-container.select2-container.select2-container-active .select2-default
{
	color: var(--text-1) !important;
}
.aui-select2-container.select2-container .select2-choice, .aui-select2-container.select2-container .select2-choice:visited, .aui-select2-container.select2-container a.select2-choice
{
    border:none;
}
/* Gray gradient */
.reviewer-avatar-list .overflow-reviewers-trigger,
.aui-button.aui-button-subtle,
.select2-container.aui-select2-container,
.filter-bar .aui-select2-container .select2-choice.select2-default,
.add-self button, .remove-self button
{
    background-image: -webkit-linear-gradient(top, var(--bg-grey),var(--bg-dark-grey));
    color: var(--text-1) !important;
	border:none;
}

/* Gray Inverse gradient*/
.aui-button-subtle.aui-button:focus, .aui-button-subtle.aui-button:hover, .aui-button:focus, .aui-button:hover,
.aui-sidebar button.aui-nav-item.aui-button.aui-button-link:hover,
.aui-select2-container.select2-container .select2-choice:focus, .aui-select2-container.select2-container .select2-choice:hover,
.filter-bar .aui-select2-container.select2-container.select2-dropdown-open .select2-choice,
.filter-bar .aui-select2-container.select2-container.select2-dropdown-open.filter-bar-async .select2-choice,
.filter-bar .aui-select2-container.select2-container.select2-dropdown-open .select2-choice:focus,
.filter-bar .aui-select2-container.select2-container.select2-dropdown-open.filter-bar-async .select2-choice:focus,
.filter-bar .aui-select2-container.select2-container.select2-dropdown-open .select2-choice:hover,
.filter-bar .aui-select2-container.select2-container.select2-dropdown-open.filter-bar-async .select2-choice:hover,
.filter-bar .aui-button[aria-pressed="true"]
{
    background-image: -webkit-linear-gradient(top, var(--bg-dark-grey),var(--bg-grey));
    color: var(--text-1) !important;
	border:none;    
}

/*Blue gradient */
.aui-lozenge-current,
.aui-button.aui-button-primary, .aui-button.aui-button-primary:visited
{
    background-image: -webkit-linear-gradient(top, var(--bg-blue),var(--bg-dark-blue));
    color: var(--text-1);
	border:none;
}
/*Blue inverse gradient */
.aui-button.aui-button-primary:hover, .aui-button.aui-button-primary:active, .aui-button.aui-button-primary:focus, .aui-button.aui-button-primary:focus-within
{
    background-image: -webkit-linear-gradient(top, var(--bg-dark-blue),var(--bg-blue));
    color: var(--text-1);
	border:none;
}

/* Green gradient */
aui-badge.ghx-done,
table.aui.dashboard-pull-requests-table td.new-commits .aui-icon::after,
.aui-lozenge-success.aui-lozenge-subtle,
.aui-lozenge-success,
.reviewer-status-selector[data-status='APPROVED'] > .aui-button.approve
{
    background-image: -webkit-linear-gradient(top, var(--bg-green),var(--bg-dark-green));
    color: var(--text-1);
    border:none;
}
/*Pull Request badge in side bar*/
.aui-sidebar-submenu .aui-nav>li>.aui-nav-item>.aui-badge, .aui-sidebar-submenu .aui-nav>li>.aui-nav-item>aui-badge, .aui-sidebar .aui-nav>li>.aui-nav-item>.aui-badge, .aui-sidebar .aui-nav>li>.aui-nav-item>aui-badge
{
    background-image: -webkit-linear-gradient(top, var(--bg-green),var(--bg-dark-green));
    border: none;
    color: var(--text-1);    
}

/* Yellow gradient */
.aui-lozenge-moved,
.reviewer-status-selector[data-status='NEEDS_WORK'] > .aui-button.needs-work
{
    background-image: -webkit-linear-gradient(top, var(--bg-bright-yellow),var(--bg-yellow));
    color: var(--text-1);
    border:none;    
}
/* Red Gradient */
.aui-button[aria-disabled="true"],
.aui-lozenge-error,
.aui-button.disabled.aui-button-primary,
.pull-request-state-lozenge.needs-work
{
    background-image: -webkit-linear-gradient(top, var(--bg-red),var(--bg-dark-red)) !important;
    color: var(--text-1)!important;
    border:none;        
}

.aui-button.aui-dd-trigger.commit-selector-button.aui-alignment-target,
.aui-dropdown2.aui-layer.aui-style-default.aui-alignment-element-attached-top,
div#inbox-wrapper
{
    border:var(--border);
}

a,
.aui-tabs.horizontal-tabs>.tabs-menu>.menu-item.active-tab a, .aui-tabs.horizontal-tabs>.tabs-menu>.menu-item.active-tab a:active, .aui-tabs.horizontal-tabs>.tabs-menu>.menu-item.active-tab a:focus, .aui-tabs.horizontal-tabs>.tabs-menu>.menu-item.active-tab a:hover, .aui-tabs.horizontal-tabs>.tabs-menu>.menu-item.active-tab a:link, .aui-tabs.horizontal-tabs>.tabs-menu>.menu-item.active-tab a:visited
{
    color: var(--link-blue);
}

.diff-view.text-view .conflict {
    color: var(--text-2);
}

.aui-tabs.pull-request-page-tabs > .pull-request-content .merge-conflicted-message
{
    background-color: var(--bg-dark-yellow);
}

#quick-search-dialog .quick-search-error .content .error-text .error-text-primary,
.dashboard-repositories .dashboard-search-repo-error .error-text .error-text-primary
{
    color: var(--text-red);
}

/* Root elements */
body,
tbody .homepage-section,
.homepage-footer,
.homepage-teams,
#content .aui-sidebar + .aui-page-header,
table.aui > tbody > tr,
.aui-page-panel-content,
table.bb-list tr:hover .labels,
table.bb-list tr .labels,
.file-tree-wrapper,
.pull-request-header .reviewer-avatar-list,
canvas,
#diff-hunk-map,
body.aui-page-focused #footer-logo, body.aui-page-notification #footer-logo,
div#footer-logo,
.bitbucket-theme:not(.aui-page-focused) #content > header,
.filterable-entity-table .paged-table-filter,
.search,
.search .search-form,
#content
{
    color: var(--text-1);
    background-color: var(--bg-body);
}
body.aui-page-focused, body.aui-page-notification {
	background-color: var(--bg-dark-grey);
}
/*Edit Dropdown */
.aui-dropdown2.aui-style-default ul,
.aui-dropdown2.aui-style-default [role="menuitem"]
{
    background-image:none!important;
    color: var(--text-1);
    background-color: var(--bg-dark-grey);
}
.aui-dropdown2.aui-style-default [aria-disabled=true]
{
    background-color: var(--bg-red) !important;
}

.aui-dropdown2.aui-style-default [role="menuitem"]:hover,
#pull-request-header-more.aui-dropdown2.aui-style-default [role='menuitem']:not(.aui-dropdown2-disabled):hover
{
	background-color: var(--bg-grey);
}

.aui-dropdown2-section,
.aui-sidebar-body
{
    border-color: var(--border-colour);
}

.aui-sidebar-body,
.aui-sidebar-footer
{
    border-right: var(--border);
}

/* Side by side rows */
.side-by-side-diff .line, .side-by-side-diff .CodeMirror-code,
.side-by-side-diff .modified.line + .context.line, .side-by-side-diff .context.line + .modified.line, .side-by-side-diff .context.line + .conflict-ours.line, .side-by-side-diff .conflict-ours.line + .context.line, .side-by-side-diff .commented.line + .context.line, .side-by-side-diff .context.line + .commented.line, .side-by-side-diff .paired-with-change, .side-by-side-diff .modified.line + .context.line .bitbucket-gutter-marker, .side-by-side-diff .context.line + .modified.line .bitbucket-gutter-marker, .side-by-side-diff .context.line + .conflict-ours.line .bitbucket-gutter-marker, .side-by-side-diff .conflict-ours.line + .context.line .bitbucket-gutter-marker, .side-by-side-diff .commented.line + .context.line .bitbucket-gutter-marker, .side-by-side-diff .context.line + .commented.line .bitbucket-gutter-marker, .side-by-side-diff .paired-with-change .bitbucket-gutter-marker, .side-by-side-diff .line, .side-by-side-diff .CodeMirror-code > *, .side-by-side-diff .line .CodeMirror-gutter-elt > *, .diff-view.text-view .removed.line, .diff-view.text-view .removed.segment-connector, .diff-view.text-view .removed.line .comment-box, .diff-view.text-view .removed.line .bitbucket-gutter-marker, .diff-view.text-view .added.line, .diff-view.text-view .added.segment-connector, .diff-view.text-view .added.line .comment-box, .diff-view.text-view .added.line .bitbucket-gutter-marker {
    border-color: #262A32!important;
}

.aui-button.aui-button-primary[disabled] {
	background-color: var(--bg-red) !important;
}

#inbox-wapper .aui-tabs .tabs-pane tr.prNeedsWork,
#inbox-wrapper .aui-tabs .tabs-pane tr.prNeedsWork{
    background-color: var(--bg-orange);
}

input
{
    background-color: var(--bg-dark-grey)!important;
}

.aui-select2-drop .select2-results .select2-highlighted
{
	background-color: var(--bg-light-grey);
}

.skipped-container .content-above,
.skipped-container .content-below {
	filter: invert(100%);
}

.content-view.show-whitespace-characters .CodeMirror .cm-tab::after,
.content-view.show-whitespace-characters .CodeMirror .CodeMirror-code > div > pre > span::after,
.content-view.show-whitespace-characters .CodeMirror .cm-whitespace::after,
.cm-whitespace
{
    color:var(--text-3)!important;
}

.aui-select2-drop .select2-results .select2-result-selectable
{
    color: white !important;
}
.content-view.show-whitespace-characters .CodeMirror .cm-tab::after
{
	content: '⟶|';
    background-image:none!important;
}

.stash-text {
    color: var(--text-2);
    border-color: var(--border-colour);
    box-shadow: inset 0 1px 3px var(--border-colour);
}

#announcement-banner > div {
    background-color: var(--bg-dark-grey) !important;
    border-color: var(--bg-red) !important;
}

.aui-tabs.horizontal-tabs>.tabs-menu:after
{
	background-color: var(--bg-light-grey) !important;
}
#commit-file-content,
.bitbucket-theme #content table.aui > tbody > tr, .bitbucket-theme .aui-dialog2 table.aui > tbody > tr, .bitbucket-theme #content table.aui > tfoot > tr, .bitbucket-theme .aui-dialog2 table.aui > tfoot > tr,
.replies .comment.unread > .content, .replies .comment.focused > .content,
.pull-request-activity .diff-comment-activity .file-content, .pull-request-activity .file-comment-activity .detail .file-comment-container,
.bitbucket-theme #content table.aui > thead, .bitbucket-theme .aui-dialog2 table.aui > thead,
table.aui:not(.aui-table-list)>tbody>tr>td, table.aui:not(.aui-table-list)>tbody>tr>th, table.aui:not(.aui-table-list)>tfoot>tr>td, table.aui:not(.aui-table-list)>tfoot>tr>th
{
	border-color: var(--border-colour);
}

.pull-request-activity .diff-comment-activity .CodeMirror .CodeMirror-scroll, .pull-request-activity .activity-item .CodeMirror .CodeMirror-scroll
{
	background-color: var(--bg-light-grey);
}
.paged-table tr.focused td {
	background-color: var(--bg-dark-grey);
}
/* Main page panel */
.aui-page-panel {
    color: var(--text-1);
    background-color: var(--bg-body);
    border-color: var(--border-colour);
}
.table-expander {
	color: var(--text-1) !important;

}

/* Sidebar */
.aui-sidebar .aui-sidebar-wrapper,
.aui-sidebar-submenu .aui-sidebar-wrapper {
    background-color: var(--bg-dark-grey);
    border-color: var(--border-colour);
}

.aui-sidebar .aui-sidebar-footer > .aui-sidebar-settings-button:hover,
.aui-sidebar-submenu .aui-sidebar-footer > .aui-sidebar-settings-button:hover,
.aui-sidebar .aui-sidebar-footer > .aui-sidebar-toggle:hover,
.aui-sidebar-submenu .aui-sidebar-footer > .aui-sidebar-toggle:hover,
.aui-sidebar .aui-sidebar-footer > .aui-sidebar-settings-button:focus,
.aui-sidebar-submenu .aui-sidebar-footer > .aui-sidebar-settings-button:focus,
.aui-sidebar .aui-sidebar-footer > .aui-sidebar-toggle:focus,
.aui-sidebar-submenu .aui-sidebar-footer > .aui-sidebar-toggle:focus {
    background-color: var(--border-colour);
}

/* Search box */
#quick-search-dropdown {
    background-color: var(--bg-dark-grey);
    border-color: var(--border-colour);
}

.quick-search-dropdown-content h2 {
    color: var(--text-2);
}

#quick-search-dropdown li.search-for-code,
.aui-navgroup-horizontal:after{
    background-color: var(--bg-grey);
}

#quick-search-dropdown li.search-for-code>a {
    color: var(--text-1);
}

#quick-search-dropdown li.selected,
#quick-search-dropdown li.search-for-code.selected {
    background-color: var(--bg-blue);
}

/* Section dividers */
.aui-navgroup-vertical .aui-nav,
.aui-navgroup-vertical .aui-nav-heading,
.aui-sidebar .aui-sidebar-footer,
.aui-sidebar-submenu .aui-sidebar-footer,
.pull-request-activity .rescope .commits-table tbody > tr:first-child {
    border-color: var(--border-colour);
}

li.has-actions:hover
{
    color: #3572b0;
    background-color: var(--bg-body);
}

/* Alerts and messages */
.aui-message {
    color: var(--text-1);
    background: var(--bg-grey);
    border-color: var(--bg-blue);
}

.aui-message:before {
    background-color: var(--bg-blue);
}

.aui-message.hint, .aui-message-hint,
.aui-message.info, .aui-message-info {
    color: var(--text-1);
    background: var(--bg-grey);
    border-color: var(--bg-blue);
}

.aui-message.hint:before, .aui-message-hint:before,
.aui-message.info:before, .aui-message-info:before {
    background-color: var(--bg-blue);
}

.aui-message.warning, .aui-message-warning {
    color: var(--text-1);
    background: var(--bg-grey);
    border-color: var(--bg-bright-yellow);
}

.aui-message.warning:before, .aui-message-warning:before {
    background-color: var(--bg-bright-yellow);
}

.aui-message.warning:after, .aui-message-warning:after {
    color: white;
}

.aui-message.error, .aui-message-error {
    color: var(--text-1);
    background: var(--bg-grey);
    border-color: var(--bg-red);
}

.aui-message.error:before, .aui-message-error:before {
    background-color: var(--bg-red);
}

.aui-message.success, .aui-message-success {
    color: var(--text1);
    background: var(--bg-grey);
    border-color: var(--bg-green);
}

.aui-message.success:before, .aui-message-success:before {
    background-color: var(--bg-green);
}

/* Settings pages */
#merge-strategies .merge-strategies .merge-strategy-container:hover {
    background-color: var(--bg-dark-grey);
}

/* Badges */
aui-badge,
.aui-badge,
.markup .user-mention {
    color: var(--text-2);
    background-color: var(--bg-body);
    border-color: var(--border-colour);
}


/* Dashboard - Header underline */
.dashboard-pull-requests-table-container.dashboard-pull-requests-empty h4 {
    border-color: var(--border-colour);
}


/* Dashboard - Repos */
.dashboard-repositories .dashboard-repository-list-container {
    background: var(--bg-dark-grey);
}


/* Dashboard - PR list - Focused */
table.aui.dashboard-pull-requests-table tr.focused {
    background-color: var(--bg-dark-grey);
}


/* Source tree panel */
.sourcetree-panel {
    background-image: linear-gradient(to bottom, var(--bg-body), var(--bg-dark-grey));
    background-color: var(--bg-body);
    background-position: bottom;
    background-repeat: repeat-x;
    border-color: var(--border-colour);
}


/* Table - filter search box */
.paged-table-filter-input {
    color: var(--text-1);
    background-color: var(--bg-dark-grey);
    border-color: var(--border-colour);
    box-shadow: none;
}


/* Selection */
.aui-select2-container.select2-container .select2-choice,
.aui-select2-container.select2-container a.select2-choice,
.aui-select2-container.select2-container .select2-choice:visited {
    text-shadow: none;
}

.adg2-react-select.is-open > .Select-control {
    background-color: var(--bg-grey);
}

.adg2-react-select.is-open>.Select-menu-outer {
    background-color: var(--bg-dark-grey);
}

.adg2-react-select.is-open>.Select-menu-outer>.Select-menu>.Select-option {
    color: var(--text-1);
    background-color: var(--bg-dark-grey);
}

.adg2-react-select.is-open>.Select-menu-outer>.Select-menu>.Select-option.is-focused {
    background-color: var(--bg-blue);
}

.adg2-react-select.is-open>.Select-menu-outer>.Select-menu>.Select-option.is-selected {
    background-color: var(--bg-dark-grey);
}


/* Selection - Search box background */
.aui-select2-drop.select2-drop.filter-bar-async .select2-search,
.searchable-selector .aui-tabs > ul.tabs-menu,
.aui-navgroup~.aui-page-panel .aui-page-panel-nav, 
.aui-page-header~.aui-page-panel .aui-page-panel-nav, 
.aui-sidebar~.aui-page-panel .aui-page-panel-nav{
    color: var(--text-1);
    background-color: var(--bg-dark-grey);
}


/* Selection - Search box input field */
.aui-select2-drop.select2-drop.filter-bar-async .select2-search > input {
    color: var(--text-2);
    background-color: var(--bg-dark-grey) !important;
    border-color: var(--border-colour);
}

.searchable-selector .results {
    background: var(--bg-body);
}

.searchable-selector .results .result a {
    color: var(--text-2);
    background-color: var(--bg-body);
}

.searchable-selector .results .result.focused a {
    color: var(--text-1);
    background-color: var(--bg-blue);
}

.pull-request-list .filter-bar {
    background-color: var(--bg-body-grey);
    color: var(--text-1);    
}

.pull-request-list-filter {
    color: var(--text-2);    
}

.filter-bar .aui-button[aria-pressed="true"] {
    color: white !important;
    background-color: var(--bg-light-grey) !important;
    border-color: var(--border-colour);
}

.filter-bar .aui-button[aria-pressed="true"]:hover,
.filter-bar .aui-button[aria-pressed="true"]:focus {
    color: var(--text-2);
    background-color: var(--bg3);
    border-color: var(--border-colour);
}

.permission-multi-selector-container,
.permission-multi-selector-container form.aui .permission-multi-selector {
    background-color: var(--bg-body);
}

table.aui > tbody > tr,
table.aui > tfoot > tr {
    background: var(--bg-body);
}

table.permissions-table tbody > tr:hover > td,
table.aui.branch-permissions-table tbody:hover td,
table.aui.branch-permissions-table tbody.active td {
    background-color: var(--bg-dark-grey);
}

table.aui.branch-permissions-table tr[data-id]:last-child {
    border-bottom-color: var(--border-colour);
}

table.aui > thead {
    border-color: var(--border-colour);
}


/* Table - focused row */
.branch-table .base-branch,
.paged-table tr.focused,
.bitbucket-theme #browse-table tr.focused-file,
.commits-table tr.focused-commit,
#commits-table tr.commitHover {
    background-color: var(--bg-dark-grey);
}


/* Table - Commit header */
.commits-table .message .message-subject .commit-link {
    color: var(--text-2);
}


/* Table - Commit body */
.commits-table .message .message-body .commit-link {
    color: var(--text-3);
}

.commits-table tr {
    border-left: 2px solid var(--bg-body);
}


/* Table - Line dividers */
table.aui > tbody > tr,
table.aui > tfoot > tr {
    border-color: var(--border-colour);
}

table.aui > tbody > tr:first-child > td,
table.aui > tbody > tr:first-child > th,
table.aui > tfoot > tr:first-child > td {
    border-color: var(--border-colour);
}

.bitbucket-theme #content table.aui > tbody > tr:hover {
    background-color: var(--bg-dark-grey);
}


/* Dialogs */
.aui-dialog {
    color: var(--text-1);
    background-color: var(--bg-dark-grey);
    border-color: var(--border-colour);
}


/* Dialogs - content */
.aui-dialog2-content,
.aui-dialog .dialog-page-body {
    background-color: var(--bg-body);
}

/* Dialogs - Selections */
.dialog-selection .option {
    border: var(--border);
}

.dialog-selection li.selected {
    background-color: var(--bg-grey);
    border: var(--border);
}

/* Dialogs - header and footer */
.aui-dialog2-header,
.aui-dialog2-footer {
    color: var(--text-2);
    background-color: var(--bg-dark-grey);
    border-color: var(--border-colour);
}

/* Dialogs - divider lines */
.aui-dialog .dialog-title {
    border-color: var(--border-colour);
}

.aui-dialog .dialog-button-panel {
    border-color: var(--border-colour);
}

.aui-dialog .dialog-button-panel button.button-panel-button {
    color: var(--text-1);
    background-color: var(--bg-body);
    border-color: var(--border-colour);
    text-shadow: none;
}

#bb-inputs {
    color: var(--text-1);
    background-color: var(--bg-dark-grey);
    border-color: var(--border-colour);
}

#bb-inputs input.y + label {
    color: var(--text-2);
}

#bb-apply {
    color: var(--text-2);
    background-color: var(--bg-dark-grey);
    border-color: var(--border-colour);
}

select {
    color: var(--text-1);
    background-color: var(--bg-dark-grey);
    border-color: var(--border-colour);
}

#bb-inputs #bb_jira {
    color: var(--text-1);
}


/* Global search results */
div.result-container {
    background-color: var(--bg-dark-grey);
    border-color: var(--border-colour);
}

.view-label {
    color: var(--text-2);
    background-color: var(--bg-body);
    border-color: var(--border-colour);
}

.highlight {
    background-color: var(--bg-yellow);
}

.text-view {
    color: var(--text-2);
    background-color: var(--bg-body);
    border-color: var(--border-colour);
}

.hljs-subst,
.hljs-title {
    color: var(--text-1);
}

.hljs-tag .hljs-title,
.hljs-id,
.hljs-attr_selector,
.hljs-pseudo,
.hljs-literal,
.hljs-keyword,
.hljs-hexcolor,
.css .hljs-function,
.ini .hljs-title,
.css .hljs-class,
.hljs-list .hljs-title,
.clojure .hljs-title,
.nginx .hljs-title,
.tex .hljs-command,
.hljs-request,
.hljs-status,
.repository-list-container .search-results-container .search-results-item a,
.bitbucket-theme .recent-repositories-menu.aui-dropdown2 ul.repository-list li a{
    color: var(--text-blue);
}


/* "Ref-lozenges" (branch name boxes, etc) */
.ref-lozenge,
.branch-from-to,
.branch-creation-form .branch-name-prefix,
.markup-editor .markup-toolbar,
.ref-label,
body.edit-mode .edit-header .ref-lozenge,
#commits-table .message .tag,
.aui-label,
.pull-requests-table tr.pull-request-row.focused .ref-label,
.pull-requests-table tr.pull-request-row:hover .ref-label,
.pull-requests-table tr.pull-request-row.focused .overflow-reviewers-trigger,
.pull-requests-table tr.pull-request-row:hover .overflow-reviewers-trigger,
table.aui.dashboard-pull-requests-table .ref-label,
table.aui.dashboard-pull-requests-table tr.focused .ref-label,
table.aui.dashboard-pull-requests-table tr:hover .ref-label,
table.aui.dashboard-pull-requests-table tr.focused .overflow-reviewers-trigger,
table.aui.dashboard-pull-requests-table tr:hover .overflow-reviewers-trigger {
    color: var(--text-2);
    background-color: var(--bg-dark-grey);
    border-color: var(--border-colour);
}

.plugin-item.tags .aui-label.tag-lozenge.aui-label-closeable .aui-label-split-main {
    color: var(--text-2);
    background-color: var(--bg-dark-grey);
    border-color: var(--border-colour);
}

#commits-table .message .tags-container::before,
.commits-table .message::after,
.filebrowser-table .directory-file-history.message::after {
    background-image:none !important;
}

#commits-table tr.focused-commit .message .tags-container::before,
#commits-table tr:hover .message .tags-container::before,
.commits-table tbody tr:hover .message::after,
.commits-table tr.focused-commit .message::after,
.filebrowser-table tr.focused-file .directory-file-history.message::after,
.filebrowser-table tr:hover .directory-file-history.message::after {
    background-image: linear-gradient(to right, rgba(255, 255, 255, 0), var(--bg-dark-grey));
}

.pull-request-state-lozenge.needs-work {
    color: var(--text-orange);
    background-color: var(--bg-dark-grey);
    border-color: var(--text-orange);
}


/* Compare screen - Commit author */
.commit-badge-oneline span.commit-author {
    color: var(--text-3);
}


/* Form - Element border */
form.aui .text,
form.aui .password,
form.aui .textarea,
form.aui .select,
form.aui .multi-select,
form.aui .aui-select2-container .select2-choices {
    border-color: var(--border-colour);
}


/* Form - Selection panel */
form.aui option,
form.aui optgroup option,
.aui-select2-container.select2-container-multi .select2-choices {
    color: var(--text-1);
    background-color: var(--bg-dark-grey);
}


/* Form - Selection choice */
.aui-select2-container .select2-choices .select2-search-choice {
    color: var(--text-1);
    background-color: var(--bg-body);
    border-color: var(--border-colour);
}


/* Form - Selection search box */
.searchable-multi-selector-dropdown > ul.select2-results li.select2-more-results,
.searchable-multi-selector-dropdown > ul.select2-results li.select2-searching,
.searchable-multi-selector-dropdown > ul.select2-results li.select2-no-results {
    color: var(--text-1);
    background-color: var(--bg-body);
}


/* Form - Labels */
form.aui .checkbox > label,
form.aui .radio > label {
    color: var(--text-2);
}


/* Source page - Breadcrumbs divider */
.branch-selector-toolbar .breadcrumbs {
    border-color: var(--border-colour);
}


/* Source page - File view */
.file-content,
.file-content > .file-toolbar,
.source-view.text-view .line .line-number,
.source-view.text-view .line .CodeMirror-linenumber {
    border-color: var(--border-colour);
}

.file-content .content-view {
    border: none;
}


/* Code blocks */
.code-block {
    background-color: var(--bg-dark-grey);
    border-color: var(--border-colour);
}

.code-block pre code {
    color: var(--text-2);
}


/* Buttons (default) */
.aui-button,
.aui-buttons a span,
.aui-buttons .approve,
.aui-button:visited,
aui-page-header-actions > a.aui-button,
.aui-tabs.horizontal-tabs > .tabs-menu > .menu-item,
.aui-tabs > .tabs-menu .menu-item.active-tab a,
.aui-tabs > .tabs-menu .menu-item.active-tab a:link,
.aui-tabs > .tabs-menu .menu-item.active-tab a:visited,
.aui-tabs > .tabs-menu .menu-item.active-tab a:focus,
.aui-tabs > .tabs-menu .menu-item.active-tab a:hover,
.aui-tabs > .tabs-menu .menu-item.active-tab a:active,
.aui-button:active,
.aui-button.active,
.aui-header .aui-button-split-more.active,
.aui-button-subtle.aui-button:active,
.aui-button-subtle.aui-button.active,
.file-tree-container .commit-selector-button,
.aui-button.aui-button-light,
a.aui-button.aui-button-light,
.aui-button:visited.aui-button-light,
a.aui-button {
    background-image: -webkit-linear-gradient(top, var(--bg-grey),var(--bg-dark-grey));
    color: var(--text-1) !important;
	border:none;;
}

.aui-buttons .aui-button:not(.aui-button-primary):not(.aui-button-link):active, .aui-buttons .aui-button:not(.aui-button-primary):not(.aui-button-link):focus, .aui-buttons .aui-button:not(.aui-button-primary):not(.aui-button-link):hover, .aui-buttons .aui-button[aria-disabled=true], .aui-buttons .aui-button[aria-disabled=true]:active, .aui-buttons .aui-button[aria-disabled=true]:focus, .aui-buttons .aui-button[aria-disabled=true]:hover, .aui-buttons .aui-button[disabled], .aui-buttons .aui-button[disabled]:active, .aui-buttons .aui-button[disabled]:focus, .aui-buttons .aui-button[disabled]:hover
{
    background-image: -webkit-linear-gradient(top, var(--bg-dark-grey),var(--bg-grey)) !important;
    color: var(--text-1) !important;
	border:none;
}

div.pull-request-header span.aui-icon,
.aui-icon.aui-icon-small,
span.name
{
    background: transparent;
}

.aui-button a,
.aui-button .aui-icon,
.aui-button:hover .aui-icon,
.aui-page-header-actions .aui-button > .aui-icon{
    color: var(--text-2);
    border-color: var(--border-colour);
}

/* Buttons (hover) */
.aui-button:focus,
.aui-button-subtle.aui-button:focus,
.aui-dialog .dialog-button-panel button.button-panel-button:focus,
.aui-dialog .dialog-button-panel button.button-panel-button:hover {
    color: var(--text-2);
    background-color: var(--bg-body);
    border-color: var(--border-colour);
}

/* Buttons (disabled) */
.aui-button[disabled],
.aui-button[disabled]:hover,
.aui-button[disabled]:focus,
.aui-button[disabled]:active,
.aui-button[aria-disabled="true"],
.aui-button[aria-disabled="true"]:hover,
.aui-button[aria-disabled="true"]:focus,
.aui-button[aria-disabled="true"]:active,
.aui-button[aria-disabled="true"][aria-pressed],
.aui-button[aria-pressed="true"],
#bbRebaseDialog .bbSubmitDisabled,
#bbRebaseButton.bbSubmitDisabled,
#bbSquashDialog .bbSubmitDisabled,
#bbSquashButton.bbSubmitDisabled,
#bbAmendDialog .bbSubmitDisabled,
#bbAmendButton.bbSubmitDisabled,
#bbRevertDialog .bbSubmitDisabled,
#bbRevertButton.bbSubmitDisabled,
#bbCherryDialog .bbSubmitDisabled,
#bbCherryButton.bbSubmitDisabled,
.aui-buttons .aui-button[aria-pressed="true"],
.aui-buttons .aui-button[aria-pressed="true"].aui-button-primary,
.aui-buttons .aui-button[aria-pressed="true"].aui-button-subtle {
    color: var(--text-3);
    background-color: var(--bg-dark-grey);
    border-color: var(--border-colour);
}


/* Buttons - Dropdown triangle */
.aui-button.aui-dropdown2-trigger:not(.aui-dropdown2-trigger-arrowless):after,
.aui-buttons .aui-button.aui-button-primary.aui-dropdown2-trigger:not(.aui-dropdown2-trigger-arrowless):after {
    border-top-color: var(--border-colour);
}


/* Buttons - Tags button */
.plugin-item.tags button {
    background-color: var(--bg-dark-grey);
}

.plugin-item.tags button:hover {
    background-color: var(--bg-body);
}


/* Buttons - Needs work */
.reviewer-status-selector[data-status="NEEDS_WORK"] > button.needs-work {
    background-color: var(--text-orange);
    border-color: var(--text-orange);
}


/* Inbox tabs (default) */
#inline-dialog-inbox-pull-requests-content .aui-tabs.horizontal-tabs > .tabs-menu > .menu-item,
#inline-dialog-inbox-pull-requests-content .aui-tabs > .tabs-menu .menu-item.active-tab a,
#inline-dialog-inbox-pull-requests-content .aui-tabs > .tabs-menu .menu-item.active-tab a:link,
#inline-dialog-inbox-pull-requests-content .aui-tabs > .tabs-menu .menu-item.active-tab a:visited,
#inline-dialog-inbox-pull-requests-content .aui-tabs > .tabs-menu .menu-item.active-tab a:focus,
#inline-dialog-inbox-pull-requests-content .aui-tabs > .tabs-menu .menu-item.active-tab a:hover,
#inline-dialog-inbox-pull-requests-content .aui-tabs > .tabs-menu .menu-item.active-tab a:active {
    background-color: var(--bg-body);
}


/* Inbox tabs (inactive) */
#inline-dialog-inbox-pull-requests-content .aui-tabs.horizontal-tabs > .tabs-menu > .menu-item,
#inline-dialog-inbox-pull-requests-content .aui-tabs > .tabs-menu .menu-item a,
#inline-dialog-inbox-pull-requests-content .aui-tabs > .tabs-menu .menu-item a:link,
#inline-dialog-inbox-pull-requests-content .aui-tabs > .tabs-menu .menu-item a:visited,
#inline-dialog-inbox-pull-requests-content .aui-tabs > .tabs-menu .menu-item a:focus,
#inline-dialog-inbox-pull-requests-content .aui-tabs > .tabs-menu .menu-item a:hover,
#inline-dialog-inbox-pull-requests-content .aui-tabs > .tabs-menu .menu-item a:active {
    background-color: var(--bg-dark-grey);
}


/* Dropdowns (default) */
.aui-dropdown2.aui-style-default {
    color: var(--text-1);
    background-color: var(--bg-dark-grey);
    border-color: var(--border-colour);
}


/* Dropdowns - Item text */
.aui-dropdown2.aui-style-default:hover .aui-dropdown2-checkbox,
.aui-dropdown2.aui-style-default:hover .aui-dropdown2-radio,
.aui-dropdown2.aui-style-default:hover a,
.aui-dropdown2.aui-style-default [role="menuitem"],
.aui-dropdown2.aui-style-default [role="menuitemcheckbox"],
.aui-dropdown2.aui-style-default [role="menuitemradio"],
.aui-dropdown2.aui-style-default [role="radio"],
.aui-dropdown2.aui-style-default [role="checkbox"],
.aui-dropdown2.aui-style-default a {
    color: var(--text-1);
    background-color: var(--bg-dark-grey);
}


/* Tab borders */
.aui-tabs.horizontal-tabs > .tabs-menu > .menu-item > a,
.aui-tabs.aui-tabs-disabled.horizontal-tabs > .tabs-menu > .menu-item > a:focus,
.aui-tabs.aui-tabs-disabled.horizontal-tabs > .tabs-menu > .menu-item > a:hover,
.aui-tabs.aui-tabs-disabled.horizontal-tabs > .tabs-menu > .menu-item > a:active,
.aui-tabs.horizontal-tabs > .tabs-menu > .menu-item:first-child a,
.aui-tabs.horizontal-tabs > .tabs-menu ~ .tabs-pane {
    border-color: var(--border-colour);
}


/* Selected tab bottom border */
.aui-tabs.horizontal-tabs > .tabs-menu > .menu-item.active-tab,
.aui-tabs.horizontal-tabs[data-aui-responsive] > .tabs-menu > .menu-item.active-tab,
.aui-tabs.aui-tabs-disabled.horizontal-tabs > .tabs-menu > .active-tab:focus,
.aui-tabs.aui-tabs-disabled.horizontal-tabs > .tabs-menu > .active-tab:hover,
.aui-tabs.aui-tabs-disabled.horizontal-tabs > .tabs-menu > .active-tab:active {
    border-bottom-color: #bbb;
}


/* PR activity dividing lines */
.pull-request-activity > li {
    border-color: var(--border-colour);
}


/* PR activity highlighting */
.pull-request-activity .activity-item.new,
.pull-request-activity .activity-item.focused {
    background-color: var(--bg-dark-grey);
}


/* PR unread comments */
.comment.unread > .content,
.new-comment-form textarea.restored {
    background-color: var(--bg-dark-grey);
}

/* PR extra reviewers */
.reviewer-avatar-list .overflow-reviewers-trigger {
    color: var(--text-2);
    background: var(--bg-body);
    border: var(--border);
}


/* Plugin section separator */
.plugin-section-primary > .plugin-item:not(.hidden) ~ .plugin-section-separator {
    border-color: var(--border-colour);
}


/* Text areas */
form.aui .text,
form.aui .password,
form.aui .upfile,
form.aui .textarea,
form.aui .select,
form.aui .multi-select,
form.aui .aui-select2-container,
.markup-editor textarea {
    color: var(--text-2);
    background-color: var(--bg-dark-grey);
    border-color: var(--border-colour);
}

.filebrowser-table .directory-file-history.message a {
    color: var(--text-2);
}


/* Diffs - Outer border */
.commit-files.tabbed {
    border-color: var(--border-colour);
}

.commit-metadata {
    border-color: var(--border-colour);
}


/* Diffs - File tree header background */
.file-tree-container {
    background-color: var(--bg-dark-grey);
}

/* Diffs - Conflict header background */
.diff-conflict-message-container {
    background-color: var(--bg-body);
}


/* Diffs - Commit selector */
.file-tree-container .commit-selector-button.active {
    color: var(--text-3);
    background-color: var(--bg-body);
}

.file-tree-container .diff-tree-toolbar {
    color: var(--text-3);
    background-color: var(--bg-body);
    border-color: var(--border-colour);
}


/* Diffs - Commit selector - List */
.bitbucket-theme .commit-selector .commit-list {
    background-color: var(--bg-dark-grey);
}


/* Diffs - Commit selector - Borders */
aui-inline-dialog .aui-inline-dialog-contents,
.aui-inline-dialog .aui-inline-dialog-contents,
aui-inline-dialog .contents,
.aui-inline-dialog .contents {
    background: var(--bg-dark-grey);
    border-color: var(--border-colour);
}

.commit-list-item,
.bitbucket-theme .commit-selector li.no-more-results {
    border-color: var(--border-colour);
}


/* Diffs - Commit selector - Item */
.bitbucket-theme .commit-selector .commit-list-item,
.bitbucket-theme .commit-selector .commit-list-item.preload-item {
    background-color: var(--bg-dark-grey);
}


/* Diffs - Commit selector - Item text */
ul.commit-list a {
    color: var(--text-2);
}


/* Diffs - Commit selector - Item (selected) */
.bitbucket-theme .commit-selector .commit-list-item.selected {
    background-color: var(--bg-blue);
}


/* Diffs - Commit selector - Item text (selected) */
ul.commit-list .commit-list-item.selected a {
    color: var(--text-3);
}


/* Diffs - Commit selector - Item (hovered or focused) */
.bitbucket-theme .commit-selector .commit-list-item.focused,
.bitbucket-theme .commit-selector .commit-list-item:focus,
.bitbucket-theme .commit-selector .commit-list-item:hover,
.bitbucket-theme .commit-selector-item-message:focus,
.bitbucket-theme .commit-selector-item-message:hover {
    background-color: var(--bg-body);
}


/* Diffs - Commit selector - Item - Commit message */
.commit-message {
    color: var(--text-2);
}


/* Diffs - Commit selector - Item - Commit message header */
.commit-message .commit-message-subject {
    color: var(--text-2);
}


/* Diffs - Commit selector - Item - Other text */
.bitbucket-theme .commit-selector-item-message .commit-selector-details .commit-badge-oneline,
.bitbucket-theme .commit-selector-item-message:focus .commit-selector-details time,
.bitbucket-theme .commit-selector-item-message:hover .commit-selector-details time,
.bitbucket-theme .commit-selector-item-message:focus .commit-selector-details .commitid,
.bitbucket-theme .commit-selector-item-message:hover .commit-selector-details .commitid,
.bitbucket-theme .commit-selector-item-message:focus .commit-selector-details .commit-author,
.bitbucket-theme .commit-selector-item-message:hover .commit-selector-details .commit-author,
.bitbucket-theme .commit-selector-item-message:focus .commit-selector-details .commit-badge-oneline,
.bitbucket-theme .commit-selector-item-message:hover .commit-selector-details .commit-badge-oneline {
    color: var(--text-3);
}


/* Diffs - Find bar */
.content-view .CodeMirror-dialog {
    color: var(--text-1);
    background-color: var(--bg-dark-grey);
    border-color: var(--border-colour);
}


/* Diffs - Find bar - Input */
.content-view .CodeMirror-dialog input {
    color: var(--text-1);
    background-color: var(--bg-body);
    border-color: var(--border-colour);
}


/* Diffs - File tree */
.file-tree-wrapper {
    color: var(--text-1);
    background: linear-gradient(var(--bg-dark-grey), var(--bg-body) 20px);
}


/* Diffs - File tree - Item (hovered or clicked) */
.pull-request-content > .commit-files .diff-tree-toolbar,
.jstree .jstree-clicked,
.jstree .jstree-hovered {
    color: var(--text-1);
    background-color: var(--bg-dark-grey);
}

.pull-request-content > .commit-files .diff-tree-search-wrapper .search::before {
    background-image: none;
}

.jstree.file-tree > ul a {
    color: var(--text-1);
}

.bitbucket-theme .jstree .change-type-MODIFY {
    color: var(--text-blue);
}

.binary-container {
    background: var(--bg-dark-grey);
}

.aui-page-panel-nav {
    border-color: var(--border-colour);
}

.welcome-mat {
    color: var(--text-1);
    background-color: var(--bg-body);
    border-color: var(--border-colour);
}

.welcome-mat h3 {
    color: var(--text-1);
}

.welcome-mat p {
    color: var(--text-2);
}

.inherit-settings-toggle {
    background-color: var(--bg-dark-grey);
    border-color: var(--border-colour);
}

.branch-model-settings-form fieldset[disabled] input
{
    color: var(--text-2) !important;
    background-color: var(--bg-dark-grey);
    border-color: var(--border-colour);
}

table.aui.branch-permissions-table[data-scope-type="REPOSITORY"] tbody[data-effective-scope-type="PROJECT"],
table.aui.branch-permissions-table[data-scope-type="REPOSITORY"] tbody[data-effective-scope-type="PROJECT"] td {
    color: var(--text-2);
    background-color: var(--bg-dark-grey);
}

.aui-select2-container.select2-container .select2-choice:focus,
.aui-select2-container.select2-container .select2-choice:hover {
    background-color: var(--bg-body);
}

.aui-select2-container.select2-container.select2-container-active .select2-choice,
.hooks-table.aui tr:hover {
    background-color: var(--bg-dark-grey) !important;
}

.adg2-react-select .Select-control:hover {
    background: var(--bg-body);
    border-color: var(--border-colour);
}

.markup-preview,
.adg2-react-select .Select-control {
    color: var(--text-2);
    background-color: var(--bg-dark-grey);
    border-color: var(--border-colour);
}

.has-value.Select--single > .Select-control .Select-value .Select-value-label,
.has-value.is-pseudo-focused.Select--single > .Select-control .Select-value .Select-value-label {
    color: var(--text-2);
}

#quick-search-dialog {
    background-color: var(--bg-dark-grey);
    border-color: var(--border-colour);
}

#quick-search-dialog .quick-search-results .code {
    color: var(--text-1);
    background-color: var(--bg-dark-grey);
}

#quick-search-dialog .quick-search-results .code a {
    color: var(--text-1);
}

#footer,
#footer-logo,
#footer .footer-body,
.aui-sidebar[aria-expanded=false] .aui-navgroup-vertical .aui-nav .aui-nav-child-selected a,
.aui-sidebar-submenu[aria-expanded=false] .aui-navgroup-vertical .aui-nav .aui-nav-child-selected a,
.aui-sidebar .aui-navgroup-vertical .aui-nav .aui-nav-selected a,
.aui-sidebar-submenu .aui-navgroup-vertical .aui-nav .aui-nav-selected a,
.aui-navgroup-vertical .aui-nav > li > a:focus,
.aui-navgroup-vertical .aui-nav > li > a:hover,
.aui-nav-vertical > li > a:focus,
.aui-nav-vertical > li > a:hover,
.aui-tabs > .tabs-menu .menu-item a,
.aui-tabs > .tabs-menu .menu-item a:link,
.aui-tabs > .tabs-menu .menu-item a:visited {
    /* Primary background (darkest grey) */
    background-color: var(--bg-body);
    ;
}

h1,
h2,
#footer,
#footer-logo,
#footer .footer-body,
.aui-page-header-hero .aui-page-header-main h1,
.aui-page-header-hero .aui-page-header-main h2,
.aui-page-header-marketing .aui-page-header-main h1,
.aui-page-header-marketing .aui-page-header-main h2 {
    /* Primary text (near-white) */
    color: var(--text-1);
}

h3,
h4,
h5,
.aui-page-header-hero .aui-page-header-main p,
.aui-page-header-marketing .aui-page-header-main p,
.aui-tabs > .tabs-menu .menu-item a,
.aui-tabs > .tabs-menu .menu-item a:link,
.aui-tabs > .tabs-menu .menu-item a:visited {
    /* Secondary text (light grey) */
    color: var(--text-2);
}

.removed.line .ediff-change,
.removed.line .ediff-delete {
    background-color: rgba(255, 200, 200, 0.3);
}

.markup table {
    border: var(--border);
}

.markup table > thead > tr,
.markup table > tbody > tr,
.markup table > tfoot > tr {
    background-color: var(--bg-dark-grey);
    border-color: var(--border-colour);
}

.commits-table .message .message-subject {
    color: #eee;
}

.filebrowser-readme {
    border-color: var(--border-colour);
}

.filebrowser-readme .filebrowser-readme-header {
    background-color: var(--bg-dark-grey);
    border-color: var(--border-colour);
}

.markup-content {
    color: var(--text-1);
}

.markup code {
    color: var(--text-2);
    background-color: var(--bg-dark-grey);
    border-color: var(--border-colour);
}

blockquote {
    color: var(--text-2);
}

.source-view.text-view .line .line-number,
.source-view.text-view .line .CodeMirror-linenumber,
.diff-view.text-view .conflict {
    background-color: var(--bg-dark-grey);
}

.jira-issue-detailed .jira-section-heading > h3 {
    color: var(--text-2);
    background-color: var(--bg-body);
}


/************************/

/* Diffs - File Content */

/************************/

/* Base colours */
.file-content,
.text-view .line,
.CodeMirror,
.unified-diff .CodeMirror-scroll,
.diff-view.text-view .context.line .add-comment-trigger,
.side-by-side-diff > .segment-connector-column,
.diff-view.text-view .conflict .bitbucket-gutter-marker,
.diff-view.text-view .conflict .comment-box,
.diff-view.text-view .conflict > code.source > span,
.text-view .line .CodeMirror-gutter-elt > * {
    color: var(--text-2);
    background-color: var(--bg-body);
}

.diff-view.text-view .expanded pre,
.diff-view.text-view .expanded .line-number,
.diff-view.text-view .expanded .line-number-marker {
    color: var(--text-3);
}


/* Toolbar */
.file-toolbar {
    background-color: var(--bg-dark-grey);
    border-color: var(--border-colour);
}


/* Toolbar - breadcrumbs */
.file-toolbar .breadcrumbs {
    color: var(--text-2);
}


/* Comment button */
.diff-view.text-view.commentable .line:hover,
.diff-view.text-view.commentable .line:hover .CodeMirror-gutter-elt > * {
    background-color: var(--bg-dark-grey);
}


/* Conflict marker gutter */
.diff-view.text-view.commentable .line.conflict-marker:hover,
.diff-view.text-view.commentable .line.conflict-marker:hover .CodeMirror-gutter-elt > * {
    background-color: #131;
}


/* Comment panel */
.comment-container .panel {
    background-color: var(--bg-body);
    border-color: var(--border-colour);
}

.diff-view.text-view .commented.line,
.diff-view.text-view .commented.line .comment-box,
.diff-view.text-view .commented.line .bitbucket-gutter-marker {
    background-color: var(--bg-dark-grey);
}

.comment-container .comment {
    border-color: var(--border-colour);
}

.comment-box {
    color: var(--text-2);
}

/* Line dividers */
.side-by-side-diff .modified.line + .context.line,
.side-by-side-diff .context.line + .modified.line,
.side-by-side-diff .context.line + .conflict-ours.line,
.side-by-side-diff .conflict-ours.line + .context.line,
.side-by-side-diff .commented.line + .context.line,
.side-by-side-diff .context.line + .commented.line,
.side-by-side-diff .paired-with-change,
.side-by-side-diff .modified.line + .context.line .bitbucket-gutter-marker,
.side-by-side-diff .context.line + .modified.line .bitbucket-gutter-marker,
.side-by-side-diff .context.line + .conflict-ours.line .bitbucket-gutter-marker,
.side-by-side-diff .conflict-ours.line + .context.line .bitbucket-gutter-marker,
.side-by-side-diff .commented.line + .context.line .bitbucket-gutter-marker,
.side-by-side-diff .context.line + .commented.line .bitbucket-gutter-marker,
.side-by-side-diff .paired-with-change .bitbucket-gutter-marker,
.side-by-side-diff .line,
.side-by-side-diff .CodeMirror-code > *,
.side-by-side-diff .line .CodeMirror-gutter-elt > *,
.diff-view.text-view .removed.line,
.diff-view.text-view .removed.segment-connector,
.diff-view.text-view .removed.line .comment-box,
.diff-view.text-view .removed.line .bitbucket-gutter-marker,
.diff-view.text-view .added.line,
.diff-view.text-view .added.segment-connector,
.diff-view.text-view .added.line .comment-box,
.diff-view.text-view .added.line .bitbucket-gutter-marker {
    border-top-color: var(--border-colour);
}

.side-by-side-diff .segment-connector {
    stroke: var(--border-colour);
}

.skipped-container {
    color: var(--text-3);
}

.skipped-container .showmore,
.full-window-scrolling .skipped-container[data-below=false] {
    background-color: var(--bg-body);
    padding-top: 5px;
	padding-bottom: 5px;
}

/* Conflicted line */
.diff-view.text-view .line.conflict-ours,
.diff-view.text-view .segment-connector.conflict-ours,
.diff-view.text-view .line.conflict-theirs,
.diff-view.text-view .segment-connector.conflict-theirs,
.diff-view.text-view .line.conflict-ours .bitbucket-gutter-marker,
.diff-view.text-view .segment-connector.conflict-ours .bitbucket-gutter-marker,
.diff-view.text-view .line.conflict-theirs .bitbucket-gutter-marker,
.diff-view.text-view .segment-connector.conflict-theirs .bitbucket-gutter-marker,
.diff-view.text-view .line.conflict-ours .comment-box,
.diff-view.text-view .segment-connector.conflict-ours .comment-box,
.diff-view.text-view .line.conflict-theirs .comment-box,
.diff-view.text-view .segment-connector.conflict-theirs .comment-box,
.diff-view.text-view .line.conflict-ours > code.source > span,
.diff-view.text-view .segment-connector.conflict-ours > code.source > span,
.diff-view.text-view .line.conflict-theirs > code.source > span,
.diff-view.text-view .segment-connector.conflict-theirs > code.source > span {
    background-color: var(--bg-yellow);
}


/* Removed line */
.diff-view.text-view .removed.line,
.diff-view.text-view .removed.segment-connector,
.diff-view.text-view .removed.line .comment-box,
.diff-view.text-view .removed.line .bitbucket-gutter-marker {
    background-color: #422;
}

.side-by-side-diff .segment-connector.removed:not(.added) {
    fill: #422;
}


/* Removed line - changed text */
.removed.line .ediff-change.ediff-change,
.removed.line .ediff-delete.ediff-delete {
    background-color: #633;
}


/* Added line */
.diff-view.text-view .added.line,
.diff-view.text-view .added.segment-connector,
.diff-view.text-view .added.line .comment-box,
.diff-view.text-view .added.line .bitbucket-gutter-marker {
    background-color: #131;
}

.side-by-side-diff .segment-connector.added:not(.removed) {
    fill: #131;
}


/* Added line - changed text */
.added.line .ediff-add,
.added.line .ediff-change {
    background-color: #252;
}


/* Changed line connector */
.side-by-side-diff #added-and-removed-svg-gradient .removed {
    stop-color: #422;
}

.side-by-side-diff #added-and-removed-svg-gradient .added {
    stop-color: #242;
}

.diff-hunk-map .viewport-indicator {
    background-color: rgba(2, 2, 2, 0.1) !important;
    border-color: var(--bg-dark-grey) !important;	
}

.file-tree-container,
.side-by-side-diff > .side-by-side-diff-editor-from,
.side-by-side-diff-editor-from > .diff-hunk-map,
.unified-diff .gutter-border {
    border-color: var(--border-colour);
}

.side-by-side-diff > .side-by-side-diff-editor-to,
.side-by-side-diff-editor-to > .diff-hunk-map {
    border-color: var(--border-colour);
}

.cm-s-stash-default .cm-bracket,
.cm-s-stash-default .cm-keyword,
.cm-s-stash-default .cm-variable-3,
.cm-s-stash-default .cm-tag,
.cm-s-stash-default .cm-tag.cm-bracket {
    color: #CC7832;
    font-weight: bold;
}

.cm-s-stash-default .cm-operator {
    color: var(--text-2);
}

.cm-s-stash-default .cm-number {
    color: #6897bb;
}

.cm-s-stash-default .cm-attribute,
.cm-s-stash-default .cm-builtin,
.cm-s-stash-default .cm-qualifier,
.cm-s-stash-default .cm-link,
.cm-s-stash-default .cm-variable,
.cm-s-stash-default .cm-variable-2,
.cm-s-stash-default .cm-header {
    color: #7cc6c6
}

.cm-s-stash-default .cm-def {
    color: #ffc66d;
}

.cm-s-stash-default .cm-property {
    color: #9876aa;
}

.cm-s-stash-default .cm-string,
.cm-s-stash-default .cm-string-2,
.cm-s-stash-default .cm-atom,
.cm-s-stash-default .cm-quote {
    color: #6A8759;
}

/* "All branches graph" page */

linearGradient#grad1 > stop {
    stop-color: var(--bg-dark-grey) !important;
}

circle,
circle:hover,
rect:hover + circle,
circle.commitHover {
    fill: var(--text-1);
}

circle:hover,
rect:hover + circle,
circle.commitHover {
    stroke: var(--text-1);
}

svg text {
    fill: var(--text-2);
}
    
/* Scrollbars */

*::-webkit-scrollbar {
    width: 12px;
    height: 12px;
    background-color: var(--bg-grey);
}

 *::-webkit-scrollbar-track {
     background-color: var(--bg-grey);
}

*::-webkit-scrollbar-thumb:vertical {
    background-color: var(--bg-light-grey);
    border-left: 2px solid var(--bg-grey);
    border-right: 2px solid var(--bg-grey);
}

*::-webkit-scrollbar-thumb:horizontal {
    background-color: var(--bg-light-grey);
    border-top: 2px solid var(--bg-grey);
    border-bottom: 2px solid var(--bg-grey);
}

*::-webkit-scrollbar-button {
    background-color: var(--bg-grey);
    background-repeat: no-repeat;
    background-position: center;
}

*::-webkit-scrollbar-button:vertical {
    background-size: 90%;
}

*::-webkit-scrollbar-button:horizontal {
    background-color: var(--bg-grey);
    background-size: 60%;
}

*::-webkit-scrollbar-button:vertical:increment {
    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAMCAIAAAA21aCOAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABTSURBVChTjY/tEQAgBEDVKGax/whmScf1gS7vj8OLNCKCAt3ij6o39yKiZQ+Yec6ToHmKdm3vS131/b+onpXrjrPhnvl7tR1ne0+IkpB4KTUPYADlmSFNR3WV0wAAAABJRU5ErkJggg==);
}

*::-webkit-scrollbar-button:vertical:decrement {
    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAMCAIAAAA21aCOAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABDSURBVChTY3RxcWEgAjBBaUKAAnVKSkpQFhJAVwdRhKkURR2yNJpShDpMM5BFoOowFUEAXBykDpciCIDIDkw4MzAAAOcrBhEt+DPpAAAAAElFTkSuQmCC);
}

*::-webkit-scrollbar-button:horizontal:increment {
    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAANCAIAAAASSxgVAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABQSURBVChThcqxDQAxCENRX0ZhFvYfgVniAikJGN1v7OJ97o6/Vi5gZvlaB7HJPYhJVxHrTiBWnEbsdiOKiHwTugUTqAhWURfsQVKwgyYBYAN5XxLmHe8ghAAAAABJRU5ErkJggg==);
}

*::-webkit-scrollbar-button:horizontal:decrement {
    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAANCAIAAAASSxgVAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABRSURBVChThc6xDcBACENRklGYhf1HYJa4QCJnjO43UDwJnoiwW2/NkbvXtqG/QAKRQIymQAeSAjXaBGqUmbWNjnOb48elY4SmEwiR0wi1M/sAeV8S5qmErZQAAAAASUVORK5CYII=);
}
}