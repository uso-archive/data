/* ==UserStyle==
@name         Dropbox Paper enhancements
@namespace    USO Archive
@author       BasSteenbeeke
@description  - Improved highlight styling  - Improved toc styling  - Tweaked headings (size and margins)  - Tweaked tables (margins, highlights)  - Added page bottom margin
@version      20211028.07.41
@license      NONE
@preprocessor uso
==/UserStyle== */
@-moz-document domain("paper.dropbox.com") {
/* Darkmode tweaks */
@media (prefers-color-scheme: dark) {
    :root {
        --dig-Button-primary--background-color: #5a5756;
    }
}

@media (prefers-color-scheme: light) {
    /* Reduce share button contrast */
    .hp-sharing-main-menu .dig-Button--primary {
        border-bottom: 1px solid #61b2f4;
        background-color: #92ceff !important;
        color: #1570ba !important;
    }

    .hp-sharing-main-menu .dig-Button--primary:hover {
        border-bottom: 1px solid #137cd2;
        background-color: #3ba0f3 !important;
        color: #fff !important;
    }

    .hp-sharing-main-menu .dig-Button--primary:hover::before {
        background-color: #3ba0f3 !important;
    }
}


/* Header */
.hp-sharing-main-menu {
    padding-left: 10px;
    padding-right: 10px;
}


/* Table of contents */

/* Tweaked folder icon margin next to title */
.folder-sidebar-header__title-only a {
    margin-top: 0 !important;
}

/* Decreased folder title */
.dig-Title--size-standard {
    font-size: 18px;
    margin-left: 4px;
    line-height: 1em;
}

.folder-sidebar-header .folder-sidebar-header__title .folder-sidebar-header__dig-title {
    margin-top: -1px;
}

.folder-sidebar-header .folder-sidebar-header__parent_folder .folder-sidebar-header__parent_folder-dig {
    display: inline-flex;
}

/* Keep document titles on one line */
.dig-Menu-row-title {
    width: 100%;
    display: block;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}



/* Content */
.ace-feature-viewport > .ace-editor {
    padding-bottom: calc(100vh - 400px);
}

/* Highlight styling */
.highlight[data-highlight-color] {
    border-style: solid;
    border-left-width: 3px;
    border-right-width: 3px;
    border-top-width: 2px;
    border-bottom-width: 1px;
    margin: -2px -3px -1px;
}

.highlight[data-highlight-color="#F7CC62"] {
    border-color: rgba(247, 204, 98, 0);
    background-color: rgba(247, 204, 98, 0.3) !important;
}

.focused-line .highlight[data-highlight-color="#F7CC62"] {
    border-color: rgba(247, 204, 98, 0);
    background-color: rgba(247, 204, 98, 0.5) !important;
}

.highlight[data-highlight-color="#D6E8FA"] {
    border-color: #D6E8FA;
    background-color: #D6E8FA !important;
}

.highlight[data-highlight-color="#FFBFB5"] {
    border-color: #FFBFB5;
    background-color: #FFBFB5 !important;
}

.highlight[data-highlight-color="#B5DCAF"] {
    border-color: #B5DCAF;
    background-color: #B5DCAF !important;
}

.highlight[data-highlight-color="#D8C3FF"] {
    border-color: #D8C3FF;
    background-color: #D8C3FF !important;
}


/* Table styling */
.ace-line {
    position: relative;
    z-index: 1;
}

[data-line-manager="aceTable"] {
    position: relative;
    margin-top: -20px;
    z-index: 0;
}

[data-line-manager="aceTable"].selected-line {
    z-index: 2;
}

.table-v2-content-container {
    padding-left: 8px;
}

.ace-type-cell .highlight[data-highlight-color] {
    border: 0 !important;
    margin: 0 !important;
    background-color: transparent !important;
}

.ace-type-cell .highlight[data-highlight-color="#F7CC62"] {
    color: #c69812;
    ;
}

.ace-type-cell .highlight[data-highlight-color="#FFBFB5"] {
    color: #a82935;
}

.ace-type-cell .highlight[data-highlight-color="#B5DCAF"] {
    color: #208a38;
}

.ace-type-cell .highlight[data-highlight-color="#D6E8FA"] {
    color: #226fbd;
}

.ace-type-cell .highlight[data-highlight-color="#D8C3FF"] {
    color: #561fbb;
}


/* Heading sizes and margins */
.ace-feature-bigtitle > .ace-editor > div:first-child {
    line-height: 1.2;
    font-size: 32px;
}

.ace-editor h1 {
    margin-top: 64px;
    font-size: 24px;
}

.ace-editor h2 {
    margin-top: 48px;
    font-size: 18px;
}

.ace-all-bold-hthree {
    margin-top: 28px;
    display: inline-block;
}

td.ace-type-cell .ace-all-bold-hthree {
    margin-top: 0;
}

.line-list-type-hone + .line-list-type-htwo h2 {
    margin-top: 28px;
}

.ace-line:not(.line-list-type-code) + .line-list-type-code {
    margin-top: 8px;
}
}