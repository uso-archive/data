/* ==UserStyle==
@name         SPI Tools & Polish 1.0
@namespace    USO Archive
@author       jamohtp
@description  A basic stylesheet for Dr Fred Brown's SPI Tools programming environment.
@version      20200508.09.26
@license      CC-BY-4.0
@preprocessor uso
==/UserStyle== */
@-moz-document url-prefix('https://cs.adelaide.edu.au/services/spi') {

/* Page Header
/***********************************************************************/

body {
    font-family: "Open Sans", Helvetica, sans-serif;
    margin: 0;
    background-size: 4.6rem 4.6rem;
    background-image: linear-gradient(180deg, #335 50%, rgba(255,255,255,1) 50%, rgba(255,255,255,1) 100%);
    background-repeat: repeat-x;
}

body > h1, body > h3 {
    display: inline-block;
    margin: 0;
    vertical-align: middle;
    line-height: 1;
}

body > h1 {
    padding: 0.9rem 0 0.4rem 0.9rem;
    color: #e7e7f4;
    font-size: 1rem;
    font-weight: normal;
    user-select: none;
}

body > h3 {
    position: absolute;
    top: 0.4rem;
    right: 0.4rem;
    border-radius: 0.15rem;
    background-color: #114;
}

body > h3:hover {
    background-color: #e7e7f4;
}

body > h3 > a {
    display: inline-block;
    padding: 0.4rem 0.4rem 0.15rem 0.4rem;
    text-decoration: none;
    font-weight: normal;
    font-size: 1rem;
    color: #e7e7f4;
}

body > h3 > a:hover {
    color: #335;
}

/* Page Body
/***********************************************************************/

/* Main Content */
body > div,
body > form,
#spi_root_container_banner {
    margin: 0 3rem 0 19.3rem;

    padding: 0 !important;

    border: none !important;
    border-left: 1px solid #ccc !important;
    border-right: 1px solid #ccc !important;

    text-align: left;
    font-size: 95%;
}

/* Extra Padding For Summary Data Navigation Form */
body > form {
    margin-bottom: -2rem;
    padding: 1rem !important;
}

/* Tie Loose End */
body > div {
    border-bottom: 1px solid #ccc !important;
}

/* Hide Horizontal Rule Visual Noise */
body > div hr {
    display: none;
}

/* Hide Practice Environment Banner */
body > div > h1 {
    display: none;
}

/* Theme Headings */
body > div h1,
body > div h2,
body > div h3,
body > div h4 {
    margin: 0;
    margin-bottom: 0.6rem;
    padding: 1rem 1.4rem 0 1.4rem;
    color: #666;
}

/* Main Section Headings */
body > div h5 {
    position: relative;
    left: -1em;
    width: calc(100% + 1.5em);
    font-size: 1.5rem;
    margin: 2rem 0 0.8rem 0;
    padding: 0.6rem 0.6rem 0.2rem 0.6rem;
    background-color: #335;
    font-weight: normal;
    color: #e7e7f4;
}

/* Navigation Banner */
#spi_root_container_banner {
    padding: 3rem 1.4rem 1rem 1.4rem !important;
    font-size: 0.8em;
    font-weight: normal;
    color: #666;
}

/* Summary Data Page */
body > div > div > div {
    border: none !important;
}

/* Unhelpful Headings
/***********************************************************************/

#spi_log_time > h5,
#spi_osheader > h5,
#spi_log_defects > div > h5 {
    display: none;
}

/* Course Menu
/***********************************************************************/

#spi_root_container_assignment > div > input {
    width: 100%;
    height: 3em;
    border: none;
    padding: 0;
    font-weight: bold;
    color: #335;
}

#spi_root_container_assignment > div > input:hover:enabled {
    background-color: #335;
    color: #e7e7f4;
}

/* Project Components Container
/***********************************************************************/

#spi_div_project_components > div {
    border: none !important;
    padding: 0 !important;
}

/* Document Containers
/***********************************************************************/

#spi_root_container_course > div > div, /* Course Description */
#spi_root_container_phase > div /* Assignment Description */
{
    margin: 1rem calc((100% - 60rem) / 2);
    padding: 0 1rem 0 1rem;
    border: 1px solid #ccc;
    border-radius: 0.4rem;
    max-width: 60rem;
}

/* Source Code
/***********************************************************************/

#spi_root_container_src pre,
#spi_root_container_user_acceptance pre,
#spi_root_container_test pre,
.spi_designtext pre,
.spi_piptext pre {
    line-height: 1.5;
    color: #444;
    padding: 0.5em;
    margin: 1rem 1.4rem;
    border: 1px solid #ccc;
    border-radius: 0.4em;
    background-image: linear-gradient(#fff 50%, #f8f8f8f8 50%);
    background-position: 0 0.4em;
    background-repeat: repeat;
    background-size: 3em 3em;
}

/* Hide Useless Buttons
/***********************************************************************/

input[value="Reload Assignment Configuration"],
input[value="Hide SPI Console"],
input[value="Show SPI Console"],
input[value="Reload My Assignment Data"],
input[value="Reload Page"] {
    display: none !important;
}

/* Side Bar Buttons
/***********************************************************************/

body > input,
#spi_log_time > input,
#spi_div_project_components > div > input,
#spi_root_container_phase_header > input,
#spi_root_container_phase > input,
#spi_root_container_design > input,
#spi_root_container_open_defects > input {
    position: fixed;
    width: 16rem;
    height: 2rem;
    left: 1rem;
    background-color: white;
    padding: 0;
    font-weight: bold;
    color: #335;
    border: 1px solid #ccc;
}

body > input:disabled,
#spi_log_time > input:disabled,
#spi_div_project_components > div > input:disabled,
#spi_root_container_phase_header > input:disabled,
#spi_root_container_phase > input:disabled,
#spi_root_container_design > input:disabled,
#spi_root_container_open_defects > input:disabled {
    color: #aaa;
}

body > input:hover:enabled,
#spi_log_time > input:hover:enabled,
#spi_div_project_components > div > input:hover:enabled,
#spi_root_container_phase_header > input:hover:enabled,
#spi_root_container_phase > input:hover:enabled,
#spi_root_container_design > input:hover:enabled,
#spi_root_container_open_defects > input:hover:enabled {
    background-color: #eee !important;
    color: #335 !important;
    border: 1px solid #ccc !important;
}

body > input[value="Hide Time Log"],
body > input[value="Show Time Log"] {
    top: 3.4rem;
}

body > input[value="Hide Defects Log"],
body > input[value="Show Defects Log"] {
    top: 5.4rem;
}

body > input[value="Hide Summary"],
body > input[value="Show Summary"] {
    top: 7.4rem;
}

body > input[value="Hide Estimates"],
body > input[value="Show Estimates"] {
    top: 9.4rem;
}

body > input[value="Hide Design"],
body > input[value="Show Design"] {
    top: 11.4rem;
}

body > input[value="Hide Code"],
body > input[value="Show Code"] {
    top: 13.4rem;
}

body > input[value="Hide Tests"],
body > input[value="Show Tests"] {
    top: 15.4rem;
}

body > input[value="Hide PiPs"],
body > input[value="Show PiPs"] {
    top: 17.4rem;
}

input[value="Change Phase"] {
    top: 3.4rem;
}

input[value="Close Assignment"],
input[value="Confirm Close - Data May Be Lost?"] {
    top: 5.4rem;
}

input[value="Cancel Close"] {
    top: 7.4rem;
}

input[value="Hide Project Preferences"],
input[value="Show Project Preferences"] {
    top: 9.4rem;
}

input[value="Hide Issues To Resolve"],
input[value="Show Issues To Resolve"] {
    top: 11.4rem;
}

input[value="Hide Assignment Description"],
input[value="Show Assignment Description"] {
    top: 13.4rem;
}

input[value="Hide Time Log"],
input[value="Show Time Log"] {
    top: 15.4rem;
}

input[value="Hide Detailed Time Log"],
input[value="Show Detailed Time Log"] {
    top: 17.4rem;
}

input[value="Hide Defects Log"],
input[value="Show Defects Log"] {
    top: 19.4rem;
}

input[value="Hide Closed Defects"],
input[value="Show Closed Defects"] {
    top: 21.4rem;
}

input[value="Hide Estimates"],
input[value="Show Estimates"] {
    top: 23.4rem;
}

input[value="Hide Design Review Checklists"],
input[value="Show Design Review Checklists"] {
    top: 25.4rem;
}

input[value="Hide Design"],
input[value="Show Design"] {
    top: 27.4rem;
}

input[value="Hide Sources"],
input[value="Show Sources"] {
    top: 29.4rem;
}

input[value="Hide Tests"],
input[value="Show Tests"] {
    top: 31.4rem;
}

input[value="Hide PiPs"],
input[value="Show PiPs"] {
    top: 33.4rem;
}

input[value="Hide Summary"],
body > input[value="Hide Design"],
input[value="Hide Code"],
input[value="Hide Project Preferences"],
input[value="Hide Issues To Resolve"],
input[value="Hide Assignment Description"],
input[value="Hide Time Log"],
input[value="Hide Detailed Time Log"],
input[value="Hide Defects Log"],
input[value="Hide Closed Defects"],
input[value="Hide Estimates"],
#spi_root_container_phase_header > input[value="Hide Design"],
input[value="Hide Design Review Checklists"],
input[value="Hide Sources"],
input[value="Hide Tests"],
input[value="Hide PiPs"] {
    background-color: #335 !important;
    color: #e7e7f4 !important;
    border: 1px solid #335 !important;
}

/* Format Tables
/***********************************************************************/

div.spi_table > h3 {
    text-align: center;
}

table.spi_table {
    width: 100%;
    margin-bottom: 16px;
    border: none;
    background: #eee;
    color: #555;
    font-size: 95%;
}

table.spi_table input[type=button],
table.spi_table select {
    display: inline-block !important;
    width: 100%;
    height: 100%;
    background-color: transparent;
    border: none;
    padding: 0;
    font-weight: bold;
    color: #335;
    text-align: center;
    -moz-appearance: none;
    -webkit-appearance: none;
}

table.spi_table input:disabled,
table.spi_table select:disabled {
    font-weight: normal;
    color: #aaa;
}

table.spi_table input:hover:enabled[type=button],
table.spi_table select:hover:enabled {
    background-color: #335;
    color: #e7e7f4;
}

table.spi_table input[type=text] {
    width: 100%;
    height: 100%;
    background-color: transparent;
    color: #555;
    border: none;
}

table.spi_table input:hover[type=text],
table.spi_table input:focus[type=text] {
    background-color: white;
    color: black;
}

table.spi_table th {
    background-color: white;
    border: none;
    font-size: 0.8em;
    font-weight: normal;
    color: #aaa;
    padding-left: 1rem;
    text-align: left;
}

table.spi_table td {
    height: 2em;
    border: none;
    padding: 0;
    padding-left: 1rem;
    text-align: left;
}

table.spi_table tr,
table.spi_table tr:nth-child(2n) {
    background-color: transparent;
    border-bottom: 1px solid #ccc;
}

/* Highlight Row Under Cursor */
table.spi_table tr:hover {
    background: #e7e7e7;
}

/* Phase Monitor
/***********************************************************************/

/* Current Phase */
#spi_root_container_phase strong {
    display: block;
    color: #666;
    margin-bottom: 0.6rem;
    padding: 1rem 1.4rem 0 1.4rem;
}

/* Issues To Resolve */
#spi_root_container_phase pre {
    border-top: 1px solid #ccc;
    border-bottom: 1px solid #ccc;
    background: #eee;
    color: #666;
    padding: 1.4rem;
    line-height: 1.5em;
    font-family: "Open Sans", Helvetica, sans-serif;
}

/* Design Buttons
/***********************************************************************/

#spi_root_container_design {
    position: relative;
}

#spi_root_container_design > div > input {
    position: absolute;
    top: -3.63em;
}

#spi_root_container_design > div > input:nth-child(1) {
    right: -1.9em;
}

#spi_root_container_design > div > input:nth-child(2) {
    right: 6.6em;
}

/* Design Review Buttons
/***********************************************************************/

#spi_root_container_designreview > div > input {
    width: 100%;
}

/* Defect Log
/***********************************************************************/

#spi_root_container_open_defects tr > td:nth-child(2) > select,
#spi_log_defects > div tr > td:nth-child(9) > select {
    width: 10em;
}

#spi_root_container_defects td:nth-child(10) {
    min-width: 40%;
}

#spi_root_container_defects td:nth-child(2),
#spi_root_container_defects th:nth-child(2) {
    width: 2em;
}

#spi_log_defects > div tr > td > input {
    overflow-x: auto;
}

#spi_log_defects > div table {
    position: relative;
}

#spi_root_container_open_defects tr > td > input:focus,
#spi_root_container_defects tr:hover > td > input {
    position: absolute;
    height: 2em;
    left: 0;
    right: 0;
    border-top: 1px solid #ccc;
    border-bottom: 1px solid #ccc;
    background-color: #eee;
}

/* Estimates
/***********************************************************************/

#spi_estimates > input:nth-child(3),
#spi_proxy_data {
    display: none;
}

/* Sources
/***********************************************************************/

#spi_root_container_codereview {
    position: relative;
    padding-bottom: 2em;
    margin-bottom: 1em;
}

#spi_root_container_codereview > div > input {
    width: 100%;
}

#spi_root_container_codereview > input {
    position: absolute;
    width: 100%;
    bottom: 0;
    right: 0;
    height: 2.3em;
    background-color: transparent;
    border: none;
    font-weight: bold;
    color: #335;
}

#spi_root_container_codereview > input:hover:enabled {
    background-color: #335;
    color: #e7e7f4;
}

/* Tests
/***********************************************************************/

#spi_root_container_user_acceptance > div {
    display: grid !important;
    grid-template: auto auto / 16.6% 16.7% 16.6% 16.7% 16.6% 16.7%;
    grid-template-areas: "btn btn btn btn btn btn" "left left left right right right";
}

#spi_root_container_user_acceptance > div > pre:nth-of-type(1) {
    grid-area: left;
}

#spi_root_container_user_acceptance > div > pre:nth-of-type(2) {
    grid-area: right;
}

/* Summary
/***********************************************************************/

#spi_root_container_summary > div:nth-child(5) {
    text-align: center;
}

}