/* ==UserStyle==
@name           Solarized Bitbucket
@namespace      USO Archive
@author         stickyShift
@description    `A solarized theme for bitbucket server (formerly Stash). Also works somewhat on bitbucket.org.`
@version        20170124.21.34
@license        CC0-1.0
@preprocessor   uso
==/UserStyle== */
@-moz-document url-prefix("http://git."), url-prefix("http://bitbucket."), url-prefix("https://bitbucket.") {
:root {
	/* Common */
	--S_yellow:        #b58900;
	--S_orange:        #cb4b16;
	--S_red:           #dc322f;
	--S_magenta:       #d33682;
	--S_violet:        #6c71c4;
	--S_blue:          #268bd2;
	--S_cyan:          #2aa198;
	--S_green:         #859900;

	/* Dark */
	--S_base03:        #002b36;
	--S_base02:        #073642;
	--S_base01:        #586e75;
	--S_base00:        #657b83;
	--S_base0:         #839496;
	--S_base1:         #93a1a1;
	--S_base2:         #eee8d5;
	--S_base3:         #fdf6e3;
}

body {
    background-color: var(--S_base02);
    color: var(--S_base0);
}

.aui-page-panel {
    background-color: var(--S_base03);
}

h1, .aui-page-header-hero .aui-page-header-main h1, .aui-page-header-hero .aui-page-header-main h2, .aui-page-header-marketing .aui-page-header-main h1, .aui-page-header-marketing .aui-page-header-main h2 {
    color: var(--S_base0);
}

h2, .breadcrumbs, .breadcrumbs span.stub {
    color: var(--S_base0)
}

h3, .aui-page-header-hero .aui-page-header-main p, .aui-page-header-marketing .aui-page-header-main p {
    color: var(--S_base0);
}

h4 {
    color: var(--S_base0);
}

h5 {
    color: var(--S_base0);
}

h6 {
    color: var(--S_base01);
}

.welcome-mat {
    background-color: var(--S_base03);
}

.welcome-mat p {
    color: var(--S_base0);
}

table.aui>tbody>tr, table.aui>tfoot>tr {
    background-color: var(--S_base03);
    border-bottom-color: var(--S_base01);
    color: var(--S_base0);
}

.bitbucket-theme #browse-table tr:hover, .bitbucket-theme #content table.aui > tbody > tr:hover {
    background-color: var(--S_base02);
}

.aui-sidebar .aui-sidebar-wrapper, .aui-sidebar-submenu .aui-sidebar-wrapper {
    border-right-color: var(--S_base01);
    background-color: var(--S_base02);
}

.aui-sidebar[aria-expanded="false"] .aui-sidebar-group.aui-sidebar-group-actions~.aui-sidebar-group-tier-one, .aui-sidebar-submenu[aria-expanded="false"] .aui-sidebar-group.aui-sidebar-group-actions~.aui-sidebar-group-tier-one {
    border-top-color: var(--S_base01);
}

.aui-sidebar .aui-sidebar-footer, .aui-sidebar-submenu .aui-sidebar-footer {
    border-top-color: var(--S_base01);
}

table.aui>tbody>tr:first-child>td, table.aui>tbody>tr:first-child>th, table.aui>tfoot>tr:first-child>td {
    border-top-color: var(--S_base01);
}

.aui-page-panel {
    border-color: var(--S_base01);
}

.file-content {
	border-color: var(--S_base01);
}

.file-toolbar {
    background-color: var(--S_base02);
}

.file-content > .file-toolbar {
    border-bottom-color: var(--S_base01);
}

.file-content .file-toolbar .until-commit-button:after {
    border-top-color: var(--S_base0);
}

.source-view.text-view .line .line-number {
    background-color: transparent;
    border-color: var(--S_base01);
}

#footer-logo {
    background-color: var(--S_base02);
}

.bitbucket-theme #browse-table tr.focused-file {
    background-color: var(--S_base02);
}

#footer .footer-body, #footer .footer-body a {
    color: var(--S_base00);
}

.aui-sidebar[aria-expanded=false] .aui-navgroup-vertical .aui-nav .aui-nav-child-selected a, .aui-sidebar-submenu[aria-expanded=false] .aui-navgroup-vertical .aui-nav .aui-nav-child-selected a, .aui-sidebar .aui-navgroup-vertical .aui-nav .aui-nav-selected a, .aui-sidebar-submenu .aui-navgroup-vertical .aui-nav .aui-nav-selected a {
    background-color: var(--S_base01);
}

.aui-sidebar[aria-expanded=false] .aui-navgroup-vertical .aui-nav .aui-nav-child-selected a, .aui-sidebar-submenu[aria-expanded=false] .aui-navgroup-vertical .aui-nav .aui-nav-child-selected a, .aui-sidebar .aui-navgroup-vertical .aui-nav .aui-nav-selected a, .aui-sidebar-submenu .aui-navgroup-vertical .aui-nav .aui-nav-selected a {
    border-color: var(--S_base01);
}

.aui-navgroup-vertical .aui-nav>li>a:focus, .aui-navgroup-vertical .aui-nav>li>a:hover, .aui-nav-vertical>li>a:focus, .aui-nav-vertical>li>a:hover {
    background-color: var(--S_base01);
}

.aui-navgroup-vertical .aui-nav, .aui-navgroup-vertical .aui-nav-heading {
    border-top-color: var(--S_base01);
}

.aui-button, a.aui-button, .aui-button:visited {
    background-color: var(--S_base02);
    border-color: var(--S_base01);
    color: var(--S_base0);
}

.aui-buttons .aui-button:not(.aui-button-primary):not(.aui-button-link):focus, .aui-buttons .aui-button:not(.aui-button-primary):not(.aui-button-link):hover, .aui-buttons .aui-button:not(.aui-button-primary):not(.aui-button-link):active {
    border-color: var(--S_base01);
}

.aui-button[aria-pressed="true"], .aui-buttons .aui-button[aria-pressed="true"], .aui-buttons .aui-button[aria-pressed="true"].aui-button-primary, .aui-buttons .aui-button[aria-pressed="true"].aui-button-subtle {
    background-color: var(--S_base01);
}

.aui-button:focus, .aui-button:hover, .aui-button-subtle.aui-button:focus, .aui-button-subtle.aui-button:hover {
    background-color: var(--S_base01);
    color: var(--S_base0);
    border-color: var(--S_base00);
}

.aui-button:active, .aui-button.active, .aui-header .aui-button-split-more.active, .aui-button-subtle.aui-button:active, .aui-button-subtle.aui-button.active {
	background-color: var(--S_base01);   
}

.branch-selector-toolbar .breadcrumbs {
    border-left-color: var(--S_base01);
}

.searchable-selector-trigger:after {
    border-top-color: var(--S_base0);
}

.searchable-selector-dialog .contents {
    background-color: var(--S_base02);
}

.searchable-selector .aui-tabs > ul.tabs-menu {
    background-color: var(--S_base02);
}

.searchable-selector .results .result.focused a {
    background-color: var(--S_base02);
    color: var(--S_base0);
}

.searchable-selector .results .result a {
    color: var(--S_base0);
}

.searchable-selector .results {
    background-color: var(--S_base03);
}

.searchable-selector input {
    background-color: var(--S_base03);
    color: var(--S_base0);
    border-color: var(--S_base01);
}

aui-inline-dialog .aui-inline-dialog-contents, .aui-inline-dialog .aui-inline-dialog-contents, aui-inline-dialog .contents, .aui-inline-dialog .contents {
    border-color: var(--S_base01);
}

.branch-selector-toolbar #branch-actions > .aui-icon {
	color: var(--S_base0);   
}

.aui-sidebar .aui-nav>li>.aui-nav-item>.aui-icon, .aui-sidebar-submenu .aui-nav>li>.aui-nav-item>.aui-icon {
    color: var(--S_base0);
    fill: var(--S_green);
}

a, .bitbucket-theme #browse-table .aui-icon {
    color: var(--S_green);
}

.bitbucket-theme #browse-table tr.focused-file td:first-of-type {
    border-left-color: var(--S_green);
}

.aui-header {
    background-color: var(--S_green);
    border-bottom-color: var(--S_base01);
}

.aui-header .aui-dropdown2-trigger.active, .aui-header a:focus, .aui-header a:hover, .aui-header a:active {
    background-color: rgba(255, 255, 255, .25);
}

.aui-button.aui-dropdown2-trigger:not(.aui-dropdown2-trigger-arrowless):after, .aui-buttons .aui-button.aui-button-primary.aui-dropdown2-trigger:not(.aui-dropdown2-trigger-arrowless):after {
    border-top-color: var(--S_base0);
}

.aui-dropdown2.aui-style-default {
    background-color: var(--S_base03);
    border-color: var(--S_base01);
}

.aui-dropdown2.aui-style-default.aui-dropdown2-in-toolbar, .aui-dropdown2.aui-style-default.aui-dropdown2-in-buttons {
    border-color: var(--S_base01);
}

.aui-dropdown2.aui-style-default [role="menuitem"], .aui-dropdown2.aui-style-default [role="menuitemcheckbox"], .aui-dropdown2.aui-style-default [role="menuitemradio"], .aui-dropdown2.aui-style-default [role="radio"], .aui-dropdown2.aui-style-default [role="checkbox"], .aui-dropdown2.aui-style-default a {
    color: var(--S_base0);
    background-color: var(--S_base03);
}

.aui-dropdown2.aui-style-default:hover .aui-dropdown2-checkbox:not(.aui-dropdown2-disabled):hover, .aui-dropdown2.aui-style-default:hover .aui-dropdown2-radio:not(.aui-dropdown2-disabled):hover, .aui-dropdown2.aui-style-default:hover a:not(.aui-dropdown2-disabled):hover {
    background-color: var(--S_base02);
    color: var(--S_base0);
}

.aui-dropdown2.aui-style-default:hover .aui-dropdown2-checkbox, .aui-dropdown2.aui-style-default:hover .aui-dropdown2-radio, .aui-dropdown2.aui-style-default:hover a {
    background-color: var(--S_base03);
    color: var(--S_base0);
}

aui-inline-dialog .aui-inline-dialog-contents, .aui-inline-dialog .aui-inline-dialog-contents, aui-inline-dialog .contents, .aui-inline-dialog .contents {
    background-color: var(--S_base03);
    border-color: var(--S_base01);
}

#inline-dialog-inbox-pull-requests-content .aui-inline-dialog-contents #inbox-wapper h2 {
    border-color: var(--S_base01);
}

.branch-table .base-branch {
    background-color: var(--S_base02);
}

.branch-creation-form .branch-name-prefix {
    background-color: var(--S_base02);
    border-color: var(--S_base01);
}

.branch-creation-form .branch-creation-diagram-container {
    border-color: var(--S_base01);
}

.ref-lozenge {
    background-color: var(--S_base02);
    border-color: var(--S_base01);
    color: var(--S_base0);
}

.filebrowser-table .directory-file-history.message::after {
    background-image: linear-gradient(to right, rgba(255, 255, 255, 0), var(--S_base03));
}

.filebrowser-table tr.focused-file .directory-file-history.message::after, .filebrowser-table tr:hover .directory-file-history.message::after {
    background-image: linear-gradient(to right, rgba(255, 255, 255, 0), var(--S_base02));
}

.commits-table .message::after {
    background-image: linear-gradient(to right, rgba(255, 255, 255, 0), var(--S_base03));
}

.commits-table tr {
    border-color: var(--S_base03);
}

.commits-table tr.focused-commit {
    background-color: var(--S_base02);
}

.commits-table tbody tr:hover .message::after {
    background-image: linear-gradient(to right, rgba(255, 255, 255, 0), var(--S_base02));
}

.commits-table tr.focused-commit .message::after {
    background-image: linear-gradient(to right, rgba(255, 255, 255, 0), var(--S_base02));
}

.commits-table .message .message-subject {
    color: var(--S_base0);
}

.bitbucket-theme a.secondary-link {
    color: var(--S_base0);
}

.paged-table tr.focused {
    background-color: var(--S_base03);
}

.commit-badge-oneline span.commit-author {
    color: var(--S_base1);
}

.aui-icon {
    position:relative;
}

/*.aui-nav-item::after {
    position:absolute;
    width:20px;
    height:20px;
    content: "";
    background-color: var(--S_base0);
    mix-blend-mode: multiply;
}*/

.pointer-events .CodeMirror.CodeMirror-focused::after {
    box-shadow: inset 0 0 8px var(--S_base01);
}

.aui-sidebar[aria-expanded="false"] .aui-sidebar-group-tier-one>.aui-nav>li>.aui-nav-item>.aui-badge, .aui-sidebar-submenu[aria-expanded="false"] .aui-sidebar-group-tier-one>.aui-nav>li>.aui-nav-item>.aui-badge, .aui-sidebar[aria-expanded="false"] .aui-sidebar-group-tier-one>.aui-nav>li>.aui-nav-item>aui-badge, .aui-sidebar-submenu[aria-expanded="false"] .aui-sidebar-group-tier-one>.aui-nav>li>.aui-nav-item>aui-badge {
    background-color: var(--S_base01);
    border: 2px solid var(--S_base02);
    color: var(--S_base0);
}

.aui-select2-container.select2-container .select2-choice, .aui-select2-container.select2-container a.select2-choice, .aui-select2-container.select2-container .select2-choice:visited {
    text-shadow: 0 1px 0 var(--S_base03);
}

.aui-tabs.horizontal-tabs>.tabs-menu>.menu-item {
    background-color: var(--S_base03);
}

.aui-tabs>.tabs-menu .menu-item.active-tab a, .aui-tabs>.tabs-menu .menu-item.active-tab a:link, .aui-tabs>.tabs-menu .menu-item.active-tab a:visited, .aui-tabs>.tabs-menu .menu-item.active-tab a:focus, .aui-tabs>.tabs-menu .menu-item.active-tab a:hover, .aui-tabs>.tabs-menu .menu-item.active-tab a:active {
    background-color: var(--S_base03);
    color: var(--S_base0);
    border-bottom-color: var(--S_base03);
}

.aui-tabs.horizontal-tabs>.tabs-menu>.menu-item>a, .aui-tabs.aui-tabs-disabled.horizontal-tabs>.tabs-menu>.menu-item>a:focus, .aui-tabs.aui-tabs-disabled.horizontal-tabs>.tabs-menu>.menu-item>a:hover, .aui-tabs.aui-tabs-disabled.horizontal-tabs>.tabs-menu>.menu-item>a:active {
    border-color: var(--S_base01);
    border-bottom-color: var(--S_base03);
}

.aui-tabs.horizontal-tabs>.tabs-menu>.menu-item.active-tab, .aui-tabs.horizontal-tabs[data-aui-responsive]>.tabs-menu>.menu-item.active-tab, .aui-tabs.aui-tabs-disabled.horizontal-tabs>.tabs-menu>.active-tab:focus, .aui-tabs.aui-tabs-disabled.horizontal-tabs>.tabs-menu>.active-tab:hover, .aui-tabs.aui-tabs-disabled.horizontal-tabs>.tabs-menu>.active-tab:active {
    border-bottom-color: var(--S_base03);
}

.aui-tabs.horizontal-tabs>.tabs-menu>.menu-item>a, .aui-tabs.aui-tabs-disabled.horizontal-tabs>.tabs-menu>.menu-item>a:focus, .aui-tabs.aui-tabs-disabled.horizontal-tabs>.tabs-menu>.menu-item>a:active {
    background-color: var(--S_base02);
    color: var(--S_base0);
    border-color: var(--S_base01);
}

.aui-tabs.horizontal-tabs>.tabs-menu>.menu-item:first-child a {
    border-color: var(--S_base01);
}

.aui-tabs>.tabs-menu .menu-item a:focus, .aui-tabs>.tabs-menu .menu-item a:hover {
 	border-color: var(--S_base01);
    background-color: var(--S_base03);
}

.aui-tabs.horizontal-tabs>.tabs-menu~.tabs-pane {
    border-top-color: var(--S_base01);
}

.plugin-section-primary > .plugin-item:not(.hidden) ~ .plugin-section-separator {
    border-bottom-color: var(--S_base01);
}

.markup-editor textarea {
    background-color: var(--S_base03);
    border-color: var(--S_base01);
    color: var(--S_base0);
}

.markup-editor .markup-toolbar {
    background-color: var(--S_base02);
    border-color: var(--S_base01);
}

.markup-content {
    color: var(--S_base0);
}

.markup code {
    background-color: var(--S_base3);
}

.filebrowser-readme {
    border-color: var(--S_base01);
}

.filebrowser-readme .filebrowser-readme-header {
    background-color: var(--S_base02);
    border-color: var(--S_base01);
}

.file-content {
    background-color: var(--S_base03);
}

.pull-request-header .reviewer-avatar-list {
    background-color: var(--S_base03);
}

.pull-request-activity > li {
    border-top-color: var(--S_base01);
}

.pull-request-content > .commit-files .diff-tree-search-wrapper .search::before {
    background-image: linear-gradient(to right, var(--S_base03), rgba(0, 0, 0, 0));
}

.file-tree-container .diff-tree-toolbar {
    background-color: var(--S_base02);
    border-color: var(--S_base01);
}

form.aui .text, form.aui .password, form.aui .textarea, form.aui .select, form.aui .multi-select, form.aui .aui-select2-container .select2-choices {
    background-color: var(--S_base03);
    border-color: var(--S_base01);
    color: var(--S_base0);
}

.diff-view.text-view .context.line .add-comment-trigger {
    background-color: var(--S_base03);
}

.diff-view.text-view .added.line, .diff-view.text-view .added.segment-connector, .diff-view.text-view .added.line .comment-box, .diff-view.text-view .added.line .bitbucket-gutter-marker {
    background-color: var(--S_base03);
}

.CodeMirror-code .added.line .CodeMirror-gutter-wrapper .CodeMirror-gutter-elt .bitbucket-gutter-marker {
    background-color: var(--S_green);
    color: var(--S_base2);
    text-shadow: none;
}

.CodeMirror-code .added.line .CodeMirror-line {
    color: var(--S_green);
}

.added.line .ediff-add, .added.line .ediff-change {
    background-color: rgba(133, 153, 0, .25);
}

.added.line .CodeMirror-line, .removed.line .CodeMirror-line {
    background-color: var(--S_base02);
}

.diff-view.text-view .removed.line, .diff-view.text-view .removed.segment-connector, .diff-view.text-view .removed.line .comment-box, .diff-view.text-view .removed.line .bitbucket-gutter-marker {
    background-color: var(--S_base03);
}

.CodeMirror-code .removed.line .CodeMirror-gutter-wrapper .CodeMirror-gutter-elt .bitbucket-gutter-marker {
    background-color: var(--S_red);
    color: var(--S_base2);
    text-shadow: none;
}

.CodeMirror-code .removed.line .CodeMirror-line {
    color: var(--S_red);
}

.removed.line .ediff-change, .removed.line .ediff-delete {
    background-color: rgba(220, 50, 47, .25);
}

.diff-view.text-view.commentable .line:hover {
    background-color: var(--S_base02);
}

.diff-view.text-view .line-number, .diff-view.text-view .line-number-marker {
    color: var(--S_base0);
}

.diff-view.text-view.commentable .line:hover .CodeMirror-gutter-elt > * {
    background-color: var(--S_base02);
}

.unified-diff .gutter-border {
    border-color: var(--S_base01);
}

.file-tree-container, .file-tree-container .commit-selector-button {
    background: var(--S_base03);
    background-color: var(--S_base03);
}

.file-tree-container .commit-selector-button:after {
    border-top-color: var(--S_base0);
}

.file-tree-wrapper {
    background-color: var(--S_base03);
}

.jstree.file-tree > ul a {
    color: var(--S_base0);
}

.jstree .jstree-clicked {
    background-color: var(--S_base3);
}

.jstree .jstree-hovered {
    background-color: var(--S_base3);
}

.bitbucket-theme .jstree .change-type-MODIFY {
    color: var(--S_blue);
}

/*.aui-sidebar .aui-nav>li>.aui-nav-item>.aui-icon, .aui-button .aui-icon {
    filter: url(#base0);
}*/

.pull-request-content > .commit-files .diff-tree-toolbar {
    background-color: var(--S_base03);
}

.commit-files.tabbed {
    border-color: var(--S_base01);
}

/* Skipped content */
.skipped-container {
    background-color: var(--S_base01);
}

.skipped-container .content-above, .skipped-container .content-below {
    position:relative;
    background-image: none;
}

.skipped-container .showmore {
    background-color: var(--S_base01);
    color: var(--S_base03);
}

.content-above:after {
  content: "";
  position: absolute;      
  display: block;

  height: 10px;
  left:0;
  right:0;

  background:
    linear-gradient(
      45deg, transparent 33.333%,
      var(--S_base03) 33.333%, var(--S_base03) 66.667%,
      transparent 66.667%
    ),linear-gradient(
      -45deg, transparent 33.333%,
      var(--S_base03) 33.333%, var(--S_base03) 66.667%,
      transparent 66.667%
    );

    background-size: 8px 20px; /* toothSize doubleHeight */
    background-position: 0 -10px; /* horizontalOffset -height */
}

.content-below:after {
  content: "";
  position: absolute;      
  display: block;

  height: 10px;
  bottom: 0px;
  left:0;
  right:0;

  background:
    linear-gradient(
      45deg, transparent 33.333%,
      var(--S_base03) 33.333%, var(--S_base03) 66.667%,
      transparent 66.667%
    ),linear-gradient(
      -45deg, transparent 33.333%,
      var(--S_base03) 33.333%, var(--S_base03) 66.667%,
      transparent 66.667%
    );

    background-size: 8px 20px; /* toothSize doubleHeight */
    background-position: 0 0; /* horizontalOffset -height */
}
}