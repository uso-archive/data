/* ==UserStyle==
@name         Modern Bugzilla
@namespace    USO Archive
@author       Tim Nguyen
@description  An userstyle that makes bugzilla.mozilla.org look more modern.
@version      20160424.00.51
@license      NONE
@preprocessor uso
==/UserStyle== */
@namespace url(http://www.w3.org/1999/xhtml);

@-moz-document domain("bugzilla.mozilla.org") {
  body {
    background: #f5f5f5 !important;
    position: relative;
    padding-bottom: 0;
    display: flex;
    flex-direction: column;
    font-family: Fira Sans, Open Sans, sans-serif !important;
    min-height: calc(100vh - 16px) !important;
  }

  body, html {
    min-height: 100vh !important;
    box-sizing: border-box;
    max-width: 100vw !important;
    overflow-x: hidden;
  }
  #header #badge {
    background: #0095dd !important;
    color: #fff !important;
    margin-inline-start: -176px !important;
    display: inline-block;
    height: 2em;
    width: 2em;
    border-radius: 100%;
    padding: 0;
    text-align: center;
    line-height: 2em;
  }
  #bugzilla-body, #page-index {
    display: flex;
    flex-direction: column;
    flex: 1;
    width: 100%;
  }
  h2 {
    font-weight: normal;
  }
  #create-account-left {
    border-right: none;
  }
  #message {
    background: #fff;
    border-radius: 2px;
  }
  #header {
    background: #C13832 !important;
    box-shadow: none !important;
    border-bottom: none !important;

  }
  #mini_login_container_top,
  #header a,
  #header .form.quicksearch_form {
    color: #fff !important;
  }
  #header .separator,
  #bugzilla_version {
    color: #fff !important;
    opacity: 0.5 !important;
  }
  #header input {
    border: none !important;
  }
  #title a {
    font-weight: normal;
  }
  #title a::before {
    content: "";
    width: 32px;
    height: 32px;
    vertical-align: middle;
    background-color: white;
    border-radius: 100%;
    background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZGVmcz4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0iZ3JhZGllbnQiIHgxPSIwJSIgeDI9IjEwMCUiIHkxPSI1MCUiIHkyPSI1MCUiPgogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjMDAwIiBzdG9wLW9wYWNpdHk9IjAuMiIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDAiIHN0b3Atb3BhY2l0eT0iMCIvPgogICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDxjbGlwUGF0aCBpZD0iYSI+CiAgICAJPGVsbGlwc2UgY3g9IjY0IiBjeT0iNjQiIHJ4PSIzNSIgcnk9IjQwIiBmaWxsPSIjMDAwIi8+CiAgICA8L2NsaXBQYXRoPgogIDwvZGVmcz4KICA8ZyBmaWx0ZXI9ImRyb3Atc2hhZG93KDBweCAycHggMnB4IHJnYmEoMCwgMCwgMCwgMC4xNCkpIGRyb3Atc2hhZG93KDBweCAxcHggNXB4IHJnYmEoMCwgMCwgMCwgMC4xMikpIGRyb3Atc2hhZG93KDBweCAycHggMXB4IHJnYmEoMCwgMCwgMCwgMC4yKSkiPgogIAk8ZWxsaXBzZSBjeD0iNjQiIGN5PSI2NCIgcng9IjM1IiByeT0iNDAiIGZpbGw9IiM0Y2FmNTAiLz4KICAgIDxnIHN0cm9rZS13aWR0aD0iNSIgc3Ryb2tlPSIjNGNhZjUwIiBzdHJva2UtbGluZWNhcD0icm91bmQiPgogICAgCTxsaW5lIHgxPSI1MCIgeDI9IjM4IiB5MT0iMzUiIHkyPSIyMCIgc3Ryb2tlPSIjNmQ0YzQxIi8+CiAgICAgIDxsaW5lIHgxPSI3OCIgeDI9IjkwIiB5MT0iMzUiIHkyPSIyMCIgc3Ryb2tlPSIjNmQ0YzQxIi8+CiAgICAgIDxsaW5lIHgxPSIxOCIgeDI9IjMzIiB5MT0iNTAiIHkyPSI1MCIvPgogICAgICA8bGluZSB4MT0iMTUiIHgyPSIzMCIgeTE9IjcwIiB5Mj0iNzAiLz4KICAgICAgPGxpbmUgeDE9IjIyIiB4Mj0iMzciIHkxPSI5MCIgeTI9IjkwIi8+CiAgICAgIDxsaW5lIHgxPSI4NSIgeDI9IjExMCIgeTE9IjUwIiB5Mj0iNTAiLz4KICAgICAgPGxpbmUgeDE9Ijg1IiB4Mj0iMTEzIiB5MT0iNzAiIHkyPSI3MCIvPgogICAgICA8bGluZSB4MT0iOTAiIHgyPSIxMDYiIHkxPSI5MCIgeTI9IjkwIi8+CiAgICA8L2c+CiAgPC9nPgogIDxnIGNsaXAtcGF0aD0idXJsKCNhKSI+CiAgICA8cmVjdCB4PSI2NCIgeT0iMjQiIHdpZHRoPSIzNSIgaGVpZ2h0PSI4MCIgZmlsbD0idXJsKCNncmFkaWVudCkiLz4KICAJPGVsbGlwc2UgY3g9IjY0IiByeD0iNTAiIHJ5PSI1MCIgY3k9IjAiIGZpbGw9IiM2ZDRjNDEiIGZpbHRlcj0iZHJvcC1zaGFkb3coMHB4IDJweCAycHggcmdiYSgwLCAwLCAwLCAwLjE0KSkgZHJvcC1zaGFkb3coMHB4IDFweCA1cHggcmdiYSgwLCAwLCAwLCAwLjEyKSkgZHJvcC1zaGFkb3coMHB4IDJweCAxcHggcmdiYSgwLCAwLCAwLCAwLjIpKSIvPgogICAgPGNpcmNsZSBjeD0iNjQiIGN5PSI3MCIgcj0iMTAiIGZpbGwtb3BhY2l0eT0iMC4yIi8+CiAgICA8Y2lyY2xlIGN4PSI2NCIgY3k9IjEwMyIgcj0iMTAiIGZpbGwtb3BhY2l0eT0iMC4yIi8+CiAgPC9nPgogIDxnIGZpbGw9IiM0ZTM0MmUiPgogICAgPGNpcmNsZSBjeD0iNTMiIGN5PSIzOCIgcj0iMy41Ii8+CiAgICA8Y2lyY2xlIGN4PSI3NSIgY3k9IjM4IiByPSIzLjUiLz4KICA8L2c+Cjwvc3ZnPg==);
    background-size: 30px;
    background-repeat: no-repeat;
    background-position: center;
    margin-right: 13px;
    display: inline-block;
  }
/*   #header .links {
    margin-left: 44px;
    margin-right: 178px;
    text-align: center;
    overflow: auto;
  }
  #header .links li {
    float: left;
  } */
  #header .dropdown {
    background: none;
    border: none;
  }
  #header .dropdown .anchor {
    color: #fff;
    background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="8" height="4"><polygon points="0,0 4,4 8,0" fill="white"/></svg>') !important;
  }
  #header .dropdown ul {
    border-radius: 0.25em;
  }
  #header .dropdown ul a {
    color: #000 !important;
  }
  #header .quicksearch_form {
    float: right !important;
    font-size: 0;
    margin-top: -2px;
    margin-bottom: 5px;
  }
  #header .quicksearch_form input,
  #quicksearch_main {
    background-image: url(http://firefoxux.github.io/firefox-svg-icons/icons/navigation/magnifying-glass.svg);
    background-size: 18px;
    background-color: #fff;
  }
  #header .quicksearch_form input {
    height: 25px;
  }
  #header .quicksearch_form + li {
    border-left: 1px solid rgba(255,255,255,0.5);
    margin-left: 5px;
    padding-left: 5px;
  }
  #quicksearch_top {
    font-size: 13px !important;
  }
  #header .quicksearch_form a {
    display: inline-block;
    width: 20px;
    height: 20px;
    vertical-align: middle;
    margin-top: 4px;
    font-size: 0;
    background: url(https://firefoxux.github.io/firefox-svg-icons/icons/alert/help.svg);
    filter: invert(1);
    margin-left: 10px;
    background-size: cover;
  }
  #find_top {
    display: none !important;
  }
  #footer {
    margin-bottom: 0;
/*     position: absolute;
    bottom: 0; */
/*     width: 100%; */
  }
  #privacy-policy {
    position: absolute;
    right: 15px;
    bottom: 10px;
    background: none;
    display: inline-block;
    pointer-events: none;
  }
  #privacy-policy a {
    pointer-events: auto;
  }
  #footer {
    padding-left: 15px;
    margin-left: -15px !important;
    margin-right: -15px !important;
    
  }
  .yui-skin-sam .yui-calcontainer,
  select[size], #summary_field, #report {
    border: 1px solid #d4d4d4 !important;
  }
  .yui-skin-sam .yui-calendar td.calcell.today {
    background-color: #01BDAD;
    border-color: #01BDAD;
  }
  .yui-skin-sam .yui-calendar td.calcell.today a {
    border: none;
    background: inherit;
    color: #fff;
  }
  select[multiple], textarea, input[type="text"], input[type="password"], input[type="email"], input[type="url"], input[type="number"], input:not([type]), .text_input, .yui-ac-input {
    box-shadow: none;
    border-radius: 2px;
    border-color: #d4d4d4;
    transition: box-shadow 0.05s;
  }
  :-moz-any(select[multiple], textarea, input[type="text"], input[type="password"], input[type="email"], input[type="url"], input[type="number"], input:not([type]), .text_input, .yui-ac-input):focus {
    border-color: #0996f8;
    box-shadow: 0 0 0 2px rgba(97,181,255,.75);
  }
  button, input[type="submit"], input[type="button"], #commit, #commit_top, #header .btn, #header input[type="submit"] {
    background: #0996F8;
    box-shadow: none !important;
    text-shadow: none !important;
    border-radius: 2px !important;
  }
  
  button:hover, input[type="submit"]:hover, input[type="button"]:hover, #commit:hover, #commit_top:hover, #header .btn:hover, #header input[type="submit"]:hover {
    background: #2ea3ff;
  }
  button:active, input[type="submit"]:active, input[type="button"]:active, #commit:active, #commit_top:active, #header .btn:active, #header input[type="submit"]:active {
    background: #0675d3;
  }
  .calendar_button {
    background-image: url(https://storage.googleapis.com/material-icons/external-assets/v4/icons/svg/ic_today_white_24px.svg) !important;
    background-size: 20px !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    width: 29.7px;
    height: 29.7px;
  }
  input + .calendar_button {
    border: 1px solid #d4d4d4;
    border-left: none;
    margin-left: -5px;
    transition: all 0.1s !important;
  }
  .calendar_button:not(:hover):not(:active) {
    background-image: url(https://storage.googleapis.com/material-icons/external-assets/v4/icons/svg/ic_today_black_24px.svg) !important;
    background-color: #fff;
  }
  input:focus + .calendar_button {
    border-top-left-radius: 0 !important;
    border-bottom-left-radius: 0 !important;
    border-color: #0996f8 !important;
    box-shadow: 2px 2px 0 0px rgba(97,181,255,.75),
                2px -2px 0 0px rgba(97,181,255,.75) !important;
  }
  input[onchange="updateCalendarFromField(this)"] {
    border-top-right-radius: 0 !important;
    border-bottom-right-radius: 0 !important;
  }
  .comment_tab,
  .tabs td {
    background: none;
    border: none;
    border-bottom: 2px solid transparent;
    text-transform: uppercase;
  }
  .active_comment_tab,
  .tabs td.selected {
    border-bottom: 2px solid #01bdad;
    color: #01bdad;
    background: none;
    font-weight: 600;
  }
  /* Bug page */
  .bz_comment_user img {
    border-radius: 50% !important;
  }
/*
  #attachment_table {
    background: #2E2933 !important;
    color: rgba(255,255,255,0.8) !important;
  }
  #attachment_table a {
    color: #fff !important;
  }
  #attachment_table th, .bz_attach_footer, .bz_time_tracking_table th {
    background: #17141A !important;
    color: white !important;
    font-weight: normal !important;
  }
  .bz_first_comment_head, .bz_comment_head {
    background: #17141A !important;
    color: #fff !important;
  }
  */
  .edit_form a[href="page.cgi?id=fields.html"] {
    display: none;
  }
  .mozreview-table,
  .mozreview-table > thead,
  #attachment_table {
    border: none !important;
    background: none !important;
  }
  .mozreview-requests>thead {
    background: #f2f2f2;
  }
  .mozreview-table>thead th,
  #add_comment legend,
  .bz_alias_short_desc_container,
  #attachment_table th {
    border-radius: 0;
    margin-bottom: 0;
    background: none !important;
    font-size: 16px !important;
    font-weight: 300 !important;
    border-bottom: 1px solid #0996f8 !important;
    position: relative;
  }
  .bz_alias_short_desc_container {
    font-size: 20px !important;
  }
  .mozreview-requests > thead > tr > th,
  .mozreview-requests .mozreview-request td {
    padding: 5px !important;
  }
  
  .mozreview-table > tbody > tr > td {
    padding: 0 !important;
  }
  #attachment_table tr:not(#a0):not(.bz_attach_footer) {
    background-image: linear-gradient(var(--attachment-bg), var(--attachment-bg)) !important;
    background-repeat: no-repeat;
    background-size: 40px;
    --attachment-bg: #555;
  }
  #attachment_table tr:not(#a0):not(.bz_attach_footer) td {
      padding-left: 45px;
    position: relative;
  }
  #attachment_table tr:not(#a0),
  .bz_attach_footer {
    background-color: #fff !important;
    --attachment-image: url(https://firefoxux.github.io/firefox-svg-icons/icons/content/save.svg);
  }
  #attachment_table tr:not(#a0):not(.bz_attach_footer) td a::before {
    content: "";
    display: inline-block;
    position: absolute;
    top: 0;
    left: 0;
    width: 40px;
    height: 100%;
    background-size: 16px;
    background-position: center;
    background-repeat: no-repeat;
    background-image: var(--attachment-image);
    filter:invert(1);
    opacity: 0.9;
  }
  [class^="bz_contenttype_image"] {
    --attachment-bg: #57bd35 !important;
    --attachment-image: url(https://storage.googleapis.com/material-icons/external-assets/v4/icons/svg/ic_landscape_black_24px.svg) !important;
  }
  [class^="bz_contenttype_video"] {
    --attachment-bg: #ea385e !important;
    --attachment-image: url(https://firefoxux.github.io/firefox-svg-icons/icons/navigation/camera.svg) !important;
  }
  #attachment_table .bz_patch {
    background-color: rgba(2, 83, 139, 1) !important;
    --attachment-bg: #02538b !important;
    --attachment-image: url(https://firefoxux.github.io/firefox-svg-icons/icons/developer/diff.svg) !important;
  }
  .bz_bug .edit_form {
    border: none;
    padding-bottom: 10px !important;
  }
  #add_comment legend {
    margin-bottom: 10px;
  }
  #add_comment fieldset {
    border: none !important;
    padding: 0
  }
  .context-menu-list {
    border: 1px solid rgba(0, 0, 0, 0.2);
    border-radius: 0.25em;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    background: #fafafa;
  }
  .context-menu-item:hover {
    color: #fff;
  }
  
  /* Loading dino */
  div[style="margin-top: 15%; text-align: center;"] {
    position: absolute;
    margin: auto !important;
    transform: translateY(-50%);
    top: 50%;
    bottom: 0;
    left: 0;
    right: 0;
  }
  /* attachment pages */
  #viewFrame {
    border: 1px solid #dedede;
  }
  /* error */
  .throw_error {
    border-radius: 2px !important;
    border: 1px solid #d92215 !important;
    text-align: center;
  }
  /* Home */
  #welcome + .intro .bz_common_actions,
  .bz_common_actions {
    background-color: #0996f8 !important;
    background-image: none !important;
    color: white !important;
    display: block !important;
    position: relative;
    margin: 5px;
    border-radius: 2px;
  }
  h1 {
    font-weight: 300 !important;
  }
  #page-index {
    flex:1;
  }
  #quicksearchForm {
    padding-top: 4vh !important;
  }
  #welcome {
    margin-bottom: 3vh !important;
  }
  .bz_common_actions span {
    top: auto !important;
    bottom: 10px !important;
    position: absolute !important;
    left: 0 !important;
    right: 0 !important;
    text-align: center;
    font-weight: normal;
  }
  .bz_common_actions::before {
    content: "";
    position: absolute;
    background-size: cover;
    filter: invert(1);
    opacity: 0.85;
    top: 50%;
    left: 50%;
    width: 48px;
    height: 48px;
    margin: -30px 0 0 -24px;
  }
  .intro #docs::before {
    background-image: url(https://firefoxux.github.io/firefox-svg-icons/icons/alert/help.svg);
    width: 44px;
    height: 44px;
    margin: -28px 0 0 -22px;
  }
  #enter_bug {
    background-color: #57bd35 !important;
  }
  #enter_bug::before {
    background-image: url(https://firefoxux.github.io/firefox-svg-icons/icons/alert/notification.svg);
  }

  #query {
    background-color: #ea385e !important;
  }
  #query::before {
    background-image: url(https://firefoxux.github.io/firefox-svg-icons/icons/navigation/magnifying-glass.svg);
  }
  #account {
    background-color: #858585 !important;
  }
  #account::before {
    background-image: url(https://firefoxux.github.io/firefox-svg-icons/icons/places/settings.svg)
  }
}

@-moz-document url-prefix(https://bugzilla.mozilla.org/userprefs.cgi) {
  #prefnav li a {
    color: inherit;
    text-transform: uppercase;
    font-size: 0.9em;
  }
  #prefnav .selected {
    color: #01BDAD;
    box-shadow: inset -3px 0 0 currentColor
  }
}