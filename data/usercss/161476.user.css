/* ==UserStyle==
@name           pixivイラストページ旧レイアウト風
@namespace      USO Archive
@author         ponko
@description    `pixivのイラストページを旧レイアウトっぽくするよ作品リストと関連作品は非表示副作用でアンケート等も上に来ちゃうのは堪忍な新プロフィールもいじってみた横1050px以上の場合は２列表示カバー画像を設定する時は無効化してねタグの作者マーカー、作品タグの表示復活スクリプトはこちらhttps://greasyfork.org/ja/scripts/369658`
@version        20210217.15.21
@license        CC0-1.0
@preprocessor   uso
==/UserStyle== */
@-moz-document domain(pixiv.net) {
	:root {
		--z-hedaer-height	: 46px;
		--z-header-border	: rgb(235, 235, 235);
		--z-search-border	: rgb(214, 214, 214);

		--z-card-bg			: rgba(100, 100, 100, .1);
		--z-card-border		: rgb(215, 215, 215);
		--z-tag				: rgb(46, 46, 46);
		--z-tag-bg			: rgba(100, 100, 100, .1);
	}
	.fKkgNY {
		--z-header-border	: rgb(68, 69, 73);
		--z-search-border	: rgb(82, 82, 82);
	}
	.fKkgNY + div {
		--z-card-border		: #424242;
		--z-tag				: #E0E0E0;
		--z-tag-bg			: #393939;
	}
	
	/* ヘッダーを細くする */
	#root > #gtm-var-theme-kind + div > div > [style] ~ :last-child,
	#root > #gtm-var-theme-kind + div > div > [style] iframe {
		display: none;
	}
	#root > #gtm-var-theme-kind + div > div > [style] > [style] > :first-child {
		height: var(--z-hedaer-height);
		border-bottom: 1px solid var(--z-header-border);
	}
	#root > #gtm-var-theme-kind + div > div form {
		margin-top: 1px;
	}
	#root > #gtm-var-theme-kind + div > div form input[placeholder] {
		border: 1px solid var(--z-search-border);
		padding-top: 7px;
		padding-bottom: 7px;
	}
	/* ヘッダーを細くした分のサイドバー左上メニュー位置合わせ */
	#root ~ [role="presentation"] [style^="transform:"] > :first-child > :first-child > :first-child {
		height: var(--z-hedaer-height);
	}

	/* ユーザーアイコン四角化 */
	div[role="img"][size] {
		border-radius: 4px;
		background-repeat: no-repeat;
		background-position: center;
	}

	/* サムネイル四角化 */
	[type="illust"][size],
	[type="illust"][size] a > :last-child::before,
	[type="illust"][size] a img {
		border-radius: 0;
	}
	[type="illust"][size] a + div button svg {
		width: 24px;
		height: 24px;
	}

	/* タグ単色化 */
	a[color][href^="/tags/"],
	a[color][href^="/users/"] {
		padding: 1px 8px;
		background-color: var(--z-tag-bg);
		color: var(--z-tag);
		min-height: unset;
	}
	a[color][href^="/tags/"] > :first-child,
	a[color][href^="/users/"] > :first-child {
		font-weight: normal;
	}

}


@-moz-document 
regexp("https://www\\.pixiv\\.net/users/\\d+(\\/(?!following|mypixiv).*)?"),
url-prefix(https://www.pixiv.net/artworks/)
{
	body {
		min-width: unset;
	}

	/* カバー */
	#root > #gtm-var-theme-kind + div > div + div > div:first-child > div:first-child > div:first-child {
		height: 176px;
		background-color: transparent;
	}
	.kYaczs,
	.gMeFYR {
		display: none;
	}

	/* 作者アイコン */
	.gulj4d-0 > :nth-child(2) > :first-child > :first-child {
		width: auto;
		height: auto;
		top: 30px;
	}

		/* 作品一覧 */
		._9GTeZI7 section {
			margin-left: 5px;
			margin-right: 5px;
		}
	
		/* ブックマークのイラスト・漫画、小説切り替え */
		._1IDjItc {
			margin: 12px auto 12px;
		}
		._3pXgVsK,	/* イラスト・漫画、小説 */
		._3gHiQa8,	/* フォロー、マイピク */
		.fYeKFl		/* 公開、非公開 */
		{
			border-radius: 4px;
			padding: 10px 20px;
		}

		/* タグ */
		.chJoiX {
			margin-left: 13px;
			margin-right: 13px;
			margin-bottom: 10px;
		}
		.chJoiX > div > div {
			margin-bottom: 5px;
		}

/*	.dCCrDP,*/
	section ul:nth-child(n) {
		margin-top: 0;
		margin-left: 0;
		margin-right: 0;
	}
		/* イラストサムネイル */
		.dCCrDP > li {
			margin: 0 8px 18px;
			background-color: var(--z-card-bg);
			border: 1px solid var(--z-card-border);
		}
			._9GTeZI7 li [type="illust"][size],
			._9GTeZI7 li [type="illust"][size] img {
				border-radius: unset;
			}
			/* タイトル, 作者 */
			._9GTeZI7 li > div > div:not(:first-child) {
				margin: 3px 3px 3px;
			}



	@media screen and (min-width: 1050px) {
		/* プロフを左側に */
		.uos11l-0 {
			display: flex;
			flex-direction: row;
			justify-content: flex-start;
			margin-bottom: 40px;
		}

		/* ヘッダーカバー */
		#root > #gtm-var-theme-kind + div > div + div > div:first-child > div:first-child > div:first-child {
			background-size: contain;
			min-height: unset;
			height: 106px;
		}

		.gulj4d-0 > :nth-child(n+2) {
			display: block;
			position: static;
			margin: 5px 5px;
			padding: 5px 5px;
			width: 190px;
			height: auto;
			background-color: var(--z-card-bg);
			border: 1px solid var(--z-card-border);
		}
			.gulj4d-0 > :nth-child(n+2) > :only-child {
				display: block;
				width: auto;
				padding: 0;
			}
			.gulj4d-0 > :nth-child(2) > :only-child > div,
			.gulj4d-0 > :nth-child(3) > :only-child {
				position: static;
				padding-left: 0;
				margin-right: 0;
			}

			/* 作者アイコン */
			.gulj4d-0 > :nth-child(2) > :only-child > div > div {
				margin-top: 0;
			}
			.gulj4d-0 div[role="img"][size="96"] {
				display: block;
				position: static;
				margin: 0 auto;
				width: 170px !important;
				height: 170px !important;
				border: none;
			}
			.gulj4d-0 div[role="img"][size="96"]::before {
				display: none;
			}
			.gulj4d-0 div[role="img"][size="96"] > img {
				width: 170px;
				height: 170px;
				object-fit: contain !important;
				object-position: center center !important;
			}

			/* 名前枠 */
			.gulj4d-0 > :nth-child(2) > :only-child > :nth-child(2) {
				display: block;
				padding-top: 0;
			}
			.gulj4d-0 > :nth-child(2) > :only-child > :nth-child(2) > :only-child > :first-child {
				display: block;
			}
				/* 名前 */
				.gulj4d-0 > :nth-child(2) > :only-child > :nth-child(2) > :only-child > :first-child > :first-child {
					display: flex;
					flex-flow: row wrap;
					justify-content: center;
				}
				#root > #gtm-var-theme-kind + div > div + div > div:first-child > div:first-child > :not(main) h1 {
					margin: 4px 0 0;
					font-size: 16px;
					width: 100%;
					text-align: center;
				}

				/* ボタン類 */
				.iLPXkU {
					margin: 10px 0 10px;
					display: flex;
					flex-flow: row wrap;
					padding: 0 2px;
				}
					.iLPXkU > :last-child {
						margin: 0 2px 0;
					}
					.iLPXkU button {
						height: 24px;
						margin: 4px 2px;
					}
					/* リクエスト、フォローボタン */
					.iLPXkU button[aria-disabled] {
						width: 110px;	
						padding: 1px 0 0;
						font-size: 12px;
						border-radius: 4px;
					}
					/* シェア、… */
					.iLPXkU button[aria-haspopup] {
						width: 24px;
					}
						.iLPXkU button[aria-haspopup] svg {
							width: 24px;
							height: 24px;
						}


			/* プロフ枠 */
			.kNSAqq {
				padding-left: 0;
			}
			.kNSAqq > div {
				width: auto;
				height: auto;
			}
				.kNSAqq > :first-child {
					margin-top: 0;
				}
				/* リンクアイコン */
				.kNSAqq > :nth-child(n) ul {
					flex-wrap: wrap;
				}
				.kNSAqq > :nth-child(n) ul svg {
					width: 28px;
					height: 28px;
				}
				/* コメント */
				.kNSAqq > :last-child {
					display: block;
					margin-bottom: 0;
				}
				.kNSAqq > :last-child > :first-child {
					margin-bottom: 8px;
					line-height: 1.15;
					white-space: pre-line;
					
				}
				.kNSAqq > :last-child > :first-child::after {
					display: none;
				}

		/* nav + div.bUwViP > ピックアップ(section.ldlOfc)・シリーズ(div.fCbbbr)・小説シリーズ(div.evaGFr) */
		div.fCbbbr,
		div.evaGFr {
			margin-left: 5px;
			margin-right: 5px;
			padding-left: 0;
			padding-right: 0;
		}
		section.echles > div:first-child,
		div.fCbbbr > div:first-child,
		div.evaGFr > div:first-child {
			max-width: unset;
		}
		div.fCbbbr > div:last-child,
		div.evaGFr > div:last-child {
			margin-left: 5px;
			margin-right: 5px;
		}
		section.echles > div:last-child ul > div:only-child,
		div.fCbbbr > div:last-child ul > div:only-child,
		div.evaGFr > div:last-child ul > div:only-child {
			padding-left: 0;
			padding-right: 0;
		}

		/* 作品一覧 */
		.cVodQi,
		._9GTeZI7 {
			width: calc(100% - 212px);
/*			max-width: 1240px;*/
		}
		.cVodQi > :first-child,
		._9GTeZI7 > :first-child {
			width: auto;
		}
		/* 作品一覧横幅制限なし */
		.cVodQi,
		.cVodQi > div + div > div > div,
		._9GTeZI7,
		._9GTeZI7 > div + div > div > div
		{
			max-width: unset;
		}
		.cVodQi > div + div > div > div,
		._9GTeZI7 > div + div > div > div
		{
			width: unset;
			padding-left: 0;
			padding-right: 0;
		}
		.cVodQi > div + div section > div:not(:first-child) > div,
		._9GTeZI7 > div + div section > div:not(:first-child) > div {
			width: unset;
		}

		.cVodQi > div + div  section > div:first-child:not(:only-child),
		._9GTeZI7 > div + div  section > div:first-child:not(:only-child) {
			padding-inline-start: 2ch;
			width: unset;
		}
	}
}


@-moz-document url-prefix(https://www.pixiv.net/artworks/), url-prefix(https://www.pixiv.net/users/) {
	:root {
		--z-artwork-bg		: #FFF;
		--z-artwork-tag		: inherit;
		--z-artwork-tag-bg	: #F3F4F5;
		--z-artwork-date	: #555;
	}
	.fKkgNY + div {
		--z-artwork-bg		: #333;
		--z-artwork-tag		: #DDD;
		--z-artwork-tag-bg	: #222;
		--z-artwork-date	: #F5F5F5;
	}

	/* 左右入れ替え */
	#root > div > div > div > div > main {
		order: 1;
	}

	/* 作者情報列 */
	main + aside:first-of-type {
		margin: 0 20px 0 0;
	}
	/* 枠背景 */
	main + aside > section:nth-of-type(n) {
		background-color: var(--z-artwork-bg);
		margin-bottom: 8px;
	}
	/* 作者アイコン枠 */
	main + aside > section:first-of-type {
		margin-top: 0;
	}
	/* フォローボタンを小さめに */
	main + aside > section:first-of-type > div {
		display: flex;
		justify-content: space-evenly;
		margin-top: 15px;
	}
	main + aside > section:first-of-type > div > * {
		flex-grow: unset;
	}
	main + aside > section:first-of-type button:first-of-type {
		width: 120px;
		height: 30px;
		padding: 7px 4px;
		margin: 0;
		border-radius: 4px;
		line-height: 1;
	}

	main + aside > div > [style="font-size: 0px;"] {
		display: none;
	}

	/* 作者アイコンを少し大きく */
	section > h2 [role="img"],
	section > h2 [role="img"] > img {
		width: 50px;
		height: 50px;
	}
	/* コメント部分のアイコン */
	._2fj9Unu {
		border-radius: 4px;
	}


	/* 画像の列 */
	main > section {
		margin-top: 0 !important;
	}
	main > section > div:first-of-type > div:first-of-type {
		display: flex;
		flex-direction: column-reverse;
	}
		/* 画像 */
		main > section > div figure > [role=presentation],	/* うごイラ */
		main > section > div figure > [role=presentation] [role=presentation] {
			border-radius: unset;
		}
		/* 漫画のページ数を大きく */
		main > section > div figure > [role=presentation] .gtm-manga-viewer-preview-modal-open > div {
			font-size: 14px;
		}

		/* ブックマークした時の広告 */
		main > section > div figure ~ div[style^="height:"] {
			display: none;
		}	

		/* ボタン類 */
		main > section > div figure ~ div [style^="transform:"] {
			position: relative;
			z-index: 5;
		}
			main > section > div figure ~ div [style^="transform:"] section {
				height: auto;
				padding-top: 0;
				padding-bottom: 10px;
			}
			main > section > div figure ~ div [style^="transform:"] section > div > a,
			main > section > div figure ~ div [style^="transform:"] section > div > button {
				width: auto;
				height: 22px;
				line-height: 22px;
				font-weight: normal;
				display: flex;
				align-items: center;
				justify-content: center;
			}

			main > section > div figure ~ div [style^="transform:"] section > div:nth-of-type(-n+3) svg {
				width: 22px;
				height: 22px;
				vertical-align: baseline;
			}
			main > section > div figure ~ div [style^="transform:"] section > div:nth-of-type(3) > button::after,
	main > section > div figure ~ div [style^="transform:"] section > div:nth-of-type(3) > a::after{
				content: "ブックマーク";
			}
			main > section > div figure ~ div [style^="transform:"] section > div:nth-of-type(2) > button::after {
				content: "シェア";
			}

		/* 漫画の「すべて見る」 */
		main > section > div figure ~ div [style^="transform:"] section + button {
			display: none;
		}
		/* タイトル、キャプション */
		main > section > div figcaption {
			display: flex;
			flex-direction: column-reverse;
		}
		main > section > div figcaption > div {
			margin: 0 !important;
			padding: 0 16px;
			max-width: unset;
		}
		main > section > div figcaption > div:last-of-type > div:first-of-type {
			margin-bottom: 10px;
			width: 100%;
			max-width: unset;
			display: flex;
			flex-direction: column;
		}


			/* タイトル */
			main > section > div figcaption h1:first-of-type {
				margin-top: 10px;
			}
			/* 続きを読む */
			[role="heading"] {
				width: 100%;
			}
			[role="heading"]::before {
				display: none;
			}
			[role="heading"] > button {
				width: 100%;
				padding: 3px 1ch;
			}

			/* タグ */
			main > section > div figcaption footer:first-of-type {
				order: 10;
				margin-bottom: 0;
				background-color: var(--z-artwork-tag-bg);
				border-radius: 3px;
				padding: 4px 1ch;
			}
			main > section > div figcaption footer > ul:first-of-type {
				margin: 0;
			}
			main > section > div figcaption footer > ul > li a::before {
				display: none;
			}
			main > section > div figcaption footer > ul > li a {
				color: var(--z-artwork-tag);
			}

	/* 閲覧数等 */
	main > section > div figcaption footer + ul:last-of-type {
		order: -1;
		width: auto;
		margin: 10px 0 0 auto;
	}
		main > section > div figcaption footer + ul li:last-of-type {
			margin-right: 3px;
		}
		main > section > div figcaption footer + ul dt:nth-of-type(n) {
			margin: 0;
			padding-top: 2px;
		}
		main > section > div figcaption footer + ul dt > svg:first-of-type {	/* ブックマークのハート */
			margin: 0;
		}

		main > section > div figcaption footer + ul dd:nth-child(n) {
			color: var(--z-artwork-date);
			font-size: 14px;
			line-height: 1;
		}
		main > section > div figcaption footer + ul dd::before {
			content: attr(title) " ";
		}
	/* 投稿日時 */
	main > section > div figcaption > div:last-of-type > div > div:last-of-type {
		order: -1;
		width: auto;
		margin: -14px auto 5px 0;
		color: var(--z-artwork-date);
		font-size: 14px;
		line-height: 1;
	}

	/* 画像下の作品一覧 */
	main > section nav[style*="min-height:"] {
		display: none;
	}


	/* 関連作品 */
	#root > #gtm-var-theme-kind + div > div + div > div:first-of-type > aside:nth-last-of-type(2) {
		display: none;
	}
}
