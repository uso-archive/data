/* ==UserStyle==
@name           WhatsApp blur lite
@namespace      USO Archive
@author         Damian Sowiński
@description    `Lite version of WhatsApp blur theme.<br>Full configurable version is here: <a href="https://github.com/DamianSowinski/whatsapp">WhatsApp blur</a>`
@version        20210521.15.59
@license        CC-BY-NC-ND-4.0
@preprocessor   uso
@advanced color chat-selected-mark "Selected contact - mark" #65BFFF
@advanced color outgoing-bgr "Message bgr - you" #0E3D55
@advanced color incoming-bgr "Message bgr - guest" #262D31
@advanced color txt-color "Text colour" #FFFFFF
@advanced color link-color "Link colour" #68BBE4
@advanced color notice-color "Notice colour" #65BFFF
@advanced color read-marker "Read marker colour" #65BFFF
@advanced color input-txt "Input field text colour" #F2F2F2

==/UserStyle== */
/*
Name        : WhatsApp blur
Version     : 1.0.0
Author      : Damian Sowiński
Description : Highly customizable, easy to use theme for WhatsApp with image blur effect.
Github      : https://github.com/DamianSowinski/whatsapp
Doc         : https://github.com/DamianSowinski/whatsapp/wiki
*/
@-moz-document domain("web.whatsapp.com") {
    :root, .dark {
        --bgr-image: 'https://raw.githubusercontent.com/DamianSowinski/whatsapp/master/images/default.jpg';
        --dark-style: 0;
        --separate-contacts: 0;
        --reduce-contacts: 0;
        --hide-contacts-separate-lines: 0;
        --height-offset-chat: 32px;
        --height-offset-contacts: 0;
        --width-chat: 1000px;
        --width-contacts: 360px;
        --corner-smooth-chat: 16px;
        --corner-smooth-contacts: 0;
        --chat-blur-intensity: 16px;
        --contacts-blur-intensity: 16px;
        --chat-color: rgba(0, 0, 0, 0.2);
        --contacts-color: rgba(0, 0, 0, 0.2);
        --chat-header-color: rgba(0, 0, 0, 0.2);
        --contacts-header-color: rgba(0, 0, 0, 0.2);
        --contact-selected-color: rgba(0, 0, 0, 0.2);
        --contact-selected-line-color: /*[[chat-selected-mark]]*/;
        --outgoing-bgr: /*[[outgoing-bgr]]*/;
        --incoming-bgr: /*[[incoming-bgr]]*/;
        --txt-color: /*[[txt-color]]*/;
        --link-color: /*[[link-color]]*/;
        --notice-color: /*[[notice-color]]*/;
        --read-marker: /*[[read-marker]]*/;
        --input-bgr: rgba(0, 0, 0, 0.2);
        --input-txt: /*[[input-txt]]*/;
        /**/
        --txt-color-dark: color-mod(var(--txt-color) blackness(20%));
        --txt-color-opacity: color-mod(var(--txt-color) alpha(50%));
        --ico-color: color-mod(var(--txt-color) alpha(50%));
        --ico-hover-color: var(--txt-color);
        --contact-selected-hover-color: var(--contact-selected-color);
        /**/
        --popup-txt: #222;
        --popup-bgr: #ddd;
        --emoji-ico-hover: #000;
        --emoji-search-bgr: #eee;
        --emoji-search-bgr-hover: #fff;
        --reference-person-hover: #006090;
        --semi-transparent: rgba(0, 0, 0, 0.2);
        --contacts-border: rgba(255, 255, 255, 0.1);
        /**/
        --chat-marginX: 16px;
        --chat-padding: 32px;
        --chat-padding-x: 64px;
        /**/
        --startup-background: transparent;
        --startup-background-rgb: transparent;
        --bgr-color: #333;
        --link: var(--link-color);
        --link-rgb: var(--link-color);
        --read-marker-color: var(--read-marker);
        --icon-ack-rgb: var(--read-marker);
        --icon-ack: var(--read-marker);
        --app-background-stripe: transparent;
        --intro-background: transparent;
        --panel-background-lighter: transparent;
        --panel-header-background: transparent;
        --avatar-background: transparent;
        --conversation-panel-border: transparent;
        --border-default: transparent;
        --border-default-rgb: transparent;
        --border-list: var(--contacts-border);
        --border-list-rgb: var(--contacts-border);
        --border-panel: transparent;
        --border-panel-rgb: transparent;
        --border-strong: transparent;
        --border-stronger: transparent;
        --border-strong-rgb: transparent;
        --border-stronger-rgb: transparent;
        --typing: var(--notice-color);
        --typing-rgb: var(--notice-color);
        /**/
        /*[[chatOpacity]]*/
        /*[[chatOpacity-0]]*/
        /*[[chatOpacity-20]]*/
    }
    #side {
        --unread-marker-background: var(--notice-color);
        --search-container-background: transparent;
        --input-placeholder: var(--input-txt);
        --input-placeholder-rgb: var(--input-txt);
    }
    #main {
        --compose-panel-background-hover: var(--reference-person-hover);
        --compose-panel-background-hover-rgb: var(--reference-person-hover);
        --primary-strong: var(--txt-color);
        --primary-stronger: rgba(241, 241, 242, 0.88);
        --primary-strongest: #fff;
        --secondary: var(--txt-color-dark);
        --secondary-lighter: var(--txt-color-dark);
        --secondary-stronger: var(--txt-color-dark);
        --primary-title: var(--txt-color);
        --message-primary: var(--txt-color);
        --input-placeholder: var(--input-txt);
        --input-placeholder-rgb: var(--txt-color-dark);
        --compose-input-background: var(--input-bgr);
        --compose-primary: var(--input-txt);
        --intro-secondary: var(--txt-color-dark);
        --bubble-meta: var(--txt-color-dark);
        --system-message-text: var(--txt-color);
        --unread-marker-text: var(--txt-color);
        --icon-lighter: var(--txt-color-opacity);
        --bubble-meta-icon: var(--txt-color-dark);
        --conversation-panel-background: transparent;
        --compose-panel-background: transparent;
        --rich-text-panel-background: transparent;
        --compose-input-background-focused: #3f5560;
        --incoming-primary: #797c7e;
        --incoming-background: var(--incoming-bgr);
        --incoming-background-rgb: var(--incoming-bgr);
        --incoming-background-deeper: color-mod(var(--incoming-bgr) blackness(30%));
        --incoming-background-deeper-rgb: color-mod(var(--incoming-bgr) blackness(30%));
        --incoming-background-highlight: #ccc;
        --incoming-background-highlight-rgb: color-mod(var(--incoming-bgr) whiteness(30%));
        --outgoing-background: var(--outgoing-bgr);
        --outgoing-background-rgb: var(--outgoing-bgr);
        --outgoing-background-deeper: color-mod(var(--outgoing-bgr) blackness(30%));
        --outgoing-background-deeper-rgb: color-mod(var(--outgoing-bgr) blackness(30%));
        --outgoing-background-highlight: #ccc;
        --outgoing-background-highlight-rgb: color-mod(var(--outgoing-bgr) whiteness(30%));
        --panel-background: #20272b;
        --panel-background-rgb: rgba(32, 39, 43, 1);
        --panel-background-active: #1e2529;
        --system-message-background: var(--semi-transparent);
        --notification-e2e-background: var(--semi-transparent);
        --notification-e2e-text: #fad964;
        --notification-e2e-icon: #fad964;
        --quick-action-button: var(--txt-color-dark);
        --quick-action-button-background: var(--semi-transparent);
        --unread-background: var(--semi-transparent);
        --unread-bar-background: transparent;
    }
    *, .dark * {
        scrollbar-color: var(--semi-transparent) transparent;
        scrollbar-width: thin;
    }
    body {
        background: var(--bgr-color) url('https://raw.githubusercontent.com/DamianSowinski/whatsapp/master/images/default.jpg') !important;
        background-size: cover !important;
    }
    #startup {
        animation: none !important;
    }
    #side > div,
    #side > div:nth-child(3) > div,
    #side #pane-side > div > div > div > div > div,
    #side #pane-side > div > div > div > div > div > div,
    #main > div,
    #main > div > div > div > div > div,
    #main footer > div:nth-child(2) > div > div:nth-child(4) > div:nth-child(1) > div:nth-child(2) {
        background: transparent;
    }
    #side #pane-side div > div:after,
    #app > div > div > div:nth-child(4) > div,
    #main > div > div > div > div > div,
    #main footer > div:nth-child(1) > div:nth-child(2) {
        border: unset;
    }
    #side > div:nth-child(3) > div:after,
    #app > div > div > div:nth-child(4) > div:after,
    #main header:after {
        display: none;
    }
    #app > div > div > div:nth-child(4) > div > div > div > div,
    #app > div > div > div:nth-child(4) > div > div > div > div > div > div,
    #app > div > div > div:nth-child(2) > div:nth-child(3) > span > div > span > div > div:nth-child(2) > div > div:nth-child(2) > div #side > div:nth-child(3) > div > label > div > div,
    #side #pane-side > div > div > div > div > div,
    #side #pane-side > div > div > div > div > div > div > div:nth-child(2) > div:nth-child(1) > div > span,
    #side #pane-side > div > div > div > div > div > div > div:nth-child(1) > div:nth-child(1) > div:nth-child(1),
    #main footer > div:nth-child(4) > div,
    #main footer > div:nth-child(2) > div > div:nth-child(3) > div > div > div > div:hover > span {
        color: var(--txt-color);
    }
    #app > div > div > div:nth-child(4) > div > div > div > h1,
    #side #pane-side > div > div > div > div > div > div > div:nth-child(2) > div:nth-child(1) > div,
    #side #pane-side > div > div > div > div > div > div > div:nth-child(2) > div:nth-child(2) > div > span,
    #side #pane-side > div > div > div > div > div > div > div:nth-child(1) > div:nth-child(2) > div:nth-child(1),
    #side #pane-side > div > div > div > div > div > div > div:nth-child(1) > div:nth-child(1) > div:nth-child(2),
    #main footer > div:nth-child(2) > div > div:nth-child(3) > div > div > div > div > span {
        color: var(--txt-color-dark);
    }
    #side header > div:nth-child(2) > div > span > div svg,
    #side > div:nth-child(3) > div > button svg,
    #side > div:nth-child(3) > div > span > button > span > svg,
    #side #pane-side > div > div > div > div > div > div > div:nth-child(2) > div:nth-child(2) > div:nth-child(2) > span > div svg,
    #side #pane-side > div > div > div > div > div > div > div:nth-child(2) > div:nth-child(2) > div:nth-child(2) > span:nth-child(3) svg,
    #main .message-in > div > div > span svg,
    #main .message-out > div > div > span svg,
    #main > div > div > div > div > div > div > div > div > a svg,
    #main > div > div > div > div > div > div > div > div > div > div > span > svg,
    #main header > div:nth-child(3) > div > div > div > span > svg,
    #main footer > div:nth-child(1) > div:nth-child(1) > div > div svg,
    #main footer > div:nth-child(1) > div:nth-child(1) > div > button svg,
    #main footer > div:nth-child(1) > div:nth-child(3) > div > span > button svg {
        transition: color 200ms ease-in-out;
        color: var(--ico-color);
    }
    #side header > div:nth-child(2) > div > span > div:hover svg,
    #side > div:nth-child(3) > div > button:hover svg,
    #side > div:nth-child(3) > div > span > button:hover > span > svg,
    #side #pane-side > div > div > div > div > div > div > div:nth-child(2) > div:nth-child(2) > div:nth-child(2) > span > div:hover svg,
    #side #pane-side > div > div > div > div > div > div > div:nth-child(2) > div:nth-child(2) > div:nth-child(2) > span:nth-child(3):hover svg,
    #main .message-in > div > div > span div > div:hover svg,
    #main .message-out > div > div > span > div > div:hover svg,
    #main header > div:nth-child(3) > div > div > div > span:hover > svg,
    #main footer > div:nth-child(1) > div:nth-child(1) > div > div:hover svg,
    #main footer > div:nth-child(1) > div:nth-child(1) > div > button:hover svg,
    #main footer > div:nth-child(1) > div:nth-child(3) > div > span > button:hover svg {
        color: var(--ico-hover-color);
    }
    #main .message-in span[data-testid='star'] > svg,
    #main .message-out span[data-testid='star'] > svg {
        color: gold;
    }
    #app > div {
        display: flex;
        justify-content: center;
        align-items: center;
    }
    #app > div > ._2sWIa.TZ8aZ._1one0._1F05l {
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: transparent;
        width: 100vw;
        max-width: unset;
    }
    #app > div > ._2sWIa.TZ8aZ._1one0._1F05l:before {
        display: none;
    }
    #app > div > ._2sWIa.TZ8aZ._1one0._1F05l div {
        background-color: transparent;
        color: transparent;
    }
    #app > div > div {
        opacity: 0;
        animation: ease-in-out show 0.5s 0s forwards;
        top: 0;
        bottom: 0;
        height: calc(100vh - (var(--height-offset-chat) / 5));
        border-radius: var(--corner-smooth-chat);
        width: calc(var(--width-contacts) + var(--width-chat));
        max-width: calc(var(--width-contacts) + var(--width-chat));
    }
    #app > div > div:before {
        opacity: 0;
        animation: ease-in-out show 0.5s 0s forwards;
        position: absolute;
        z-index: -2;
        top: 50%;
        left: 50%;
        width: 100vw;
        height: 100vh;
        content: '';
        transform: translate(-50%, -50%);
        background: url('https://raw.githubusercontent.com/DamianSowinski/whatsapp/master/images/default.jpg');
        background-size: cover;
        filter: blur(16px);
    }
    #app > div > div > div:nth-child(3) {
        box-sizing: border-box;
        background-color: var(--contacts-color);
        max-width: var(--width-contacts);
    }
    #app > div > div > div:nth-child(4) {
        box-sizing: border-box;
        background-color: var(--chat-color);
        max-width: var(--width-chat);
    }
    #side header {
        background-color: var(--contacts-header-color) !important;
    }
    #side #pane-side > div > div > div > div > div > div > div:hover {
        border-top: 1px solid var(--contacts-border);
    }
    #side #pane-side div[aria-selected='true'] {
        border-left: 4px solid var(--contact-selected-line-color);
        background-color: var(--contact-selected-color) !important;
    }
    #side #pane-side > div > div > div > div > div > div:hover > div {
        border-top: 1px solid var(--contacts-border);
        background-color: var(--contact-selected-hover-color);
    }
    #side #pane-side > div > div > div > div > div > div > div:nth-child(1),
    #side #pane-side > div > div > div > div > div > div > div:nth-child(2) {
        margin-top: -1px;
        border-top: 1px solid var(--contacts-border);
    }
    #side #pane-side > div > div > div > div > div > div > div:nth-child(2) > div:nth-child(2) > div:nth-child(2),
    #side #pane-side > div > div > div > div > div > div > div:nth-child(2) > div:nth-child(2) > div:nth-child(2) > span {
        display: flex;
        align-items: center;
        height: 22px;
    }
    #side #pane-side > div > div > div > div > div > div > div:nth-child(2) > div:nth-child(2) > div:nth-child(2) > span:first-child > div:nth-last-child(1) {
        display: flex;
        align-items: center;
    }
    #side #pane-side > div > div > div > div > div > div > div:nth-child(2) > div:nth-child(2) > div:nth-child(2) > span:first-child > div:nth-last-child(1) > span {
        box-sizing: border-box;
        height: 19px;
        min-width: 19px;
        text-align: center;
    }
    #side > div:nth-child(3) {
        order: 3;
        padding-bottom: 6px;
    }
    #side > div:nth-child(3) > div {
        border-bottom: unset;
    }
    #side > div:nth-child(3) > div > label {
        background-color: var(--input-bgr);
    }
    #app > div > div > div:nth-child(4) > div {
        transform: none !important;
    }
    /* chat header */
    #main header {
        background-color: var(--chat-header-color) !important;
        box-shadow: unset;
    }
    #main > div > div > div > div > div {
        box-shadow: unset;
        padding-right: var(--chat-padding);
        padding-left: var(--chat-padding);
    }
    #main > div > div > div > div > div > svg {
        padding: 10px;
        border-radius: 50%;
        background-color: var(--semi-transparent);
        box-shadow: unset;
    }
    #main > div > div > span > div > div > div,
    #main > div > div > div > div > div > div,
    #main > div > div > div > div > div > span {
        text-shadow: none;
    }
    #main > div > div > div > div > div > div > span > svg {
        fill: transparent;
    }
    #main footer > div:nth-child(2) > div:nth-child(1) > div:nth-child(4) > div > div,
    #main footer > div:nth-child(2) > div:nth-child(1) > div:nth-child(5) > div > div:nth-child(1) > div {
        background: var(--outgoing-bgr);
    }
    #main footer > div:nth-child(4) > div:after,
    #main footer > div:nth-child(4) > div > div,
    #main footer > div:nth-child(4) > div > div > div,
    #main footer > div:nth-child(4) > div > div > div > div,
    #main footer > div:nth-child(3) > div > div,
    #main footer > div:nth-child(3) > div:after,
    #main footer > div:nth-child(2) > div > div:nth-child(3) > div > div > div:nth-child(1),
    #main footer > div:nth-child(2) > div > div:nth-child(3) > div > div > div:nth-child(2) {
        background-color: var(--popup-bgr);
    }
    #main footer > div:nth-child(4) > div > div,
    #main footer > div:nth-child(4) > div > div > div,
    #main footer > div:nth-child(2) > div > div:nth-child(3) > div > div > div:nth-child(1) > div label,
    #main footer > div:nth-child(2) > div > div:nth-child(3) > div > div > div:nth-child(1) > div > div > div svg,
    #main footer > div:nth-child(2) > div > div:nth-child(3) > div > div > div:nth-child(1) > div label div > input::placeholder,
    #main footer > div:nth-child(2) > div > div:nth-child(3) > div > div > div:nth-child(1) > div:nth-child(2) > div > div > div > div > div > div > div {
        color: var(--popup-txt);
    }
    #main footer > div:nth-child(4) > div,
    #main footer > div:nth-child(3) > div {
        padding: 0 16px 8px 16px;
    }
    #main footer > div:nth-child(4) > div:after,
    #main footer > div:nth-child(3) > div:after {
        position: absolute;
        z-index: -1;
        bottom: 0;
        left: 120px;
        content: '';
        width: 20px;
        height: 20px;
        transform: rotate(45deg);
    }
    #main footer > div:nth-child(4) > div > div,
    #main footer > div:nth-child(3) > div > div {
        border-radius: 8px;
        overflow: hidden;
        padding: 4px;
    }
    /* emoji window */
    #main footer > div:nth-child(2) > div > div:nth-child(3) {
        margin: 0 16px 8px 16px;
        overflow: hidden;
    }
    #main footer > div:nth-child(2) > div > div:nth-child(3) > div > div > div:nth-child(1) {
        border-radius: 8px 8px 0 0;
    }
    #main footer > div:nth-child(2) > div > div:nth-child(3) > div > div > div:nth-child(2) {
        border-radius: 0 0 8px 8px;
        box-sizing: border-box;
    }
    #main footer > div:nth-child(2) > div > div:nth-child(3) > div > div > div:nth-child(1) > div label {
        transition: background-color 200ms ease-in-out;
        background-color: var(--emoji-search-bgr);
    }
    #main footer > div:nth-child(2) > div > div:nth-child(3) > div > div > div:nth-child(1) > div label:hover,
    #main footer > div:nth-child(2) > div > div:nth-child(3) > div > div > div:nth-child(1) > div label:focus,
    #main footer > div:nth-child(2) > div > div:nth-child(3) > div > div > div:nth-child(1) > div label:active {
        background-color: var(--emoji-search-bgr-hover);
    }
    #main footer > div:nth-child(2) > div > div:nth-child(3) > div > div > div:nth-child(1) > div > div > div svg {
        transition: color 200ms ease-in-out;
    }
    #main footer > div:nth-child(2) > div > div:nth-child(3) > div > div > div:nth-child(1) > div > div > div:hover svg {
        color: var(--emoji-ico-hover);
    }
    @keyframes show {
        from {
            opacity: 0
        }
        to {
            opacity: 1
        }
    }
}

