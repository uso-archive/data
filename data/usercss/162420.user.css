/* ==UserStyle==
@name         Toodledo  ClearSkin
@namespace    USO Archive
@author       genez
@description  CSS Skin based on Toodledo Visual Redesign project: https://medium.com/@genez/toodledo-visual-design-d9c548190d92
@version      20180808.04.20
@license      NONE
@preprocessor uso
==/UserStyle== */
@-moz-document domain('toodledo.com') {
  /* Vendor */
  /* Crete-Round: latin-ext */
  @font-face {
    font-family: 'Crete Round';
    font-style: normal;
    font-weight: 400;
    src: local("Crete Round"), local("CreteRound-Regular"), url(https://fonts.gstatic.com/s/creteround/v6/ZCcPJiCGOzh84o2siPk48SYE0-AqJ3nfInTTiDXDjU4.woff2) format("woff2");
    unicode-range: U+0100-024F, U+1E00-1EFF, U+20A0-20AB, U+20AD-20CF, U+2C60-2C7F, U+A720-A7FF; }
  /* Crete Round: latin */
  @font-face {
    font-family: 'Crete Round';
    font-style: normal;
    font-weight: 400;
    src: local("Crete Round"), local("CreteRound-Regular"), url(https://fonts.gstatic.com/s/creteround/v6/ZCcPJiCGOzh84o2siPk48Y4P5ICox8Kq3LLUNMylGO4.woff2) format("woff2");
    unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215; }
  /* Authored Dependencies */
  /* See https://en.wikipedia.org/wiki/Shades_of_gray#Chart_of_computer_web_color_grays */
  /* Priority Task Colors */
  /* -----------------------------------------------------------------------------
  // Style Guide & References
  
  $ALL_CAP_VARIABLES indicate constant values;
  
  Capitalize first letters of variables & functions to indicate global scope
  Use _underscores instead of hyphens.
  - to distinguish between Sass and CSS
  - to make word boundaries clearer in Vim
  
  Whenever possible, user "grey" instead of "gray" because it's easier to type
  
  Color techniques:
  1. Use a two tier system ( https://markus.oberlehner.net/blog/two-tier-sass-variables-and-css-custom-properties/ )
  2. Use mix() function ( https://alistapart.com/article/mixing-color-for-the-web-with-sass )
  3. Shades of gray: https://en.wikipedia.org/wiki/Shades_of_gray
  
  */
  /*------------------------------------------------------------------------------
   * Resources
  
  https://stackoverflow.com/questions/44522299/css-only-acrylic-material-from-fluent-design-system
  
  https://css-tricks.com/frosting-glass-css-filters/
  
  Background acrylic vs. in-app acrylic (~1:15 in the video):
  https://docs.microsoft.com/en-us/windows/uwp/design/style/acrylic
  
  Noise generator
  noisepng.com
  
  */
  /* Patterns */
  #topnav-in {
    background: linear-gradient(to right, #d4e4fb 0%, #fafafa 100%); }

  #tn_switcher:not(.open) {
    background-color: #0e263e !important; }
    #tn_switcher:not(.open) .minico.arw-dwn {
      background: transparent !important;
      background: transparent !important; }

  #tn_switcher:not(.open) .swactive .tn_switch_tasks {
    background-position: 0 0; }

  #tn_switcher:not(.open) .swactive .tn_switch_notes {
    background-position: 0 -55px; }

  #tn_switcher:not(.open) .swactive .tn_switch_outlines {
    background-position: 0 -165px; }

  #tn_switcher:not(.open) .swactive .tn_switch_lists {
    background-position: 110px; }

  #tn_switcher:not(.open) .swactive .tn_switch_habits {
    background-position: 0 -220px; }

  /*
  a#js_refresh::before {
      position: absolute;
      left: 51px;
      top: 0;
      bottom: 0;
      width: 121px;
      content: "";
      // background-color: rgba(255,255,255,0.5);
      // background-color: $Colo_Ribbon_bg;
      background-color: rgba( #fff, 0.75 );
      background-blend-mode: exclusion;
      z-index: 2000;
  }
  // Test at https://ilyashubin.github.io/FilterBlend/
  */
  #ribbon {
    background-color: #0e263e !important; }

  #contents_left {
    background-color: #123352 !important; }

  #sidebar {
    background: transparent !important; }
    #sidebar .filter-bar {
      background-color: rgba(0, 0, 0, 0.5); }
    #sidebar .sb-card:not(:hover) {
      background: transparent !important; }
    #sidebar .sb-card:not(.tabon):hover {
      background-color: rgba(255, 255, 255, 0.17) !important; }
    #sidebar .sb-card.tabon:hover {
      background-color: rgba(255, 255, 255, 0.25) !important; }
    #sidebar .sb_card_header {
      background: transparent !important; }
    #sidebar .tabon.shortest {
      background-color: rgba(255, 255, 255, 0.25) !important; }

  #contents_right {
    background-color: #f1f1f1 !important; }

  #toolbar {
    background-color: #fafafa !important; }

  #quickadd_bar {
    background: transparent !important; }

  #quickAdd {
    background-color: rgba(255, 255, 255, 0.5); }

  #TasksContainer {
    background: transparent !important; }

  #ColHeader {
    background: transparent !important; }
    #ColHeader * {
      background: transparent !important; }
    #ColHeader .ch_col {
      background: transparent !important; }

  .taskRowDivider {
    background: transparent !important; }

  #bread_btn_lbl, .tc_title, .tc_title input.cellText, #tray input.newTitle, .taskTitle, .taskTitle input {
    font-family: "Crete Round", "Bitter", "Segoe UI", Georgia, "Cambria", Times, "Times New Roman", serif, "Calibri", Arial, "Helvetica Neue", Helvetica, sans-serif; }

  /* Other Fonts to consider:
      Roboto Slab (serif): http://fonts.googleapis.com/css?family=Roboto+Slab
  */
  /* make task titles bigger */
  body
  , input
  , textarea {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
        /* System Font Cascade:

            / 1 / - specific System UI fonts
            / 2 / - Known System UI fonts
            / 3 / - Fallback Fonts
            source: https://www.smashingmagazine.com/2015/11/using-system-ui-fonts-practical-guide/ 
        */ }

  .taskRowDivider a {
    font-size: 1.1em;
    font-weight: normal; }

  #bread_btn_lbl {
    font-size: 1.5em;
    font-weight: normal; }

  /* Task Titles */
  .tc_title {
    font-size: 1.1em !important; }

  #tray input.newTitle {
    font-size: 1.1em !important; }

  .taskTitle {
    font-size: 1.1em !important; }

  /* Sections */
  #tn_switcher:not(.open) .minico.arw-dwn {
    color: rgba(255, 255, 255, 0.75) !important; }

  #tn_switcher {
    width: calc( 218px + 10px + 10px ); }

  #ribbon {
    color: rgba(255, 255, 255, 0.75);
    border-right: 2px solid #B57A15; }
    #ribbon .rib_btn:active {
      transform: translateY(2px);
      transition: all 0ms !important; }
    #ribbon .rib_btn:not(:active) {
      transition: all 50ms ease-out; }
    #ribbon .rib_btn:not(:hover) {
      background: transparent !important;
      color: rgba(255, 255, 255, 0.75); }
    #ribbon .rib_btn.active {
      background-color: #B57A15 !important;
      color: white;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
      box-shadow: none; }
    #ribbon .active {
      background-color: #B57A15 !important; }
    #ribbon .rib_btn:not(.active):hover {
      background-color: rgba(255, 255, 255, 0.25) !important;
      transition: all 50ms ease-in-out; }

  #contents_left.thinestside {
    width: calc( 180px - 1px + 10px + 10px );
    /* FIXME: doesn't work for Habits */
    box-shadow: none; }

  #contents_left {
    border-top: 2px solid #B57A15; }

  #contents_left.thinestside #sidebar {
    width: calc( 180px - 1px + 10px + 10px ); }

  #sidebar {
    box-shadow: inset -2px 0 12px rgba(0, 0, 0, 0.5);
    /* border-left: 2px solid #B57A15; /* or should it be ribbon margin-right */ }
    #sidebar .switch-bar a:active {
      transform: translateY(2px);
      transition: all 0ms !important; }
    #sidebar .switch-bar a:not(:active) {
      transition: all 50ms ease-out; }
    #sidebar .switch-bar a.active {
      background-color: rgba(255, 255, 255, 0.25);
      border-bottom: 1px solid #B57A15; }
    #sidebar .switch-bar a:not(.active):not(:hover) {
      background: transparent !important; }
    #sidebar .switch-bar a:not(.active):hover {
      background-color: rgba(255, 255, 255, 0.17) !important;
      transition: all 50ms ease-in-out; }
    #sidebar .filter-bar {
      height: 37px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.5); }
      #sidebar .filter-bar .filter-title {
        margin-left: 18px; }
    #sidebar .sb-card {
      border: none;
      padding: 0 18px 0 18px;
      margin: 0;
      box-shadow: none; }
      #sidebar .sb-card:active {
        transform: translateY(2px);
        transition: all 0ms !important; }
      #sidebar .sb-card:not(:active) {
        transition: all 50ms ease-out; }
    #sidebar .sb_card_header {
      color: rgba(255, 255, 255, 0.25);
      padding: 0 18px 0 18px; }
    #sidebar .tab.shortest a, #sidebar .tabon.shortest a {
      display: flex !important;
      justify-content: space-between !important;
      text-decoration: none !important;
      border-right: 0 !important;
      margin: 0 !important;
      padding: 0 !important; }
    #sidebar .tab.shortest a .badge.f_right, #sidebar .tabon.shortest a .badge.f_right {
      right: 0 !important;
      width: unset !important;
      padding-left: 5px;
      /* minimum space between badge and label text */ }
    #sidebar .tab.shortest {
      width: calc( 100% - 18px - 18px ); }
      #sidebar .tab.shortest a {
        color: rgba(255, 255, 255, 0.75); }
    #sidebar .tabon.shortest {
      width: calc( 100% - 18px - 18px ); }
      #sidebar .tabon.shortest a {
        color: #fafafa !important;
        font-weight: normal !important; }
      #sidebar .tabon.shortest .badge {
        color: rgba(255, 255, 255, 0.5) !important; }
    #sidebar .badge {
      color: rgba(255, 255, 255, 0.25); }

  #sidebar :hover {
    transition: all 50ms ease-in-out !important; }

  #sidebar .tab:hover a,
  #sidebar .tabon:hover a,
  #sidebar .sb-card.short.tabon:hover a,
  #sidebar .sb-card.shortest.tabon:hover a {
    color: #fafafa; }

  #contents {
    border-top: none; }

  #contents_right {
    border-top: 2px solid #fafafa;
    box-shadow: -2px -2px 7px 0px rgba(0, 0, 0, 0.25); }

  #bread_btn_lbl {
    max-width: 50vw !important; }

  #quickadd_bar {
    border-top: none;
    border-bottom: none;
    padding-top: calc( 2px + 2px);
    padding-bottom: calc( 2px + 2px); }
    #quickadd_bar button {
      top: calc( 4px + 2px ); }

  #ColHeader {
    color: black !important;
    border-bottom: 2px solid rgba(0, 0, 0, 0.17); }
    #ColHeader * {
      color: dimgray !important; }
    #ColHeader .dragger {
      border-bottom: 1px solid rgba(0, 0, 0, 0.17);
      border-right: 3px solid rgba(0, 0, 0, 0.17); }

  #toolbar.breadcrumb {
    background-color: #fafafa !important; }

  #toolbar {
    color: #737373;
    border-bottom: 1px solid rgba(0, 0, 0, 0.17); }
    #toolbar #bread_btn_lbl {
      color: black !important; }
    #toolbar #bread_tab {
      background-color: #fafafa !important; }
    #toolbar #bread_view {
      background-color: #fafafa !important;
      color: #737373; }
    #toolbar #filter_menu:not(.open) {
      color: #ababab; }
      #toolbar #filter_menu:not(.open) > a {
        color: inherit; }
    #toolbar #actn_menu:not(.open) {
      color: #ababab; }
      #toolbar #actn_menu:not(.open) > a {
        color: inherit; }

  #sort_menu #action_sort1.active, #sort_menu #action_sort2.active, #sort_menu #action_sort3.active {
    color: #737373;
    background-color: white;
    box-shadow: none;
    /* ORIG box-shadow: inset 3px 3px 10px 0px rgba(0,0,0,0.5); */ }
    #sort_menu #action_sort1.active .tlbr_sort_btn, #sort_menu #action_sort2.active .tlbr_sort_btn, #sort_menu #action_sort3.active .tlbr_sort_btn {
      color: #1C74BC; }

  #sort_menu {
    color: #ababab; }
    #sort_menu #action_sort1, #sort_menu #action_sort2, #sort_menu #action_sort3 {
      background-color: transparent !important;
      color: #ababab; }
      #sort_menu #action_sort1 > .minico, #sort_menu #action_sort2 > .minico, #sort_menu #action_sort3 > .minico {
        color: inherit; }
    #sort_menu #action_sort1 {
      border-top: 1px solid rgba(0, 0, 0, 0.17);
      border-bottom: 1px solid rgba(0, 0, 0, 0.17);
      border-left: 1px solid rgba(0, 0, 0, 0.17); }
    #sort_menu #action_sort2 {
      border-top: 1px solid rgba(0, 0, 0, 0.17);
      border-bottom: 1px solid rgba(0, 0, 0, 0.17);
      border-right: 1px solid rgba(0, 0, 0, 0.17);
      border-left: 1px solid rgba(0, 0, 0, 0.17); }
    #sort_menu #action_sort3 {
      border-top: 1px solid rgba(0, 0, 0, 0.17);
      border-bottom: 1px solid rgba(0, 0, 0, 0.17);
      border-right: 1px solid rgba(0, 0, 0, 0.17); }
    #sort_menu #action_sort1.active {
      border-top: 1px solid slategrey;
      border-bottom: 1px solid slategrey;
      border-left: 1px solid slategrey; }
    #sort_menu #action_sort2.active {
      border-top: 1px solid slategrey;
      border-right: 1px solid slategrey;
      border-bottom: 1px solid slategrey;
      border-left: 1px solid slategrey; }
    #sort_menu #action_sort3.active {
      border-top: 1px solid slategrey;
      border-right: 1px solid slategrey;
      border-bottom: 1px solid slategrey; }

  .canHover .bread_menu:hover,
  .canHover #bread_back:hover,
  .open .bread_menu {
    background-color: #f1f1f1;
    box-shadow: none;
    /* ORIG background-color: #173C60; */
    /* box-shadow: inset 3px 3px 10px 0px rgba(0,0,0,0.5); */ }

  /* TODO FIX HOVER BORDER
  #action_sort1.active::after {
      position: absolute;
      content: "";
      box-shadow: 1px 0 1 3 black;
      top: 0;
      right: 0;
      bottom: 0;
      z-index: 1000;
  }
  */
  /* upgrade from default $150px */
  /* FIXME: don't let this override the @media query (responsive )widths
  .bread_label {
      max-width: 250px;
  }
  */
  .taskRow.Grid .taskCell {
    padding-left: calc( .2em );
    padding-top: calc( .2em );
    padding-bottom: .1em; }

  .cellStarSmall:not(.star):not(:hover)
  , .cellAction:before
  , .cellNote {
    color: lightgray; }

  .cellSubtasks:not(.subt-pnt-d):not(.subt-pnt-r) {
    color: lightgray; }

  .cellSubtasks.subt-pnt-d
  , .cellSubtasks.subt-pnt-r {
    color: #737373; }

  .taskRow.Grid.subtask .taskCell.tc_title, .subt-grp ~ .taskCell.tc_title {
    overflow: hidden; }
  .taskRow.Grid.subtask .taskCell.tc_title::before, .subt-grp ~ .taskCell.tc_title::before {
    content: "";
    width: 16px;
    top: 0px;
    bottom: 0px;
    left: 0;
    right: auto;
    margin-left: 8px;
    margin-right: 8px;
    border-left: 2px solid lightgray; }
  .taskRow.Grid.subtask .taskCell.tc_title input.cellText, .subt-grp ~ .taskCell.tc_title input.cellText {
    width: calc( 100% -  18px - 26px - 4px ) !important; }

  .taskRow.Grid.subtask {
    background-color: #fafafa !important;
    border-bottom: 1px solid #eeeeee; }
    .taskRow.Grid.subtask .taskCell .cellCheckSmall {
      padding-right: 4px; }

  .taskRow.Grid.subtask:hover {
    background-color: white !important; }

  .taskRow.Grid:hover .cellSubtasks.minico::before {
    color: #737373 !important;
    transition: all .1s ease-in-out; }

  .taskRow.Grid
  , .taskRow.Multi {
    border-bottom: 1px solid #eeeeee; }

  .taskRow .tc_title.editable input.cellText {
    /* Fix input element width ( previously fixed at 83%, which is too short ) */
    width: calc( 100% - 5px ) !important;
    /* Distinct background color makes it clearer when we're in input mode
     * (vs. keyboard command mode)
     * Doubles as a focus highlighter--COOL!
     */
    background-color: #F8F8BB; }

  /* -----------------------------------------------------------------------------
   * Task Row Color
   */
  .taskCell.editable:not(.tc_title) {
    color: #606e7c; }

  /* e.g. "No Tags", "No Due Date", "No Repeat", etc */
  .taskRow.Grid .taskCell.noval {
    color: lightgray; }

  .taskCell.completed, .taskRow.Mobile.completed .taskTitle {
    color: lightgray !important;
    font-style: italic; }

  /* -----------------------------------------------------------------------------
   * Task Note Styling
   */
  /* Clearer boundaries on task notes */
  .taskRow .taskNote
  , textarea.editNote {
    border-left: 1px solid grey !important;
    border-bottom: 1px solid grey !important; }

  .subtaskRowFilter {
    background-color: #fafafa; }

  /* -----------------------------------------------------------------------------
   * Task Priority Styling
   */
  /* override native style so we can re-style only non-completed tasks*/
  .style_pri .pri3 .tc_title, .style_pri .pri2 .tc_title, .style_pri .pri1 .tc_title, .style_pri .pri0 .tc_title, .style_pri .pri-1 .tc_title {
    color: initial;
    font-weight: initial;
    text-shadow: initial; }

  .style_pri .pri3:not(.completed) .tc_title, .style_pri .pri3:not(.completed) .tc_title.editable
  input.cellText {
    color: #a61414 !important;
    font-weight: bold;
    text-shadow: #ddd 1px 1px 1px; }

  .style_pri .pri2:not(.completed) .tc_title, .style_pri .pri2:not(.completed) .tc_title.editable input.cellText {
    color: black !important;
    font-weight: bold;
    text-shadow: none !important; }

  .style_pri .pri1:not(.completed) .tc_title {
    color: black !important; }

  .style_pri .pri0:not(.completed) .tc_title {
    color: #737373 !important;
    text-shadow: none; }

  .style_pri .pri-1:not(.completed) .tc_title {
    color: #ababab !important; }

  .style_pri {
    /* TOP pri */
    /* HIGH pri */
    /* MED pri */
    /* LOW pri */
    /* NEGATIVE pri */ }

  /* -----------------------------------------------------------------------------
   * Task Row Divider Styling
   */
  .taskRowDivider {
    padding-top: calc( 1em );
    padding-bottom: calc( .2em ); }

  .taskRowDivider:not(.closed) {
    border-image: linear-gradient(to right, #1b75bc 0%, lightgray 200px, lightgray 100%);
    border-image-slice: 1;
    border-bottom-width: 2px;
    /* Tried solid line but doesn't look as good:
        border-bottom: 1px solid $Colo_Task_row_divider_line_Start;
    */
    /* TODO add post-processor to support other browsers
      * other browser specific implementations (webkit, mozilla)
      * See: https://css-tricks.com/examples/GradientBorder/
      *
      *    background-image: -webkit-gradient(linear, 0 0, 100% 0, from(#000), to(transparent));
          background-image: -webkit-linear-gradient(left, #000, transparent);
          background-image: -moz-linear-gradient(left, #000, transparent);
          background-image: -o-linear-gradient(left, #000, transparent);
      */ }

  .taskRowDivider a {
    color: #1b75bc; }

  .taskRowDivider.closed a {
    color: #737373; }

  .taskRow.Grid:last-child {
    border-bottom-width: 2px !important; }

  .taskRow.Grid:not(.highlight):last-child {
    border-bottom-color: lightgray !important; }

  .subtaskRowFilter:last-child {
    border-bottom: 2px solid lightgray; }

  .taskRowDivider.closed {
    border-left: 1px solid #1b75bc;
    border-left-width: 3px;
    border-bottom: 1px solid lightgray;
    overflow: visible !important;
    margin-left: 15px;
    position: relative; }

  .taskRowDivider.closed::before, .taskRowDivider.closed::after {
    content: '';
    right: 0;
    top: 2px;
    bottom: 2px;
    position: absolute; }

  .taskRowDivider.closed::before {
    left: -9px;
    border-left: 2px solid #ababab; }

  .taskRowDivider.closed::after {
    left: -14px;
    border-left: 2px solid lightgray; }

  .taskRowDivider
  , .taskRowDivider ~ span > .taskRow.Grid
  , .taskRowDivider ~ span > div {
    transition: all .25s ease-out; }

  .taskRowDivider.closed:hover a {
    color: #1b75bc; }

  .taskRowDivider.closed:hover {
    background-color: #e8f1f8 !important;
    border-bottom: 1px solid #1b75bc; }

  .taskRowDivider:not(.closed):hover {
    transition: all .25s ease-out;
    background-color: lightgray !important;
    filter: grayscale(100%);
    /* FIXME: TOO JARRING A TRANSITION
    border-image: linear-gradient( to right
        , $Colo_Task_row_divider_line_End  0%
        , $Colo_Task_row_divider_line_End  100%
    );
    border-image-slice: 1;
    border-bottom-width: $MEDIUM_BORDER_WIDTH;
    */ }

  .taskRowDivider:not(.closed):hover ~ span > .taskRow.Grid
  , .taskRowDivider:not(.closed):hover ~ span > .taskRow.Grid.subtask
  , .taskRowDivider:not(.closed):hover ~ span > div {
    transition: all .25s ease-out;
    /* Also tried but didn't like:
       instant white
       transition: background-color .25s;
       background-color: white !important;
       conclusion: we need a stronger accent than this

    // background-color: mix( white, $Colo_light_yellow, 50% ) !important;
        // this yellow sends the wrong message, since we're intending to hide the section and not select it

    // border-left: 4px solid $Colo_grey_200;
        // $Colo_blue_200 not a good color because it blends into sidebar
    */ }

  .taskRowDivider:active
  , .taskRowDivider:active ~ span > .taskRow.Grid
  , .taskRowDivider:active ~ span > .taskRow.Grid.subtask
  , .taskRowDivider:active ~ span > div {
    transform: translateY(6px);
    transition: translate 10ms ease-out; }

  /* Shameful hacks to be addressed later */ }
