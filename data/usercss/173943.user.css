/* ==UserStyle==
@name         Yandex Metro Dark Theme
@namespace    USO Archive
@author       AlexPS
@description  Тёмная тема для Яндекс.Метро
@version      20210518.14.31
@license      CC0-1.0
@preprocessor uso
==/UserStyle== */
@-moz-document url-prefix("https://yandex.ru/metro"), url-prefix("https://yandex.com/metro"), regexp("https://yandex.([a-z]{2})/metro.*") {
::-webkit-scrollbar {background: rgba(51,51,51,.2); height: 16px; width: 16px;}
::-webkit-scrollbar-track {background-clip: padding-box; border: solid transparent; border-width: 0;}
::-webkit-scrollbar-button {width: 0px; height: 0px;}
::-webkit-scrollbar-thumb {background-color: rgba(255,255,255,.4); background-clip: padding-box; border: 2px solid transparent; border-radius: 4px;}
::-webkit-scrollbar-thumb:hover {background-color: rgba(255,255,255,.5);}
::-webkit-scrollbar-thumb:active {background-color: rgba(255,255,255,.6);}
::-webkit-scrollbar-corner {background: rgba(51,51,51,.2);}

body {color: #fff;}
a {color: #66b3ff;}
a[href*="https://an.yandex.ru"] {color: #66b3ff;}
a[href*="https://an.yandex.ru"]:hover {color: #f43;}

/* Header*/
.metro-header-view {background: #282828; border-bottom-color: #444;}

.logo-view img {filter: brightness(0) invert(1) hue-rotate(180deg);}
.button._view_secondary-gray {background-color: #383838; color: #ccc;}
.select__dropdown {background-color: #383838;}
.menu-item:not(._disabled):hover {background-color: #484848;}
.menu-item._checked:not(._disabled-tick) .menu-item__text:before {background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="11" height="8" viewBox="0 0 11 8"><path fill="white" d="M3.293 7.707c.39.39 1.024.39 1.414 0l6-6c.39-.39.39-1.024 0-1.414-.39-.39-1.024-.39-1.414 0L3.998 5.6l-2.29-2.307c-.39-.39-1.025-.39-1.415 0-.39.39-.39 1.024 0 1.414l3 3z"/></svg>');}

/* SidePanel*/
.scroll__scrollbar-track {background: rgba(255,255,255,.1);}
.scroll__scrollbar-thumb {background: rgba(255,255,255,.4);}

.metro-sidebar-view {background: #282828;}

.metro-input-form__stop-icon {background-color: #666;}

.input._view_stroke, .input._view_filled, .input._view_pharmacy, .input._view_touch-pharmacy, .input._view_touch-search {background-color: #383838;}
.input._view_stroke:hover, .input._view_filled:hover, .input._view_pharmacy:hover, .input._view_touch-pharmacy:hover, .input._view_touch-search:hover {box-shadow: inset 0 0 0 1px #484848;}
.input._view_stroke._focused, .input._view_filled._focused, .input._view_pharmacy._focused, .input._view_touch-pharmacy._focused, .input._view_touch-search._focused {box-shadow: inset 0 0 0 1px #66b3ff;}
.input._view_stroke .input__control, .input._view_filled .input__control, .input._view_pharmacy .input__control, .input._view_touch-pharmacy .input__control, .input._view_touch-search .input__control {color: #fff;}

.metro-input-form__switch-icon-container svg {fill: #fff;}

.metro-sidebar-view__mobile-share-container {border-top-color: #444;}
.card-tip-view__icon path {fill: #66b3ff;}
.button._view_secondary-blue {background-color: #383838; color: #66b3ff;}
.button._view_secondary-blue:not(._disabled):hover:before, .button._view_secondary-blue._pressed:before {background-color: #66b3ff;}

.route-snippet-view {border-left-color: #282828;}
.route-snippet-view:not(._detailed):before {background-color: #444;}
.masstransit-route-snippet-view__icon._alert:after {background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none"><path fill="%23282828" fill-rule="evenodd" clip-rule="evenodd" d="M7 14A7 7 0 1 1 7 0a7 7 0 0 1 0 14z"/><path fill="%23FF5959" fill-rule="evenodd" clip-rule="evenodd" d="M7 12A5 5 0 1 1 7 2a5 5 0 0 1 0 10z"/><path fill="%23fff" fill-rule="evenodd" clip-rule="evenodd" d="M6.053 4.947c0 .047.003.094.01.14l.363 2.419a.58.58 0 0 0 1.148 0l.363-2.418a.947.947 0 1 0-1.884-.14zM7.8 9.8a.8.8 0 1 1-1.6 0 .8.8 0 0 1 1.6 0z"/></svg>');}
.route-snippet-view._active:not(._detailed) {background-color: #383838; border-left-color: #66b3ff;}
.metro-sidebar-view__route-snippets {border-bottom-color: #444;}
.route-detailed-view {background-color: #282828;}
.route-masstransit-step-view._transport._type_underground .route-masstransit-step-view__icon._stop {background-color: #282828 !important; border-color: #282828 !important;}
.route-masstransit-step-view__icon._transits {border-color: #282828 !important;}
.route-masstransit-step-view__icon._transit {background-color: #282828 !important;}
.route-masstransit-step-view__details-info-icon {background-color: #282828;}
.route-masstransit-step-view__details-info-icon._walk:before {content: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none" fill-rule="evenodd"><rect width="24" height="24" fill="%23282828" rx="12"/><path fill="%23ccc" d="M13.83 11.34l.08-1.2c.67.54 1.63 1.27 1.7 1.31.24.15.3.46.14.68a.53.53 0 0 1-.7.13c-.13-.08-.93-.64-1.22-.92zm-3.9-1.2c.1-.18.96-.57.96-.57l-.32 2.71c-.04.32.11.75.34.98l2.04 1.97c.04.04.08.1.1.16 0 0 1.27 3.05 1.32 3.22.09.3.42.5.75.41.32-.08.52-.4.44-.71l-1.2-3.54a.73.73 0 0 0-.09-.16l-1.54-2.05a.27.27 0 0 1-.05-.16s.21-3.16.21-3.77c0-.6-.54-.85-.84-.85-1.01 0-3.04 1.52-3.18 1.87l-.82 2.07c-.1.25.05.53.31.62.26.08.56-.05.65-.3.06-.15.85-1.81.91-1.9zm1.76 5.64l-1.2-1.18-1.89 3.6a.57.57 0 0 0 .27.78c.3.14.67.03.82-.26.1-.17 2-2.94 2-2.94zm1.86-10.32a1.26 1.26 0 1 0-2.52 0 1.26 1.26 0 0 0 2.52 0z"/></g></svg>');}
.route-masstransit-step-view__details-info-left-content {color: #ccc;}
.route-masstransit-step-view__transport-title {color: #ccc;}
.route-metro-details-step-view__metro-interval-container {color: #999;}
.metro-jams-view__level path[fill="#3CB300"] {fill: #7cb73c;}
.metro-jams-view__level-text._level_1 {color: #7cb73c;}
.route-step-boarding-positions__train-container path[fill="#CCC"] {fill: #666;}
.route-step-boarding-positions__train-container path[fill="#666"] {fill: #ccc;}
.route-metro-events-step-view {background-color: #383838;}
.route-metro-events-step-view__description {color: #ccc;}

div[style="border-top: 8px solid rgb(246, 246, 246); position: relative;"] {border-top-color: #383838 !important;}

/* Map */
.metro-scheme-container {background: #222; border-right-color: #444;}

.scheme-objects-view__decorations._visible path[fill="#FCFCFC"] {fill: #222;}
g[fill="#D9F5FF"] {fill: hsl(196,50%,25%);}
path[fill="#D9F5FF"] {fill: hsl(196,50%,25%);}
.scheme-objects-view__decorations._visible path[fill="#297ACC"] {fill: #66b3ff;}
.scheme-objects-view__decorations._visible path[fill="white"] {fill: #222;}
.scheme-objects-view__decorations._visible path[fill="#666666"] {fill: #aaa;}
.scheme-objects-view__decorations._visible g[fill="#FFFFFF"] {fill: #222;}

.scheme-objects-view__station path[fill="#ffffff"] {fill: #222;}

path[stroke="#000000"][fill="#ffffff"] {stroke: #fff !important; fill: #222 !important;}
path[stroke="#ffffff"] {stroke: #222 !important;}
line[stroke="#ffffff"] {stroke: #222 !important;}
circle[fill="#ffffff"] {fill: #222 !important;}
circle[fill="#333333"] {fill: #666 !important;}

text[stroke="#ffffffe6"] {stroke: #222 !important;}
text {fill: #fff;}

.popup._type_balloon, .popup._type_normal {background-color: #333;}
.metro-event-baloon-view__content {background-color: #333;}
.close-button._color_black {color: #fff;}

.button._view_air, .button._view_air-alt {background-color: #333;}
.button._view_air .button__icon, .button._view_air-alt .button__icon {color: #ccc;}
.button._view_air:not(._disabled):hover .button__icon, .button._view_air-alt:not(._disabled):hover .button__icon {color: #fff;}
.button._view_air._disabled .button__icon, .button._view_air-alt._disabled .button__icon {color: #666;}

/* Footer */
.metro-footer-view {background: #282828;}
}