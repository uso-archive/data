/* ==UserStyle==
@name           Twitter Square
@namespace      USO Archive
@author         hyperfekt
@description    `This style makes Twitter's avatars and interface elements square again (check the settings for customizing the radius).<br>Also check out <a href="https://userstyles.org/styles/156497/">Twitter Desaturated</a>!<br>Contributions are welcome - take a look at <a href="https://github.com/hyperfekt/twitter-styles/">the Github repository</a>`
@version        20180419.20.17
@license        NO-REDISTRIBUTION
@preprocessor   uso
@advanced text AVATARRADIUS "Avatar Radius" "0px"
@advanced text INTERFACERADIUS "Interface Element Radius" "0px"

==/UserStyle== */
/* ==UserStyle==
@name Twitter Square
@version 2.1.3
@description Changes the radius of Twitter's avatars and interface elements, making them square with customizably rounded corners.
@author hyperfekt
@namespace net.hyperfekt
@homepageURL https://github.com/hyperfekt/twitter-styles/
@supportURL https://github.com/hyperfekt/twitter-styles/issues/
@updateURL https://raw.githubusercontent.com/hyperfekt/twitter-styles/master/twitter_square.user.css
@copyright hyperfekt
@license Network Extended License (https://github.com/hyperfekt/twitter-styles/blob/master/LICENSE.md)
@var text AVATARRADIUS 'Avatar Radius' 0px
@var text INTERFACERADIUS 'Interface Element Radius' 0px
==/UserStyle== */

@-moz-document regexp("https?://twitter\\.com/.*") {
    :root {
        --interface-radius: /*[[INTERFACERADIUS]]*/;
        --avatar-radius: /*[[AVATARRADIUS]]*/;
    }
    /* squaring */
    /*interface elements */
    .EdgeButton,
    .EdgeButton:visited,
    .content-searchbar .search-query,
    .EdgeButton.EdgeButton--icon,
    global-nav .search-input,
    .DirectMessage-message,
    .DMComposer-container,
    .global-nav .search-input,
    .RichEditor,
    .ComposerThumbnail-remove,
    .ComposerThumbnail,
    .modal-content,
    .dropdown-menu,
    .tooltip-inner,
    .user-actions .dropdown-menu,
    .DMActivity,
    .QuoteTweet,
    .TwitterCard-container
    .dropdown-menu,
    .PhotoRail-mediaBox .tweet-media-img-placeholder,
    .TweetImpressionsModule-barchart-tooltip,
    .AdaptiveMedia,
    .AdaptiveMedia-video,
    .TwitterCard-container,
    input, textarea, div[contenteditable], .t1-select,
    .btn,
    .hovercard.profile-card,
    .PlayableMedia-container,
    .TokenizedMultiselect-inputContainer,
    .InputToken,
    .AdaptiveMedia-badge,
    .PlayableMedia-reactWrapper div[data-testid="gif"],
    .PermalinkOverlay .permalink,
    .datepicker table tr td, .datepicker table tr th,
    .DMComposer-discardTweet,
    .EmojiPicker-skinToneSwatch,
    .PermalinkOverlay-spinnerContainer,
    .MomentCapsuleSummary-cover,
    .FollowStatus,
    .ColorPicker-item,
    .QuickPromoteDialog .modal-body,
    .Gallery-content,
    .TwitterCard .PollXChoice-optionContainer .PollXChoice-choice--radio,
    .Trends-liveBadge,
    .DMPopover-content,
    .permalink.self-thread-permalink-with-descendant .inline-reply-tweetbox,
    .permalink.self-thread-permalink-with-descendant .permalink-tweet-container::after, .permalink.self-thread-permalink-with-descendant .inline-reply-tweetbox-container::after,
    .PermalinkOverlay-modal,
    .sc-key,
    .ThreadedConversation-tweet:not(.is-hiddenAncestor) ~ .ThreadedConversation-tweet::before, .ThreadedConversation-tweet::after, .ThreadedConversation-moreReplies::before, .ThreadedConversation-unavailableTweet::before, .ThreadedConversation-unavailableTweet::after, .ThreadedConversation--permalinkTweetWithAncestors::before,
    .stream-item .dismiss-module,
    .TweetstormDialog-reply-context .tweet-box-avatar::before, .TweetstormDialog-reply-context .tweet-box-avatar::after, .TweetstormDialog-tweet-box .tweet-box-avatar::before, .TweetstormDialog-tweet-box .tweet-box-avatar::after,
    .ComposerThumbnail-duration,
    .ComposerThumbnail-overlay,
    .MomentCapsuleItemTweet--withText,
    .MomentMediaBadge,
    .MomentMediaControls-hoverToUnmute,
    .MomentCapsuleSummary .MomentMediaItem,
    .MomentFloatingMenu,
    .MomentFormatLink-anchor,
    .MomentCapsuleSummary--hero:focus, .MomentCapsuleSummary--portrait:focus,
    .conversation-module > li::after, .conversation-module > li::before,
    .mini-avatar-with-thread::before,
    .ProfileTweetbox,
    .ProfilePrefilledTweet .tweet,
    .wtf-module .import-prompt .service,
    #session h2 img,
    .js #session .user-menu,
    .ep-Campaign .ep-CampaignContainer,
    .Tombstone,
    .DMQuickReply-optionText,
    .PlayableMedia-reactWrapper button[data-testid="cta"],
    .vellip, .vellip::before, .vellip::after,
    .user-list img,
    .button,
    #auto-close p,
    .TypingIndicatorMessageBubble-dotContainer,
    .TypingIndicatorMessageBubble-dot::after,
    .notice,
    .permalink.has-replies .inline-reply-tweetbox,
    .user-select-controls,
    .start-tagging,
    .MomentMakerRecommendations-module,
    .dropdown-menu,
    .LiveVideoHomePageModuleBadge
    {
        border-radius: var(--interface-radius, 0px) !important;
    }
    .TweetBoxAttachments,
    .permalink .inline-reply-tweetbox,
    .message,
    .GalleryTweet,
    .ProfileHeaderCardEditing--extraFields,
    .MutedKeywordsFooter,
    .find-friends-sources,
    .Gallery.with-tweet .Gallery-media,
    .GalleryTweet .tweet,
    .HomeEmptyTimeline,
    .MomentMakerRecommendations-more,
    .dm-media-preview
    {
        border-bottom-left-radius: var(--interface-radius, 0px) !important;
        border-bottom-right-radius: var(--interface-radius, 0px) !important;
    }
    .FoundMediaSearch-query,
    .hovercard.profile-card .ProfileCard-bg,
    .ProfileHeaderCardEditing,
    .geo-query-location,
    .permalink-tweet,
    .ThreadedConversation.ThreadedConversation--ancestors,
    .permalink .in-reply-to .ThreadedConversation-tweet:first-child .stream-item:first-child, .permalink .in-reply-to .ThreadedConversation-tweet:first-child .stream-item:first-child .tweet:hover,
    .modal-header
    {
        border-top-left-radius: var(--interface-radius, 0px) !important;
        border-top-right-radius: var(--interface-radius, 0px) !important;
    }
    .PlayableMedia-reactWrapper > div > div > span > div > div:nth-child(1),
    .input-prepend .add-on {
        border-top-left-radius: var(--interface-radius, 0px) !important;
        border-bottom-left-radius: var(--interface-radius, 0px) !important;
    }
    .PlayableMedia-reactWrapper > div > div > span > div > div:nth-child(2) {
        border-top-right-radius: var(--interface-radius, 0px) !important;
        border-bottom-right-radius: var(--interface-radius, 0px) !important;
    }
    .EmojiPicker-query {
        border-top-right-radius: var(--interface-radius, 0px) !important;
        border-top-left-radius: 0px !important;
    }
    .rn-10lt1xg {
        border-top-left-radius: var(--interface-radius, 0px) !important;
    }
    .rn-5rpapn {
        border-bottom-left-radius: var(--interface-radius, 0px) !important;
    }
    .rn-hbrzrx {
        border-top-right-radius: var(--interface-radius, 0px) !important;
    }
    .rn-rpaa7z {
        border-bottom-right-radius: var(--interface-radius, 0px) !important;
    }
    /* maintain squareness */
    .tweet-form.is-cardComposerOn .RichEditor, .tweet-form.has-thumbnail .RichEditor, .tweet-form.has-quotedTweet .RichEditor, .tweet-form.quotedTweet-loading .RichEditor {
        border-bottom-left-radius: 0px !important;
        border-bottom-right-radius: 0px !important;
    }
    .permalink-in-reply-tos + .permalink-inner .permalink-tweet,
    .permalink .in-reply-to .ThreadedConversation-tweet:not(:first-child) .stream-item:first-child, .permalink .in-reply-to .ThreadedConversation-tweet:not(:first-child) .stream-item:first-child .tweet:hover {
        border-top-left-radius: 0px !important;
        border-top-right-radius: 0px !important;
    }
    /* avatars */
    .DMAvatar,
    .avatar,
    .nav .session .dropdown-toggle,
    .Avatar,
    .DashboardProfileCard-avatarImage,
    .ProfileAvatar-image,
    .ProfileAvatar-placeholderImage,
    .ProfileAvatar,
    .ProfileCardMini-avatarImage,
    .ProfileUserList .Avatar,
    .ProfileListItem-avatar,
    .ProfileCard-avatarImage,
    .Gallery.with-tweet.without-tweet .Gallery-media,
    .DirectMessage-avatar img,
    .ProfileCard-avatarLink,
    .ProfileAvatarEditing-button, .ProfileAvatarEditing-overlay,
    .ProfileAvatarEditing,
    .DMUpdateAvatar-avatar,
    .DashboardProfileCard-avatarLink,
    .avatar--circular,
    .nav .session .dropdown-toggle::before,
    .ProfileAvatarEditing-image, .ProfileAvatarEditing-placeholder, .ProfileAvatarEditing-iframeSaving,
    .MomentCapsuleItemTweet--withText .MomentUserByline-avatar
    {
        border-radius: var(--avatar-radius, 0px) !important;
    }
}