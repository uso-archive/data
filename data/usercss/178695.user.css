/* ==UserStyle==
@name           Current Affairs Dark Night Mode
@namespace      USO Archive
@author         pkiff
@description    `A dark style for Current Affairs magazine.`
@version        20191229.20.8
@license        CC-BY-SA-4.0
@preprocessor   uso
==/UserStyle== */
@-moz-document domain("currentaffairs.org") {
/* Current Affairs Dark Night Mode 
*
* A dark style for Current Affairs magazine.
*
* By pkiff
* Version 1.0
* Last update: 2019-12-29
* Initial launch: 2019-12-29
*
* 2019-12-26: Version 1.0
* - Initial launch
* - Replace colors, add focus attributes for better #a11y
* - Tested in desktop version only
*
*/

/* Colors 
*
* black: #111 (background)
* dark grey: #666 (faded text)
* light grey: #bbb (standard text)
* white: #ddd (emphasized text)
* pink: #ff2395 (original from Current Affairs)
*
*/

/* Global Elements */ 

body {
  background-color: #111 !important;
  color: #bbb;
}

hr {
  background-color: #666;
}

div.feature-col:nth-child(2) {
  border-left-color: #666;
  border-right-color: #666;
}

a:hover, 
a:focus, 
a:active, 
a:visited {
  background-color: #111;
}

h2.post-title, 
h2.post-title a:link, 
h2.post-title a:visited {
  color: #ddd;
}

/* IDs */

#more-posts h2 a {
  color: #ddd;
}

#primary-feature a, 
#secondary-feature a {
  color: #bbb
}

#primary-feature a:hover, 
#primary-feature a:active, 
#secondary-feature a:hover, 
#secondary-feature a:active {
  background-color: #111;
}

#subscribe-to-ca {
  background-color: #000;
}

#subscribe-to-ca p a, 
#subscribe-to-ca p a:hover, 
#subscribe-to-ca p a:focus, 
#subscribe-to-ca p a:active, 
#subscribe-to-ca p a:visited {
  color: #666;
}


/* Classes */

.post-author a:link {
  color: #ddd;
}

.front-page-container {
  color: #666;
}

.ca-2019 .boxy {
  background-color: #ff2395;
  color: #000;
  box-shadow: none;
  border: 2px solid #ff2395;
}

.ca-2019 .boxy:hover, 
.ca-2019 .boxy:focus {
  background-color: #111;
  color: #ddd;
  transform: none;
  box-shadow: none;
  border: 2px solid #ddd;
}


/* .ca-2019 */

.ca-2019 {
  background-color: #111 !important;
  color: #bbb;
}


/* .masthead .site-search */ 

.ca-2019 .masthead .site-search {
  background-color: #000;
}

.ca-2019 .masthead .site-search input[type="search"], 
.ca-2019 .masthead .site-search input[type="search"]::placeholder {
  background-color: #111;
  color: #fff;
  border: 1px solid #666;
}

.ca-2019 .masthead .site-search .close-search {
  background: url(https://www.currentaffairs.org/static/images/icon-close-x-magenta.svg) no-repeat center center;
  background-size: 35% 35%;
  transition: all 30ms;
}

.ca-2019 .masthead .site-search .close-search:hover {
  box-shadow: inset 0 0 0 2px #fff;
  background: url(https://www.currentaffairs.org/static/images/icon-close-x-white.svg) no-repeat center center;
  background-size: 35% 35%;
}

.ca-2019 .masthead .site-search [type="submit"] {
  display: block;
  cursor: pointer;
  width: 65px;
  height: 37px;
  background: url(https://www.currentaffairs.org/static/images/icon-pointer-rightward-white.svg) no-repeat center center;
  background-size: 70% auto;
  position: relative;
}

.ca-2019 .masthead .site-search [type="submit"]:hover, 
.ca-2019 .masthead .site-search [type="submit"]:focus {
  box-shadow: inset 0 0 0 2px #fff;
}

.ca-2019 .masthead .site-search [type="submit"]::after {
  content: "";
  display: block;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: url(https://www.currentaffairs.org/static/images/icon-pointer-rightward-magenta.svg) no-repeat center center;
  background-size: 70% auto;
  box-shadow: none;
}

.ca-2019 .masthead .site-search [type="submit"]:hover::after, 
.ca-2019 .masthead .site-search [type="submit"]:focus::after {
  opacity: 0;
}


/* .masthead menu */ 

.ca-2019 .masthead .wayfinding-primary.large a:hover,
.ca-2019 .masthead .wayfinding-primary.large a:focus {
  color: #111; 
  background: #ff2395;
}


/* .article-splash */ 

.ca-2019 .article-splash .stamp[data-stamp-type="web"] {
  filter: opacity(.5) drop-shadow(0 0 0 #fff);
}

.ca-2019 .article-splash .details .bylines a:hover, 
.ca-2019 .article-splash .details .bylines a:focus, 
.ca-2019 .article-splash .details .dateline a:hover, 
.ca-2019 .article-splash .details .dateline a:focus {
  color: #fff;
  text-decoration: underline;
  box-shadow: none;
}


/* article-output */ 

.ca-2019 .article-output a, 
.ca-2019 .article-peition a {
  -webkit-box-shadow: inset 0 -2px 0 #111, inset 0 -3px 0 #111;
  box-shadow: inset 0 -2px 0 #111, inset 0 -3px 0 #111;
  text-decoration: none; 
}

.ca-2019 .article-output a:hover, 
.ca-2019 .article-output a:focus, 
.ca-2019 .article-petition a:hover, 
.ca-2019 .article-petition a:focus {
  -webkit-box-shadow: inset 0 -2px 0 #111, inset 0 -3px 0 #111;
  box-shadow: inset 0 -2px 0 #111, inset 0 -3px 0 #111;
  color: #fff;
  text-decoration: underline; 
}

.ca-2019 .article-output hr {
  background-image: none;
  border-top: 1px solid #666;
  border-bottom: 1px solid #666;
}


/* article-petition */ 

.article-petition .text {
  box-shadow: inset 0 10px 0 #111, inset 0 11px 0 #666, inset 0 -1px 0 #111;
}

.article-petition a {
  -webkit-box-shadow: inset 0 -2px 0 #111, inset 0 -3px 0 #111;
  box-shadow: inset 0 -2px 0 #111, inset 0 -3px 0 #111;
  text-decoration: none; 
}

.article-petition a:hover, 
.article-petition a:focus {
  -webkit-box-shadow: inset 0 -2px 0 #111, inset 0 -3px 0 #111;
  box-shadow: inset 0 -2px 0 #111, inset 0 -3px 0 #111;
  color: #fff;
  text-decoration: underline; 
}

/* .quadtych-of-articles */ 

.quadtych-of-articles a {
  background-color: #111;
  box-shadow: 0 0 0 11px #333, 0 0 0 12px #333, 0 5px 5px -5px transparent;
}

.quadtych-of-articles a:hover, 
.quadtych-of-articles a:focus {
  transform: translateY(-3px);
  z-index: 2;
  box-shadow: 0 0 0 11px #111, 0 0 0 12px #ff2395, 0 30px 40px -5px rgba(0,0,0,.2);
}

.quadtych-of-articles .bylines {
  background-image: none;
  border-top: 1px solid #333;
  margin-left: 10px;
  margin-right: 10px;
}


/* .quadtych-titling */

.quadtych-titling.wreath h1 {
  background-image: none;
  background-color: #111;
}

.quadtych-titling.wreath .bound {
  background-size: 1px;
}

.quadtych-titling.ribbon .bound {
  background-image: none;
  box-shadow: inset 0 26px 0 #111, inset 0 27px 0 #666, inset 0 -1px 0 #111;
}


/* newest-issue */

.newest-issue .plate {
  background-image: none !important;
}

.ca-2019 .newest-issue .action a {
  color: #111;
  box-shadow: none;
  border: 2px solid #ff2395;
}

.ca-2019 .newest-issue .action a:hover, 
.ca-2019 .newest-issue .action a:focus {
  background-color: #111;
  color: #fff;
  box-shadow: none;
}


/* newsletter-signup */ 

.ca-2019 .newsletter-signup {
  background-image: none;
}
  
.ca-2019 .newsletter-signup .sneer {
  filter: opacity(.5) drop-shadow(0 0 0 #fff);
}

.ca-2019 .newsletter-signup .proclamation {
  filter: opacity(.5) drop-shadow(0 0 0 #fff);
}


.ca-2019 .newsletter-signup .substantive-signup-form {
  background-color: #000;
}


.ca-2019 .newsletter-signup .substantive-signup-form input[type="email"] {
  background-color: #111 !important;
  color:#fff;
  border: 1px solid #666;
}

.ca-2019 .newsletter-signup .substantive-signup-form input[type="email"]::placeholder {
  color:#fff;
}

.ca-2019 .newsletter-signup .substantive-signup-form input[type="email"]:hover::placeholder, 
.ca-2019 .newsletter-signup .substantive-signup-form input[type="email"]:focus::placeholder {
  color:#ff2395;
}

.ca-2019 .newsletter-signup .substantive-signup-form input[type="email"]:hover, 
.ca-2019 .newsletter-signup .substantive-signup-form input[type="email"]:focus {
  box-shadow: none;
}

.ca-2019 .newsletter-signup .substantive-signup-form input[type="submit"] {
  background-color: #ff2395;
  color: #000;
  border: 2px solid #ff2395;
  box-shadow: none;
}

.ca-2019 .newsletter-signup .substantive-signup-form input[type="submit"]:hover,
.ca-2019 .newsletter-signup .substantive-signup-form input[type="submit"]:focus {
  background-color: #111;
  color: #fff;
  border: 2px solid #fff;
  box-shadow: none;
}


/* .featured-product */

.ca-2019 .featured-product .plate {
  -webkit-box-shadow: inset 0 0 0 1px #ff2395,inset 0 0 0 4px #111,inset 0 0 0 5px #ff2395;
  box-shadow: inset 0 0 0 1px #ff2395,inset 0 0 0 4px #111,inset 0 0 0 5px #ff2395;  
}

.ca-2019 .featured-product .action a {
  background-color: #ff2395;
  color: #000;
  border: 2px solid #ff2395;
  box-shadow: none;
}

.ca-2019 .featured-product .action a:hover,
.ca-2019 .featured-product .action a:focus {
  background-color: #111;
  color: #fff;
  border: 2px solid #fff;
  box-shadow: none;
  -webkit-transform: none;
  transform: none;
}

/* .evergreen-plugs-triptych */

.ca-2019 .evergreen-plugs-triptych a {
  -webkit-box-shadow: none;
  box-shadow: none;
  border-bottom: 1px solid #ff2395;
}

.ca-2019 .evergreen-plugs-triptych a:hover, 
.ca-2019 .evergreen-plugs-triptych a:focus {
  -webkit-box-shadow: none;
  box-shadow: none;
  color: #ddd;
  border-bottom: 1px solid #ddd;
}


/* .subscribe-block */

.ca-2019 .subscribe-block {
  background-color: #333;
  color: #ddd;
}


/* .design-credit */

.ca-2019 .site-footer .design-credit a:hover, 
.ca-2019 .site-footer .design-credit a:focus {
  background-color: #ff2395;
  color: #000;
}

}