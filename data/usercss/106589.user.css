/* ==UserStyle==
@name         MetaFilter Modern Tweak
@namespace    USO Archive
@author       Jordan117
@description  An assortment of visual tweaks for the Dark Mode on MetaFilter's new "Modern" style, to make it a little more like the "Classic" version. Includes an updated implementation of the <a href="https://userstyles.org/styles/104164/metafilter-fanfare-full-recolor">FanFare Full Recolor script</a>.
@version      20141102.05.18
@license      CC0-1.0
@preprocessor uso
==/UserStyle== */
@namespace url(http://www.w3.org/1999/xhtml);

@-moz-document domain("metafilter.com") {

/* REMOVE POST TITLES (optional, commented out by default) */
/*body.subsite-metafilter .content .posttitle {display:none!important}*/
/*body.subsite-askmefi .content .posttitle {display:none!important}*/
/*body.subsite-fanfare .content .posttitle {display:none!important}*/
/*body.subsite-music .content .posttitle {display:none!important}*/
/*body.subsite-jobs .content .posttitle {display:none!important}*/
/*body.subsite-metatalk .content .posttitle {display:none!important}*/

/* Removing green line at the top */
.site-header {border-top: 0px solid #9cc754!important;}

/* Fixing selection highlight colors */

::-moz-selection {background: white!important;color: #3399ff!important;}
::selection {background: rgba(255, 255, 255, 0.99)!important;color: #3399ff!important;}

/* Adjusting subsite logos */
.site-header .logo a h1 {font-family:arial, helvetica, sans-serif!important; font-weight:600!important; transform:skew(-7deg,0deg)!important}
.site-header .logo a .green {color:#cc0!important}

/* Tweaking post title and link colors */

body.dark-mode #posts .posttitle a {color:#ddd!important}
body.dark-mode #posts h1 {color:#ddd!important}
.dark-mode .content a {color:#cc0!important;}
.dark-mode .content a:visited {color:#cc9!important}
body.dark-mode .content a:hover {color:white!important}
.site-header nav.secondary a {font-size:15px!important}

/* Whitening new comments note in post bylines */
body.dark-mode .content .new, body.dark-mode .new:visited {color:white!important}

/* Ensuring Recent Activity usernames stay gray */
body.dark-mode .content .rauname {color:#aaa!important}
body.dark-mode .content .rauname:visited {color:#aaa!important}
body.dark-mode .content .rauname:hover {color:white!important}

/* Removing byline highlights on posts and comments */

body.subsite-metafilter.dark-mode .postbyline, body.subsite-metafilter.dark-mode #posts .copy.post br+span.smallcopy {background-color:transparent!important}
body.subsite-askmefi.dark-mode .postbyline, body.subsite-askmefi.dark-mode #posts .copy.post br+span.smallcopy {background-color:transparent!important}
body.subsite-fanfare.dark-mode .postbyline {background-color:transparent!important}
body.subsite-projects.dark-mode .postbyline, body.subsite-projects.dark-mode #posts .copy.post br+span.smallcopy {background-color:transparent!important}
body.subsite-music.dark-mode .postbyline, body.subsite-music.dark-mode #posts .copy.post br+span.smallcopy {background-color:transparent!important}
body.subsite-jobs.dark-mode .postbyline {background-color:transparent!important}
body.subsite-irl.dark-mode .postbyline {background-color:transparent!important}
body.subsite-metatalk.dark-mode .postbyline, body.subsite-metatalk.dark-mode #posts .copy.post br+span.smallcopy {background-color:transparent!important}
body.subsite-podcast.dark-mode .byline {background-color:transparent!important}

/* Recoloring the post filter bar */

body.subsite-metafilter.dark-mode nav.tertiary li.current a {color: white!important}
body.subsite-askmefi.dark-mode nav.tertiary li.current a {color: white!important}
body.subsite-fanfare.dark-mode nav.tertiary li.current a {color: white!important}
body.subsite-music.dark-mode nav.tertiary li.current a {color: white!important}
body.subsite-irl.dark-mode nav.tertiary li.current a {color: white!important}
body.subsite-metatalk.dark-mode nav.tertiary li.current a {color: white!important}

body.dark-mode .content nav.tertiary a {color:#ddd!important}
body.dark-mode .content nav.tertiary a:hover {color:#ddd!important}

/* Whitening search bar */

body.subsite-metafilter.dark-mode .site-header .search #query {background-color:#f0f0f0!important}
body.subsite-askmefi.dark-mode .site-header .search #query {background-color:#f0f0f0!important}
body.subsite-fanfare.dark-mode .site-header .search #query {background-color:#f0f0f0!important}
body.subsite-projects.dark-mode .site-header .search #query {background-color:#f0f0f0!important}
body.subsite-music.dark-mode .site-header .search #query {background-color:#f0f0f0!important}
body.subsite-jobs.dark-mode .site-header .search #query {background-color:#f0f0f0!important}
body.subsite-irl.dark-mode .site-header .search #query {background-color:#f0f0f0!important}
body.subsite-metatalk.dark-mode .site-header .search #query {background-color:#f0f0f0!important}
body.subsite-podcast.dark-mode .site-header .search #query {background-color:#f0f0f0!important}

/* Greying text boxes and dropdowns */
body.dark-mode textarea#comment, textarea#extended, input, select {background-color:#ddd!important}

/* Keeping staff tags in the black */
a.staff.staff {color:black!important}
a.staff.staff:visited {color:black!important}
a.staff.retired {color:black!important}
a.staff.retired:visited {color:black!important}

/* Fixing Music Challenge box */

body.subsite-music .currentchallenge {
background: #292929!important;
border-top: 1px solid #999;
border-bottom: 1px solid #999;
border-left: 1px solid #999!important;;
border-right: 1px solid #999!important;
padding: 0px 20px 0px 20px;}

/* FANFARE RECOLORING */

/* Header, background, and nav bars */

body.subsite-fanfare.dark-mode .content {background-color:#273e54!important}
body.subsite-fanfare nav.primary {background-color:#46607a!important}
body.subsite-fanfare nav.secondary {background-color:#97aec3!important}
body.subsite-fanfare nav.secondary a:hover {background-color:#a9bdcf!important}
body.subsite-fanfare .tagline {color:#46607a!important}
body.subsite-fanfare .more-nav ul {background: #46607a!important;}

/* Sidebar */

body.subsite-fanfare.dark-mode #menu .sidebar, body.subsite-fanfare.dark-mode #menu #threadsub .tags, #threadsub body.subsite-fanfare.dark-mode #menu .tags, body.subsite-fanfare.dark-mode .tags, body.subsite-fanfare.dark-mode .best, body.subsite-fanfare.dark-mode .besta, body.subsite-fanfare.dark-mode #threadside .sidebar, body.subsite-fanfare.dark-mode #threadside #threadsub .tags, #threadsub body.subsite-fanfare.dark-mode #threadside .tags {background-color:#142D45!important}

/* Sidebar headers */

body.subsite-fanfare.dark-mode #deck #decknote, body.subsite-fanfare.dark-mode .sidebar h2, body.subsite-fanfare.dark-mode #threadsub .tags h2, #threadsub body.subsite-fanfare.dark-mode .tags h2, body.subsite-fanfare.dark-mode .sidebar #deck #decknote, #deck body.subsite-fanfare.dark-mode .sidebar #decknote, body.subsite-fanfare.dark-mode #threadsub .tags #deck #decknote, #deck body.subsite-fanfare.dark-mode #threadsub .tags #decknote, #threadsub body.subsite-fanfare.dark-mode .tags #deck #decknote, #deck #threadsub body.subsite-fanfare.dark-mode .tags #decknote, body.subsite-fanfare.dark-mode .sidebar h1.posttitle, body.subsite-fanfare.dark-mode #threadsub .tags h1.posttitle, #threadsub body.subsite-fanfare.dark-mode .tags h1.posttitle, body.subsite-fanfare.dark-mode .sidebar body.subsite-jobs h1, body.subsite-jobs body.subsite-fanfare.dark-mode .sidebar h1, body.subsite-fanfare.dark-mode #threadsub .tags body.subsite-jobs h1, body.subsite-jobs body.subsite-fanfare.dark-mode #threadsub .tags h1, #threadsub body.subsite-fanfare.dark-mode .tags body.subsite-jobs h1, body.subsite-jobs #threadsub body.subsite-fanfare.dark-mode .tags h1, body.subsite-fanfare.dark-mode .sidebar body.subsite-podcast h1, body.subsite-podcast body.subsite-fanfare.dark-mode .sidebar h1, body.subsite-fanfare.dark-mode #threadsub .tags body.subsite-podcast h1, body.subsite-podcast body.subsite-fanfare.dark-mode #threadsub .tags h1, #threadsub body.subsite-fanfare.dark-mode .tags body.subsite-podcast h1, body.subsite-podcast #threadsub body.subsite-fanfare.dark-mode .tags h1, body.subsite-fanfare.dark-mode .sidebar body.subsite-login h1, body.subsite-login body.subsite-fanfare.dark-mode .sidebar h1, body.subsite-fanfare.dark-mode #threadsub .tags body.subsite-login h1, body.subsite-login body.subsite-fanfare.dark-mode #threadsub .tags h1, #threadsub body.subsite-fanfare.dark-mode .tags body.subsite-login h1, body.subsite-login #threadsub body.subsite-fanfare.dark-mode .tags h1, body.subsite-fanfare.dark-mode .sidebar body.thread #posts h1, body.thread #posts body.subsite-fanfare.dark-mode .sidebar h1, body.subsite-fanfare.dark-mode #threadsub .tags body.thread #posts h1, body.thread #posts body.subsite-fanfare.dark-mode #threadsub .tags h1, #threadsub body.subsite-fanfare.dark-mode .tags body.thread #posts h1, body.thread #posts #threadsub body.subsite-fanfare.dark-mode .tags h1, body.subsite-fanfare.dark-mode .sidebar body.thread #posts #related div, body.thread #posts #related body.subsite-fanfare.dark-mode .sidebar div, body.subsite-fanfare.dark-mode #threadsub .tags body.thread #posts #related div, body.thread #posts #related body.subsite-fanfare.dark-mode #threadsub .tags div, #threadsub body.subsite-fanfare.dark-mode .tags body.thread #posts #related div, body.thread #posts #related #threadsub body.subsite-fanfare.dark-mode .tags div {background-color:#001c37!important}

/* Floating header navbar */
body.subsite-fanfare.dark-mode .site-header.fixed {background-color: #001c37!important;}

/* Dark mode toggle button */
body.subsite-fanfare.dark-mode .dark-mode-toggle {background-color:#001c37!important}

/* More Inside divider line */
body.subsite-fanfare.dark-mode .miseperator {border-top: 4px solid #142d45 !important;margin-top: 20px !important;}

/* Add Recap box */
#addphotos {padding: 10px;margin: 0px;background-color: #142d45!important;}

/* Adjusting post title colors */
body.subsite-fanfare.dark-mode #posts .posttitle {color: #ccc!important;}
body.subsite-fanfare.dark-mode #posts .posttitle a {color:#cc0!important;}
body.subsite-fanfare.dark-mode #posts .posttitle a:visited {color:#cc9!important;}
body.subsite-fanfare.dark-mode #posts .posttitle a:hover {color:white!important;}
body.subsite-fanfare.dark-mode #posts .dtype a {color:white!important;}
body.subsite-fanfare.dark-mode #posts .dtype a:visited {color:white!important;}

/* post filter bar */
body.subsite-fanfare.dark-mode nav.tertiary ul {background-color:#142d45!important}
body.subsite-fanfare.dark-mode nav.tertiary li a:hover {background-color:#001c37!important}
body.subsite-fanfare.dark-mode nav.tertiary li.current a {background-color:#001c37!important}
body.subsite-fanfare.dark-mode nav.tertiary li.current a:after {content: "";
position: absolute;
left: 50%;
bottom: 0;
margin-left: -8px;
border-left: 8px solid transparent;
border-right: 8px solid transparent;
border-top: 8px solid #001c37!important;
margin-bottom: -8px;}

/* main header background color */
body.subsite-fanfare.dark-mode .site-header{background-color:#273e54!important}

/* Nav bars */
body.subsite-fanfare.dark-mode .site-header nav.secondary .current a {background-color:#273e54!important}

/* New post boxes */
body.subsite-fanfare.dark-mode .warning {background-color:#142d45!important; border:solid #001c37 1px!important}

/* previous and next post footer */
body.subsite-fanfare.dark-mode #posts .whitesmallcopy {background-color:#142d45!important}

/* Preview box */
body.subsite-fanfare.dark-mode #prevDiv, body.subsite-fanfare.dark-mode #prevDiv2 {background-color:#142d45!important; border-color:#142d45!important}

/* Preview and Submit buttons */
body.subsite-fanfare .button {background-image:linear-gradient(to bottom, #46607a, #273e54) !important}
body.subsite-fanfare .button:hover {background-color:#273e54!important; background-image:linear-gradient(to bottom, #46607a, #273e54) !important; background-position:0 -10px!important}

/* Footer */
body.subsite-fanfare .site-footer {background-color: #273e54!important; border-top: solid #97aec3 5px!important;}
body.subsite-fanfare .fine-print {background-color:#46607a!important}
footer.site-footer a {color:#cc0!important}

/* Recent comments notification bar */

body.subsite-fanfare.dark-mode #newcommentsmsg {background-color:#001c37!important}
}
