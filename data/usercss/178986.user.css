/* ==UserStyle==
@name           MDN Dark mode
@namespace      USO Archive
@author         magic_sk
@description    `Updated dark mode for MDN. Enjoy!`
@version        20200109.18.23
@license        CC0-1.0
@preprocessor   uso
==/UserStyle== */
@-moz-document domain("developer.mozilla.org"), domain("mdn.github.io"), domain("mdn.mozillademos.org"), domain("interactive-examples.mdn.mozilla.net") {
:root {
    --fg: #ccc;
    --bg: #101010;
    --fg-2: #aab;
    --bg-2: #202020;
    --bg-odd: #191919;
    --fg-muted: #999;
    --fg-input: #aaa;
    --bg-input: #000;
    --fg-input-hover: #fff;
    --bg-input-hover: #151515;
    --border: solid 0.5px #353535;
    --border-color: #353535;
    --fg-link: #ccc;
    --fg-link-hover: #eee;
    --fg-link-visited: #ccc;
    --fg-disabled: #ddd;
    --bg-disabled: #aaa;
    --fg-error: #fff;
    --fg-warning: #000;
    --fg-info: #fff;
    --fg-success: #fff;
    --bg-error: #600;
    --bg-warning: #fa4;
    --bg-info: #14a;
    --bg-success: #151;
    --syntax-fg: #f5f5f5;
    --syntax-fg-2: #ffffff;
    --syntax-bg: #000000;
    --syntax-bg-2: #202020;
    --syntax-comment: #b0b0b0;
    --syntax-builtin: #fb0120;
    --syntax-function: #6fb3d2;
    --syntax-keyword: #d381c3;
    --syntax-number: #fc6d24;
    --syntax-string: #a1c659;
    --syntax-font-family: "Menlo", "Liberation Mono", "Consolas", "DejaVu Sans Mono", "Ubuntu Mono", "Courier New", "andale mono", "lucida console", monospace;
    --selection-fg: #000
}

::-moz-selection {
    color: var(--bg) !important;
    background: var(--fg-link) !important;
}
::selection {
    color: var(--bg) !important;
    background: var(--fg-link) !important;
}

/* Background Colors */
.home-masthead {
    background-image: none
}

html,
body,
main,
.document-head,
.user-head,
.home-masthead,
.wiki-main-content,
.global-notice,
.text-content table.standard-table:not(.learn-box) td,
.search-pane,
#example-element,
#bitmap,
body > div {
    background-color: var(--bg)
}

table[style*="background:"] {
    background-color: var(--bg) !important
}

#main-header,
.text-content table.standard-table:not(.learn-box) th,
.nav-footer,
.submenu,
.activity thead,
#nav-sec > ul > li > a,
.note,
.notice,
.nav-main-search,
.interactive,
.output,
.bc-table .bc-history,
.text-content table.bc-table,
.bc-supports-unknown,
.text-content table.fullwidth-table {
    background-color: var(--bg)
}

.titlebar-container {
    background-color: var(--bg) !important;
    border-bottom: solid 1px var(--bg-2);
    border-top: solid 1px var(--bg-2);
}

.full-width-row-container{
    border-bottom: solid 1px var(--bg-2);
}

.header-search{
     background-color: var(--bg-input);
}

.document-toc {
    border: none !important;
    background-color: var(--bg) !important
}

.breadcrumbs li a.crumb-current-page:link, .breadcrumbs li a.crumb-current-page:visited{
    color: var(--fg)
}

.nav-main-item > a:focus,
.nav-main-item > a:hover,
table.compat-table td,
.newsletter-box,
.toc,
.text-content .card-grid > li,
.communitybox,
.overheadIndicator,
.subnav .toggleable.current,
.subnav > ol > li.current,
.text-content table.standard-table:not(.learn-box):not(.nostripe) tr:nth-child(2n+1) td,
.moreinfo,
.text-content .learn-box,
#nav-sec > ul > li > a:hover,
#nav-sec > ul > li > a:focus,
.home-hacks,
.light h2,
.dark h2,
.dashboard-table tbody tr:hover,
.callout-box,
.text-content table.fullwidth-table th,
.revision-list li:nth-child(2n+1) {
    background-color: var(--bg-odd)
}

button,
.text-content article[id="wikiArticle"] > .summary + h2,
.zone-subnav-container,
.subnav .toggle-container .toggleable,
button.logout.button {
    background-color: transparent
}
.text-content h3.highlight-spanned code {
    background-color: transparent !important
}

input[type="search"],
.reviews button,
select,
.button,
.htab > ul > li,
.htab > ul > li a,
input[type="email"],
button.neutral,
textarea,
.button.neutral,
input[type="text"],
.search-form > input#home-q,
.search-form > input#search-q {
    background-color: var(--bg-input);
    color: var(--fg-input)
}
input[type="search"]:focus,
.reviews button:hover,
select:hover,
.button:hover,
.htab > div,
.login > a:hover,
.login > a:focus,
button.neutral:hover,
textarea:focus,
button:hover,
input[type="text"]:focus {
    background-color: var(--bg-input);
    color: var(--fg-input-hover)
}

.htab > ul > li {
    background-color: var(--bg-input) !important;
    color: var(--fg-input) !important
}
.htab > ul > li.selected,
.htab > ul > li.selected a {
    background-color: var(--bg-input-hover) !important;
    color: var(--fg-input-hover) !important
}
.htab > ul > li,
:not(pre) > * > code {
    background-color: transparent !important
}

/* Foreground Colors */
html,
body,
main,
button,
.crumbs span::after,
.quick-links .toggleable > a i[class^="icon-"],
.quick-links .toggleable > a,
.toggler i[class^="icon-"],
#wikiArticle i.icon-thumbs-down-alt,
.light h2,
.dark h2,
.subnav .toggle-container .toggleable .toggler,
.bc-table .bc-history,
.bc-supports-unknown {
    color: var(--fg)
}

.spec-Living,
.title,
.user-since,
summary,
.quick-links .toggle summary {
    color: var(--fg-2)
}

.contributors {
    color: var(--fg-muted)
}
*[style="color: #888;"] {
    color: var(--fg-muted) !important
}

.spec-CR {
    color: #4af
}
.login > a:link,
.toolbox > ul > li > a {
    color: #fff
}

html:not(.no-js) .nav-main-item > a,
a:hover,
:not(pre) > * > a code,
a,
a:link,
.nav-footer a:link,
.button.link,
.result-list .column-1 {
    color: var(--fg-link)
}

html:not(.no-js) .nav-main-item > a:hover,
:not(pre) > * > a:hover code,
.toc-links a:focus,
.toc-links a:hover,
.button.link:hover,
.search-results-filters label:hover .filter-name {
    color: var(--fg-link-hover)
}

a:visited {
    color: var(--fg-link-visited)
}
.quick-links a.new,
article a.new {
    color: #c00
}


/* Syntax Highlighting and Code colors */
.CodeMirror {
    background-color: var(--syntax-bg);
}
.CodeMirror-gutters,
:not(pre) > * > code,
pre.syntaxbox,
.text-content pre[class*="language-"],
pre[class*="language-"],
.text-content pre,
.text-content h3.highlight-spanned,
.text-content h3 .highlight-span,
.text-content .properties,
.htmlVer,
.inlineIndicator,
kbd {
    background-color: var(--syntax-bg-2);
    color: var(--syntax-fg);
    font-family: var(--syntax-font-family)
}
.CodeMirror,
.text-content code[class*="language-"],
pre[class*="language-"],
code[class=" language-css"] {
    color: var(--syntax-fg)
}
.CodeMirror-linenumber {
    color: var(--fg-muted)
}
.cm-s-default .cm-property,
.token.selector,
.token.tag,
.token.operator,
.token.punctuation {
    color: var(--syntax-builtin)
}
.cm-s-default .cm-def,
.token.function,
.token.attr-name,
.token.function {
    color: var(--syntax-function)
}
.cm-s-default .cm-keyword,
.token.property,
.token.keyword {
    color: var(--syntax-keyword)
}
.cm-s-default .cm-string,
.cm-s-default .cm-string-2,
.token.regex,
.token.url,
.token.string,
.token.attr-value {
    color: var(--syntax-string)
}
.cm-s-default .cm-comment,
.token.comment {
    color: var(--syntax-comment)
}
.cm-s-default .cm-number,
.token.number {
    color: var(--syntax-number)
}

.token.url {
    background-color: rgba(255, 255, 255, 0.1)
}

.text-content pre[class*="language-"].example-bad {
    background-color: rgba(100, 50, 50, 0.3)
}

/* "Special" background + foreground combinations */
.subnav > ol > li > a:hover,
ul.tags li,
ul.tags li a,
ul.tags a,
td[tabindex]:hover .bc-history-link,
td[tabindex]:focus .bc-history-link {
    background-color: var(--fg-link);
    color: var(--bg)
}

.spec-REC::before {
    background-color: #3f3;
    color: #fff
}
.spec-REC {
    color: #3f3
}
.spec-CR::before {
    background-color: #4af;
    color: #fff
}
.spec-CR {
    color: #4af
}
.spec-Living::before {
    background-color: #08f;
    color: #fff
}
.spec-Living {
    color: #4af
}
.spec-WD::before {
    background-color: #8af;
    color: #fff
}
.spec-WD {
    color: #8af
}
.spec-Standard::before {
    background-color: #4af;
    color: #fff
}
.spec-Standard {
    color: #4af
}
.spec-Draft::before {
    background-color: #f80;
    color: #000
}
.spec-Draft {
    color: #f80
}
.callout-newsletter,
.notification.info,
.communitymailinglist a,
.notification.info .notification-img i,
.spec-RC::before,
.spec-ED::before,
.spec-PR::before,
.spec-RC::before,
.spec-RFC::before {
    background-color: var(--bg-info);
    color: var(--fg-info)
}

.warning {
    background-color: var(--bg-error);
    color: var(--fg-error)
}

mark,
.reviews,
.draft,
.privilegedBadge,
.renamed,
.secureContexts,
.todo,
.translationInProgress,
.warning.warning-review {
    background-color: var(--bg-warning);
    color: var(--fg-warning)
}
.reviews a,
.draft a,
.privilegedBadge a,
.renamed a,
.secureContexts a,
.todo a,
.translationInProgress a,
.warning.warning-review a {
    color: var(--fg-warning);
    text-decoration: underline
}

/* Compatibility table */
*[style*="background-color: rgb(204, 255, 153)"],
span[style*="background: #309c40"] {
    background-color: #3a3 !important
}
*[style*="background-color: rgb(255, 204, 204)"] {
    background-color: #a33 !important
}
*[style*="background-color: rgb(255, 255, 153)"] {
    background-color: #993 !important
}


/* Borders */
.callout-box,
#main-header,
ul.tags li,
.text-content table {
    border: none
}
.communitycontact a {
    border-color: var(--fg-link)
}
.communitycontact a:hover,
.communitycontact a:focus {
    border-color: var(--fg-link-hover)
}
.text-content article[id="wikiArticle"] > div:not([class]) > h2::before,
.text-content article[id="wikiArticle"] > h2::before,
.text-content table.standard-table:not(.learn-box),
.text-content table,
.text-content table.standard-table:not(.learn-box) th,
.text-content table.standard-table:not(.learn-box) td,
.text-content th,
.text-content td,
input[type="email"],
.submenu,
button,
.crumbs,
select,
.subnav > ol > li > a,
.subnav .toggler,
.text-content table.standard-table:not(.learn-box) td.header,
#main-q,
.home-hacks li,
input[type="search"],
.home-contribute li,
body .topicpage-table .section,
.zone-parent,
.summary,
input[type="text"],
.output,
.interactive,
.text-content table.fullwidth-table th,
.text-content table.fullwidth-table td,
kbd {
    border-color: var(--border-color)
}

kbd,
a.button:focus,
button.logout,
button.transparent,
.notification.info button,
button:active,
.news letter button {
    box-shadow: none
}


/* Navigation buttons on some articles/tutorials */
span[style*="background: #eaeff2"] {
    background-color: var(--bg-input) !important;
    border: solid 0.5px var(--border-color);
    color: var(--fg-input) !important;
    box-shadow: 0 2px 3px 1px rgba(0, 0, 0, 0.9) !important;
}
span[style*="background: #eaeff2"]:hover {
    background-color: var(--bg-input-hover) !important;
    color: var(--fg-input-hover) !important;
}
span[style*="background: #eaeff2"]:active {
    box-shadow: none !important;
}

/* Inverting Images */
.logo,
.login-photo.avatar,
header h4::before,
.blockIndicator::before,
.geckoVersionNote::before,
.inheritsbox::before,
.note::before,
.notice::before,
.overheadIndicator::before,
.standardNoteBlock::before,
.warning::before,
html[dir="ltr"] .external-icon:not([href^="https://mdn.mozillademos.org"]):not(.ignore-external)::before,
html[dir="rtl"] .external-icon:not([href^="https://mdn.mozillademos.org"]):not(.ignore-external)::after {
    filter: invert(100%)
}

.bc-browsers .bc-head-txt-label::before,
i[class^="ic-"]::before,
.bc-platforms th::before,
.crumbs span::after {
    filter: invert(100%)
}

#main-q {
    padding-left: 5px
}
#close-header-search {
    margin-top: 10px
}

.bc-supports-yes {
    background-color: #181;
    color: #fff
}
.bc-supports-no,
.nonStandard {
    background-color: #f338;
    color: #fff
}

#wikiArticle i.icon-beaker {
    color: #4af
}

.dropdown-container .dropdown-menu-label {
    color: var(--fg)
}

.titlebar-container .title {
    color: var(--syntax-fg)
}
}